ARM GAS  /tmp/ccHWpE7O.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f1xx_hal_spi.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.SPI_AbortRx_ISR,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	SPI_AbortRx_ISR:
  24              	.LFB120:
  25              		.file 1 "drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c"
   1:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
   2:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
   3:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @file    stm32f1xx_hal_spi.c
   4:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @author  MCD Application Team
   5:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @version V1.1.1
   6:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @date    12-May-2017
   7:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   8:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *          This file provides firmware functions to manage the following
   9:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
  10:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Initialization and de-initialization functions
  11:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + IO operation functions
  12:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Peripheral Control functions
  13:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Peripheral State functions
  14:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
  15:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   @verbatim
  16:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
  17:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                         ##### How to use this driver #####
  18:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
  19:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]
  20:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  21:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  22:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
  23:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SPI_HandleTypeDef  hspi;
  24:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  25:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit() API:
  26:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Enable the SPIx interface clock
  27:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) SPI pins configuration
  28:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs
  29:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  30:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  31:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  32:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
  33:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
ARM GAS  /tmp/ccHWpE7O.s 			page 2


  34:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive Channe
  35:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the DMAx clock
  36:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the DMA handle parameters 
  37:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx Channel
  38:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Associate the initilalized hdma_tx(or _rx) handle to the hspi DMA Tx (or Rx) ha
  39:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  40:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  41:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Program the Mode, BidirectionalMode , Data size, Baudrate Prescaler, NSS
  42:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  43:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  44:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  45:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  46:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  47:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
  48:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Circular mode restriction:
  49:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  50:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  51:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Master 1Line Rx
  52:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  53:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs
  54:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  55:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
  56:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Master Receive mode restriction:
  57:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) In Master unidirectional receive-only mode (MSTR =1, BIDIMODE=0, RXONLY=0) or
  58:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           bidirectional receive mode (MSTR=1, BIDIMODE=1, BIDIOE=0), to ensure that the SPI
  59:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           does not initiate a new transfer the following procedure has to be respected:
  60:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) HAL_SPI_DeInit()
  61:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) HAL_SPI_Init()
  62:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  63:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   @endverbatim
  64:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  65:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     Using the HAL it is not possible to reach all supported SPI frequency with the differents SPI M
  66:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     the following tables resume the max SPI frequency reached with data size 8bits/16bits,
  67:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     according to frequency used on APBx Peripheral Clock (fPCLK) used by the SPI instance :
  68:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     
  69:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    DataSize = SPI_DATASIZE_8BIT:
  70:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    +-----------------------------------------------------------------------------------------------
  71:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |                | 2Lines Fullduplex     |     2Lines RxOnly     |        1Line       
  72:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    | Process | Tranfert mode  |-----------------------|-----------------------|--------------------
  73:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |                |  Master   |  Slave    |  Master   |  Slave    |  Master   |  Slave 
  74:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |===============================================================================================
  75:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    T    |     Polling    |  fPCLK/2  | fPCLK/16  |    NA     |    NA     |    NA     |    NA  
  76:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    X    |----------------|-----------|-----------|-----------|-----------|-----------|--------
  77:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    /    |     Interrupt  |  fPCLK/8  | fPCLK/32  |    NA     |    NA     |    NA     |    NA  
  78:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    R    |----------------|-----------|-----------|-----------|-----------|-----------|--------
  79:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    X    |       DMA      |  fPCLK/2  | fPCLK/4   |    NA     |    NA     |    NA     |    NA  
  80:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |=========|================|===========|===========|===========|===========|===========|========
  81:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |     Polling    |  fPCLK/4  | fPCLK/8   | fPCLK/8   | fPCLK/16  | fPCLK/64  | fPCLK/2
  82:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |----------------|-----------|-----------|-----------|-----------|-----------|--------
  83:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    R    |     Interrupt  |  fPCLK/8  | fPCLK/16  | fPCLK/32  | fPCLK/16  | fPCLK/64  | fPCLK/4
  84:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    X    |----------------|-----------|-----------|-----------|-----------|-----------|--------
  85:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |       DMA      |  fPCLK/2  | fPCLK/16  | fPCLK/8   | fPCLK/16  | fPCLK/64  | fPCLK/2
  86:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |=========|================|===========|===========|===========|===========|===========|========
  87:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |     Polling    |  fPCLK/2  |  fPCLK/2  |    NA     |    NA     |  fPCLK/2  | fPCLK/3
  88:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |----------------|-----------|-----------|-----------|-----------|-----------|--------
  89:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    T    |     Interrupt  |  fPCLK/8  | fPCLK/16  |    NA     |    NA     |  fPCLK/2  | fPCLK/6
  90:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    X    |----------------|-----------|-----------|-----------|-----------|-----------|--------
ARM GAS  /tmp/ccHWpE7O.s 			page 3


  91:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |       DMA      |  fPCLK/2  |  fPCLK/4  |    NA     |    NA     |  fPCLK/2  | fPCLK/3
  92:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    +-----------------------------------------------------------------------------------------------
  93:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  94:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    DataSize = SPI_DATASIZE_16BIT:
  95:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    +-----------------------------------------------------------------------------------------------
  96:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |                | 2Lines Fullduplex     |     2Lines RxOnly     |        1Line       
  97:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    | Process | Tranfert mode  |-----------------------|-----------------------|--------------------
  98:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |                |  Master   |  Slave    |  Master   |  Slave    |  Master   |  Slave 
  99:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |===============================================================================================
 100:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    T    |     Polling    |  fPCLK/4  | fPCLK/4   |    NA     |    NA     |    NA     |    NA  
 101:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    X    |----------------|-----------|-----------|-----------|-----------|-----------|--------
 102:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    /    |     Interrupt  |  fPCLK/8  | fPCLK/16  |    NA     |    NA     |    NA     |    NA  
 103:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    R    |----------------|-----------|-----------|-----------|-----------|-----------|--------
 104:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    X    |       DMA      |  fPCLK/2  | fPCLK/4   |    NA     |    NA     |    NA     |    NA  
 105:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |=========|================|===========|===========|===========|===========|===========|========
 106:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |     Polling    |  fPCLK/4  |  fPCLK/8  | fPCLK/4   | fPCLK/8   | fPCLK/64  | fPCLK/2
 107:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |----------------|-----------|-----------|-----------|-----------|-----------|--------
 108:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    R    |     Interrupt  |  fPCLK/8  |  fPCLK/8  | fPCLK/128 | fPCLK/8   | fPCLK/128 | fPCLK/4
 109:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    X    |----------------|-----------|-----------|-----------|-----------|-----------|--------
 110:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |       DMA      |  fPCLK/2  |  fPCLK/2  | fPCLK/128 | fPCLK/16  | fPCLK/64  | fPCLK/2
 111:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |=========|================|===========|===========|===========|===========|===========|========
 112:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |     Polling    |  fPCLK/2  |  fPCLK/4  |    NA     |    NA     |  fPCLK/4  | fPCLK/8
 113:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |----------------|-----------|-----------|-----------|-----------|-----------|--------
 114:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    T    |     Interrupt  |  fPCLK/4  |  fPCLK/8  |    NA     |    NA     |  fPCLK/4  | fPCLK/4
 115:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |    X    |----------------|-----------|-----------|-----------|-----------|-----------|--------
 116:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    |         |       DMA      |  fPCLK/2  |  fPCLK/2  |    NA     |    NA     |  fPCLK/4  | fPCLK/8
 117:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    +-----------------------------------------------------------------------------------------------
 118:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
 119:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        (@) The max SPI frequency depend on SPI data size (8bits, 16bits),
 120:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****            SPI mode(2 Lines fullduplex, 2 lines RxOnly, 1 line TX/RX) and Process mode (Polling, IT
 121:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        (@)
 122:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (+@) TX/RX processes are HAL_SPI_TransmitReceive(), HAL_SPI_TransmitReceive_IT() and HA
 123:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (+@) RX processes are HAL_SPI_Receive(), HAL_SPI_Receive_IT() and HAL_SPI_Receive_DMA()
 124:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (+@) TX processes are HAL_SPI_Transmit(), HAL_SPI_Transmit_IT() and HAL_SPI_Transmit_DM
 125:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
 126:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @attention
 127:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
 128:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * <h2><center>&copy; COPYRIGHT(c) 2017 STMicroelectronics</center></h2>
 129:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
 130:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * Redistribution and use in source and binary forms, with or without modification,
 131:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * are permitted provided that the following conditions are met:
 132:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *   1. Redistributions of source code must retain the above copyright notice,
 133:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *      this list of conditions and the following disclaimer.
 134:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
 135:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *      this list of conditions and the following disclaimer in the documentation
 136:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *      and/or other materials provided with the distribution.
 137:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
 138:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *      may be used to endorse or promote products derived from this software
 139:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *      without specific prior written permission.
 140:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
 141:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 142:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 143:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 144:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 145:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 146:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 147:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
ARM GAS  /tmp/ccHWpE7O.s 			page 4


 148:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 149:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 150:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 151:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
 152:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
 153:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 154:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 155:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
 156:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #include "stm32f1xx_hal.h"
 157:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 158:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @addtogroup STM32F1xx_HAL_Driver
 159:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 160:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 161:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI SPI
 162:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief SPI HAL module driver
 163:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 164:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 165:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 166:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 167:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 168:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private defines -----------------------------------------------------------*/
 169:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Private_Constants SPI Private Constants
 170:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 171:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 172:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #define SPI_DEFAULT_TIMEOUT 100U
 173:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 174:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 175:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 176:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 177:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private macros ------------------------------------------------------------*/
 178:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 179:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 180:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
 181:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 182:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 183:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 184:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 185:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 186:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 187:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 188:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 189:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 190:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma);
 191:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma);
 192:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma);
 193:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, uint
 194:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 195:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 196:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 197:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 198:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 199:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 200:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 201:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 202:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 203:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 204:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
ARM GAS  /tmp/ccHWpE7O.s 			page 5


 205:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 206:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 207:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 208:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi);
 209:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi);
 210:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi);
 211:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi);
 212:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi);
 213:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_CheckFlag_BSY(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t Tick
 214:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 215:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 216:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 217:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 218:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 219:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 220:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 221:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 222:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 223:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions
 224:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  @brief    Initialization and Configuration functions
 225:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *
 226:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
 227:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 228:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 229:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 230:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and
 231:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 232:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 233:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures
 234:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 235:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 236:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with
 237:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           the selected configuration:
 238:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Mode
 239:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Direction
 240:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Data Size
 241:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Clock Polarity and Phase
 242:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) NSS Management
 243:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) BaudRate Prescaler
 244:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) FirstBit
 245:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) TIMode
 246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) CRC Calculation
 247:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 248:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 249:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration
 250:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           of the selected SPIx peripheral.
 251:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 252:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
 253:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 254:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 255:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 256:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 257:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Initialize the SPI according to the specified parameters
 258:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         in the SPI_InitTypeDef and initialize the associated handle.
 259:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 260:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 261:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
ARM GAS  /tmp/ccHWpE7O.s 			page 6


 262:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 263:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 264:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 265:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 266:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi == NULL)
 267:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 268:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 269:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 270:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 271:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the parameters */
 272:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 273:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 274:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 275:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 276:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 277:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 278:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 279:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 280:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 281:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 282:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 283:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 284:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 285:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 286:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 287:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 288:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
 289:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 290:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 291:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 292:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_RESET)
 293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 294:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
 295:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
 296:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 297:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 298:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
 299:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 300:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 301:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 302:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 303:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 304:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 305:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 306:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 307:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Data size, Clock polarity and phase, NSS management,
 308:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR1, (hspi->Init.Mode | hspi->Init.Direction | hspi->Init.DataSize |
 310:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & 
 311:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   hspi->Init.BaudRatePrescaler | hspi->Init.FirstBit  | hspi->Init.
 312:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 313:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : NSS management */
 314:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR2, (((hspi->Init.NSS >> 16U) & SPI_CR2_SSOE) | hspi->Init.TIMode));
 315:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 316:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 317:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 318:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : CRC Polynomial */
ARM GAS  /tmp/ccHWpE7O.s 			page 7


 319:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 320:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 321:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     WRITE_REG(hspi->Instance->CRCPR, hspi->Init.CRCPolynomial);
 322:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 323:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 324:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 325:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if defined(SPI_I2SCFGR_I2SMOD)
 326:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 327:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->I2SCFGR, SPI_I2SCFGR_I2SMOD);
 328:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 329:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 330:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 332:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 333:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
 334:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 335:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 336:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 337:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  De Initialize the SPI peripheral.
 338:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 339:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 340:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 341:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 342:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 343:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 344:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 345:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi == NULL)
 346:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 347:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 348:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 349:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 350:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check SPI Instance parameter */
 351:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 352:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 353:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 354:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 355:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 356:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 357:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 358:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 359:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 360:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 361:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 362:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 363:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 364:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Release Lock */
 365:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 366:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 367:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
 368:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 369:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 370:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 371:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Initialize the SPI MSP.
 372:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 373:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 374:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
 375:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
ARM GAS  /tmp/ccHWpE7O.s 			page 8


 376:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 377:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 378:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 379:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
 380:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 381:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_MspInit should be implemented in the user file
 382:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 383:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 384:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 385:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  De-Initialize the SPI MSP.
 387:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 388:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 389:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
 390:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 391:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 392:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 393:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 394:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
 395:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 396:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_MspDeInit should be implemented in the user file
 397:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 398:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 399:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 400:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 401:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 402:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 403:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 404:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 405:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  @brief   Data transfers functions
 406:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *
 407:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
 408:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
 409:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                       ##### IO operation functions #####
 410:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 411:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  [..]
 412:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 413:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     data transfers.
 414:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 415:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 416:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 417:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     (#) There are two modes of transfer:
 418:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 419:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 420:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             after finishing transfer.
 421:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 422:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             or DMA, These APIs return the HAL status.
 423:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The end of the data processing will be indicated through the
 424:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when
 425:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             using DMA mode.
 426:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() u
 427:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             will be executed respectively at the end of the transmit or Receive process
 428:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is
 429:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 430:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
 431:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 432:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 9


 433:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
 434:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 435:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 436:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 437:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 438:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode.
 439:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 440:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 441:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData: pointer to data buffer
 442:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be sent
 443:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout: Timeout duration
 444:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 445:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 446:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t
 447:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 448:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 449:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 450:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 451:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
 452:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 453:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 454:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 455:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 456:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 457:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 458:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
 459:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 460:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
 461:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 462:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
 463:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 464:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 465:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 466:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pData == NULL ) || (Size == 0U))
 467:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 468:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
 469:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 470:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 471:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 472:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
 473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 474:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 475:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 476:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 477:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 478:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 479:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
 480:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 481:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 482:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 483:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 484:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 485:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 486:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
 487:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 488:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 489:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
ARM GAS  /tmp/ccHWpE7O.s 			page 10


 490:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 491:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 493:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
 494:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 495:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 496:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 497:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 498:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 499:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 500:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 501:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 502:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 503:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
 504:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 505:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 506:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 507:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 508:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 509:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 510:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01))
 511:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 512:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)pData);
 513:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       pData += sizeof(uint16_t);
 514:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 515:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 516:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 517:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 518:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 519:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 520:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 521:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->Instance->DR = *((uint16_t *)pData);
 523:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           pData += sizeof(uint16_t);
 524:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->TxXferCount--;
 525:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 526:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 527:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 528:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
 529:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if((Timeout == 0U) || ((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout
 530:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 531:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 532:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           goto error;
 533:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 534:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 535:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 536:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 537:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
 538:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 539:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 540:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_SLAVE)|| (hspi->TxXferCount == 0x01))
 541:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 542:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((__IO uint8_t*)&hspi->Instance->DR) = (*pData);
 543:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       pData += sizeof(uint8_t);
 544:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 545:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
ARM GAS  /tmp/ccHWpE7O.s 			page 11


 547:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 548:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 549:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 550:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 551:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((__IO uint8_t*)&hspi->Instance->DR) = (*pData);
 552:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pData += sizeof(uint8_t);
 553:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 554:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 555:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 556:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 557:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
 558:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if((Timeout == 0U) || ((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout
 559:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 560:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 561:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           goto error;
 562:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 563:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 564:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 565:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 566:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 567:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag */
 568:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_TXE, SET, Timeout, tickstart) != HAL_OK)
 569:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 570:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_TIMEOUT;
 571:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 572:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 573:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 574:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Busy flag */
 575:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(SPI_CheckFlag_BSY(hspi, Timeout, tickstart) != HAL_OK)
 576:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 577:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
 578:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 579:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 580:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 581:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 582:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
 583:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
 584:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 585:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 586:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 587:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 588:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
 589:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 590:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 591:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 592:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 593:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 594:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 595:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 596:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 597:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
 598:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 599:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 600:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error:
 601:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 602:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 603:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
ARM GAS  /tmp/ccHWpE7O.s 			page 12


 604:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 605:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 606:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 607:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 608:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode.
 609:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 610:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 611:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData: pointer to data buffer
 612:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be received
 613:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout: Timeout duration
 614:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 615:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
 617:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 618:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 619:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
 620:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 621:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 622:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 623:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 624:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 625:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 626:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      hspi->State = HAL_SPI_STATE_BUSY_RX;
 627:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
 628:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_SPI_TransmitReceive(hspi,pData,pData,Size,Timeout);
 629:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 630:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 631:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 632:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 633:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 634:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 635:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
 636:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 637:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
 638:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 639:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
 640:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 641:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 642:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 643:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pData == NULL ) || (Size == 0U))
 644:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 645:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
 646:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 647:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 648:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 649:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
 650:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 651:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 652:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 653:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 654:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 655:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 656:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
 657:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
 658:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 659:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 660:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
ARM GAS  /tmp/ccHWpE7O.s 			page 13


 661:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 662:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 663:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 664:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
 665:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 666:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 667:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 668:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
 669:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount--;
 670:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 671:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 672:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 673:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction: 1Line */
 674:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
 675:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 676:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 677:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 678:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 679:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 680:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 681:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 682:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
 683:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 684:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 685:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 686:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Receive data in 8 Bit mode */
 687:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_8BIT)
 688:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 689:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transfer loop */
 690:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while(hspi->RxXferCount > 0U)
 691:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 692:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check the RXNE flag */
 693:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
 694:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 695:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* read the received data */
 696:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (* (uint8_t *)pData)= *(__IO uint8_t *)&hspi->Instance->DR;
 697:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pData += sizeof(uint8_t);
 698:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 699:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 700:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 701:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 702:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
 703:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if((Timeout == 0U) || ((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout
 704:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 705:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 706:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           goto error;
 707:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 708:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 709:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 710:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 711:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 712:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 713:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transfer loop */
 714:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while(hspi->RxXferCount > 0U)
 715:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 716:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check the RXNE flag */
 717:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
ARM GAS  /tmp/ccHWpE7O.s 			page 14


 718:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 719:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((uint16_t*)pData) = hspi->Instance->DR;
 720:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pData += sizeof(uint16_t);
 721:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 722:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 723:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 724:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 725:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
 726:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if((Timeout == 0U) || ((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout
 727:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 728:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 729:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           goto error;
 730:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 731:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 732:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 733:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 734:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 735:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 736:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Handle the CRC Transmission */
 737:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 738:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 739:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* freeze the CRC before the latest data */
 740:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 741:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 742:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read the latest data */
 743:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 744:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 745:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* the latest data has not been received */
 746:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 747:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       goto error;
 748:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 749:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 750:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
 751:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 752:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 753:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((uint16_t*)pData) = hspi->Instance->DR;
 754:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 755:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
 756:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
 757:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 758:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (*(uint8_t *)pData) = *(__IO uint8_t *)&hspi->Instance->DR;
 759:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 760:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 761:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait the CRC data */
 762:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 763:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 764:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 765:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 766:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       goto error;
 767:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 768:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 769:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read CRC to Flush DR and RXNE flag */
 770:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     tmpreg = hspi->Instance->DR;
 771:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* To avoid GCC warning */
 772:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     UNUSED(tmpreg);
 773:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 774:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
ARM GAS  /tmp/ccHWpE7O.s 			page 15


 775:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 776:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
 777:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi->I
 778:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 779:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI peripheral */
 780:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 781:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 782:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 783:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 784:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error occurred */
 785:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
 786:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 787:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check if CRC error is valid or not (workaround to be applied or not) */
 788:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
 789:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 790:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 791:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 792:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
 793:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
 794:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 795:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 796:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 797:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 798:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 799:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 800:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 801:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 802:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 803:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 804:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
 805:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 806:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 807:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error :
 808:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 809:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 810:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 811:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 812:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 813:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 814:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode.
 815:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
 816:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 817:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData: pointer to transmission data buffer
 818:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData: pointer to reception data buffer
 819:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be sent and received
 820:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout: Timeout duration
 821:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 822:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 823:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pRxDa
 824:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 825:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 826:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 827:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint16_t tmpreg1 = 0U;
 828:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 829:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 830:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Variable used to alternate Rx and Tx during transfer */
 831:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t txallowed = 1U;
ARM GAS  /tmp/ccHWpE7O.s 			page 16


 832:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 833:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 834:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
 835:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
 836:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 837:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 838:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 839:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 840:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 841:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
 842:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 843:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp  = hspi->State;
 844:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 845:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 846:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(!((tmp == HAL_SPI_STATE_READY) || \
 847:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_SPI
 848:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 849:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
 850:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 851:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 852:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 853:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
 854:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 855:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
 856:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 857:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 858:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 859:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
 860:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
 861:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 862:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 863:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 864:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 865:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
 866:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 867:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 868:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 869:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 870:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 871:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 872:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 873:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 874:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
 875:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 876:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 877:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 878:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 879:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
 880:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 881:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 882:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 883:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 884:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 885:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 886:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 887:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
 888:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccHWpE7O.s 			page 17


 889:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
 890:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 891:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 892:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 893:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit and Receive data in 16 Bit mode */
 894:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 895:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 896:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01U))
 897:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 898:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)pTxData);
 899:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       pTxData += sizeof(uint16_t);
 900:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 901:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 902:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
 903:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 904:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check TXE flag */
 905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(txallowed && (hspi->TxXferCount > 0U) && (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)))
 906:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 907:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)pTxData);
 908:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pTxData += sizeof(uint16_t);
 909:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 910:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */ 
 911:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 0U;
 912:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 913:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 914:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Enable CRC Transmission */
 915:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 916:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 918:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 919:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 920:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 921:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 922:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check RXNE flag */
 923:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if((hspi->RxXferCount > 0U) && (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)))
 924:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 925:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((uint16_t *)pRxData) = hspi->Instance->DR;
 926:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pRxData += sizeof(uint16_t);
 927:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 928:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */ 
 929:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 1U;
 930:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 931:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout))
 932:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 933:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
 934:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         goto error;
 935:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 936:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 937:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 938:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit and Receive data in 8 Bit mode */
 939:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 940:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 941:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_SLAVE) || (hspi->TxXferCount == 0x01U))
 942:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 943:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((__IO uint8_t*)&hspi->Instance->DR) = (*pTxData);
 944:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       pTxData += sizeof(uint8_t);
 945:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
ARM GAS  /tmp/ccHWpE7O.s 			page 18


 946:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 947:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
 948:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 949:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* check TXE flag */
 950:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(txallowed && (hspi->TxXferCount > 0U) && (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)))
 951:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 952:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *(__IO uint8_t *)&hspi->Instance->DR = (*pTxData++);
 953:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 954:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */ 
 955:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 0U;
 956:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 957:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 958:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Enable CRC Transmission */
 959:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 960:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 962:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 963:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 964:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 965:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 966:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until RXNE flag is reset */
 967:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if((hspi->RxXferCount > 0U) && (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)))
 968:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 969:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (*(uint8_t *)pRxData++) = hspi->Instance->DR;
 970:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 971:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */ 
 972:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 1U;
 973:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 974:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if((Timeout != HAL_MAX_DELAY) && ((HAL_GetTick()-tickstart) >=  Timeout))
 975:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 976:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
 977:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         goto error;
 978:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 979:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 980:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 982:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read CRC from DR to close CRC calculation process */
 984:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 985:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 986:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait until TXE flag */
 987:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 988:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 989:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Error on the CRC reception */
 990:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 991:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 992:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       goto error;
 993:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 994:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read CRC */
 995:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     tmpreg1 = hspi->Instance->DR;
 996:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* To avoid GCC warning */
 997:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     UNUSED(tmpreg1);
 998:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 999:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1000:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
1001:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
1002:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccHWpE7O.s 			page 19


1003:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
1004:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
1005:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1006:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1007:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1008:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
1009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1010:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1011:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    	  errorcode = HAL_ERROR;
1012:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1013:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1014:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1015:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1016:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1017:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1018:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1019:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1020:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag */
1021:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_TXE, SET, Timeout, tickstart) != HAL_OK)
1022:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1023:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_TIMEOUT;
1024:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1025:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1026:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
1027:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Busy flag */
1028:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(SPI_CheckFlag_BSY(hspi, Timeout, tickstart) != HAL_OK)
1029:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1030:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
1031:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1032:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1033:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1034:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1035:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
1036:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
1037:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1038:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
1039:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1040:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
1041:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error :
1042:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1043:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1044:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
1045:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1046:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1047:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1048:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with Interrupt.
1049:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1050:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1051:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData: pointer to data buffer
1052:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1053:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1054:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1055:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1056:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1057:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1058:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1059:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
ARM GAS  /tmp/ccHWpE7O.s 			page 20


1060:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1061:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1062:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1063:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1064:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1065:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pData == NULL) || (Size == 0U))
1066:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1067:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
1068:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1069:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1070:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1071:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
1072:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1073:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
1074:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1075:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1076:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1077:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1078:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1079:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1080:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
1081:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1082:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1083:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1084:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1085:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1087:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1088:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1089:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1090:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1091:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.DataSize > SPI_DATASIZE_8BIT )
1092:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1093:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_16BIT;
1094:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1095:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1096:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1097:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_8BIT;
1098:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1099:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1100:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1101:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
1102:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1103:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1104:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1105:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1106:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1107:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1108:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1109:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1110:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1111:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1112:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1113:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1114:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
1115:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1116:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable TXE interrupt */
ARM GAS  /tmp/ccHWpE7O.s 			page 21


1117:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE));
1118:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1119:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1120:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1121:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable TXE and ERR interrupt */
1122:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
1123:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1124:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1125:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1126:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1127:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1128:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1129:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1130:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1131:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1132:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error :
1133:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1134:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
1135:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1136:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1137:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1138:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with Interrupt.
1139:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1140:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1141:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData: pointer to data buffer
1142:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1143:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1144:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1145:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1146:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1147:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1148:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1149:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1150:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1151:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      hspi->State = HAL_SPI_STATE_BUSY_RX;
1152:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
1153:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
1154:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1155:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1156:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1157:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1158:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1159:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
1160:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1161:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
1162:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1163:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1164:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1165:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pData == NULL) || (Size == 0U))
1166:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1167:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
1168:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1169:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1170:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1171:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1172:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1173:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
ARM GAS  /tmp/ccHWpE7O.s 			page 22


1174:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1175:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1176:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1177:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1178:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1179:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
1180:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1181:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1182:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1183:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1184:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1185:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.DataSize > SPI_DATASIZE_8BIT )
1186:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1187:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
1188:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1189:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1190:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1191:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
1192:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1193:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1194:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1195:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
1196:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1197:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1198:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1199:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1200:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1201:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1202:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1203:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1204:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1205:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1206:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1207:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1208:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1209:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
1210:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1211:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Note : The SPI must be enabled after unlocking current process
1212:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             to avoid the risk of SPI interrupt handle execution before current
1213:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             process unlock */
1214:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1215:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1216:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1217:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1218:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1219:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1220:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1221:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1222:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error :
1223:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1224:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1225:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
1226:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1227:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1228:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1229:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with Interrupt.
1230:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
ARM GAS  /tmp/ccHWpE7O.s 			page 23


1231:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1232:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData: pointer to transmission data buffer
1233:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData: pointer to reception data buffer
1234:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be sent and received
1235:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1236:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1237:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pR
1238:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1239:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
1240:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1241:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1242:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1243:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1244:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1245:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
1246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1247:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1248:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp  = hspi->State;
1249:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
1250:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
1251:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(!((tmp == HAL_SPI_STATE_READY) || \
1252:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_SPI
1253:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1254:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
1255:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1256:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1257:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1258:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0U))
1259:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1260:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
1261:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1262:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1263:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1264:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1265:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
1266:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1267:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1268:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1269:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1270:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1271:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1272:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
1273:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1274:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1275:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1276:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1277:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1278:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1279:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1280:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.DataSize > SPI_DATASIZE_8BIT )
1281:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1282:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_16BIT;
1283:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
1284:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1285:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1286:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1287:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_8BIT;
ARM GAS  /tmp/ccHWpE7O.s 			page 24


1288:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
1289:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1290:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1291:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1292:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1294:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1295:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1296:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1297:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1298:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1299:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
1300:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
1301:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1302:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1303:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1304:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1305:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1306:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1307:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1308:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error :
1310:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1311:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1312:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
1313:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1314:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1315:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1316:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with DMA.
1317:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1318:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1319:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData: pointer to data buffer
1320:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1321:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1322:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1323:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1324:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1325:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1326:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1327:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1328:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1329:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1330:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1332:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1333:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
1334:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1335:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
1336:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1337:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1338:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1339:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pData == NULL) || (Size == 0U))
1340:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1341:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
1342:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1343:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1344:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 25


1345:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1346:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1347:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1348:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
1349:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1350:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1351:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1352:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1353:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1354:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1355:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1356:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1357:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1358:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1359:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1360:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
1361:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1362:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1363:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1364:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1365:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1366:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1367:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1368:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1369:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1370:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1371:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1372:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1373:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI TxDMA Half transfer complete callback */
1374:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
1375:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1376:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI TxDMA transfer complete callback */
1377:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
1378:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1379:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1380:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback = SPI_DMAError;
1381:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1382:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1383:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
1384:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1385:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Tx DMA Stream */
1386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi->T
1387:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1388:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1389:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1390:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1391:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1392:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1393:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1394:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1395:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1396:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
1397:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1398:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Tx DMA Request */
1399:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
1400:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1401:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error :
ARM GAS  /tmp/ccHWpE7O.s 			page 26


1402:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1403:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1404:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
1405:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1406:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1407:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1408:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with DMA.
1409:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1410:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1411:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData: pointer to data buffer
1412:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pData Length must be Size + 1.
1413:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1414:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1415:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1416:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1417:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1418:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1419:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1420:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Init.Direction == SPI_DIRECTION_2LINES)&&(hspi->Init.Mode == SPI_MODE_MASTER))
1421:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1422:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      hspi->State = HAL_SPI_STATE_BUSY_RX;
1423:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
1424:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
1425:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1426:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1427:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1428:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1429:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1430:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State != HAL_SPI_STATE_READY)
1431:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1432:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
1433:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1434:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1435:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1436:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pData == NULL) || (Size == 0U))
1437:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1438:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
1439:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1440:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1441:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1442:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1443:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1444:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1445:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1446:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1447:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1448:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1449:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
1450:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1451:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1452:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1453:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1454:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1455:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1456:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_1LINE)
1457:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1458:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
ARM GAS  /tmp/ccHWpE7O.s 			page 27


1459:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1460:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1461:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1462:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1463:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1464:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1465:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1466:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1467:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1468:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1469:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI RxDMA Half transfer complete callback */
1470:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1471:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1472:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI Rx DMA transfer complete callback */
1473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
1474:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1475:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1476:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1477:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1478:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  /* Set the DMA AbortCpltCallback */
1479:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
1480:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1481:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Rx DMA Stream */
1482:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBuffPtr, hspi->R
1483:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1484:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1485:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1486:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1487:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1488:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1489:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1490:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1491:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
1493:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1494:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Rx DMA Request */
1495:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
1496:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1497:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error:
1498:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1499:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1500:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
1501:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1502:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1503:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1504:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with DMA.
1505:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1506:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1507:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData: pointer to transmission data buffer
1508:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData: pointer to reception data buffer
1509:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pRxData Length must be Size + 1
1510:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size: amount of data to be sent
1511:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1512:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1513:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *p
1514:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1515:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
ARM GAS  /tmp/ccHWpE7O.s 			page 28


1516:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1517:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1518:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1519:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1520:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1521:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
1522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1523:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1524:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp  = hspi->State;
1525:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
1526:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(!((tmp == HAL_SPI_STATE_READY) ||
1527:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_S
1528:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1529:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_BUSY;
1530:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1531:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1532:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1533:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((pTxData == NULL ) || (pRxData == NULL ) || (Size == 0U))
1534:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1535:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
1536:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
1537:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1538:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1539:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1540:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_READY)
1541:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1542:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1543:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1544:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1545:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1547:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t*)pTxData;
1548:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1549:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1550:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t*)pRxData;
1551:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1552:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1553:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1554:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1555:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1556:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1557:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1558:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1559:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1560:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1561:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1562:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1563:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1564:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1565:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1566:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback *
1567:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->State == HAL_SPI_STATE_BUSY_RX)
1568:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1569:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set the SPI Rx DMA Half transfer complete callback */
1570:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1571:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
1572:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccHWpE7O.s 			page 29


1573:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1574:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1575:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set the SPI Tx/Rx DMA Half transfer complete callback */
1576:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
1577:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
1578:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1579:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1580:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1581:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1582:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1583:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1584:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
1585:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1586:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Rx DMA Stream */
1587:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBuffPtr, hspi->R
1588:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1589:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Rx DMA Request */
1590:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
1591:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1592:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
1593:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   is performed in DMA reception complete callback  */
1594:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = NULL;
1595:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
1596:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
1597:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
1598:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1599:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Tx DMA Stream */
1600:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instance->DR, hspi->T
1601:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1602:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1603:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->Instance->CR1 &SPI_CR1_SPE) != SPI_CR1_SPE)
1604:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1605:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1606:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1607:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1608:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1609:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
1610:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1611:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Tx DMA Request */
1612:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
1613:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1614:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** error :
1615:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1617:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
1618:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1619:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1620:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1621:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Abort ongoing transfer (blocking mode).
1622:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
1623:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
1624:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
1625:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         This procedure performs following operations :
1626:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
1627:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
1628:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)
1629:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Set handle State to READY
ARM GAS  /tmp/ccHWpE7O.s 			page 30


1630:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure is executed in blocking mode : when exiting function, Abort is considere
1631:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   Once transfer is aborted, the __HAL_SPI_CLEAR_OVRFLAG() macro must be called in user ap
1632:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         before starting new SPI receive process.
1633:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1634:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** */
1635:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort(SPI_HandleTypeDef *hspi)
1636:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1637:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
1638:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1639:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
1640:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
1641:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1642:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
1643:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1644:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1645:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
1646:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1647:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
1648:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1649:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1650:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear ERRIE interrupts in case of DMA Mode */
1651:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
1652:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1653:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx or SPI DMA Rx request if enabled */
1654:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN)) || (HAL_IS_BIT_SET(hspi->Instance->CR2
1655:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1656:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Tx channel : use blocking DMA Abort API (no callback) */  
1657:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->hdmatx != NULL)
1658:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1659:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
1660:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
1661:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
1662:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       
1663:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
1664:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_DMA_Abort(hspi->hdmatx);
1665:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1666:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable Tx DMA Request */
1667:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN));
1668:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1669:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set */
1670:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       do
1671:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1672:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if(count-- == 0U)
1673:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1674:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
1675:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           break;
1676:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1677:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1678:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);       
1679:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1680:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Rx channel : use blocking DMA Abort API (no callback) */
1681:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->hdmarx != NULL)
1682:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1683:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
1684:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
1685:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
1686:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       
ARM GAS  /tmp/ccHWpE7O.s 			page 31


1687:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
1688:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_DMA_Abort(hspi->hdmarx);
1689:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1690:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable peripheral */
1691:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi); 
1692:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1693:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable Rx DMA Request */
1694:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXDMAEN));
1695:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       
1696:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1697:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1698:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset Tx and Rx transfer counters */
1699:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1700:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1701:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1702:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset errorCode */
1703:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
1704:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1705:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
1706:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
1707:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1708:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->state to ready */
1709:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1710:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1711:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1712:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1713:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1714:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1715:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Abort ongoing transfer (Interrupt mode).
1716:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
1717:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
1718:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
1719:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         This procedure performs following operations :
1720:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
1721:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
1722:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)
1723:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Set handle State to READY
1724:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - At abort completion, call user abort complete callback
1725:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure is executed in Interrupt mode, meaning that abort procedure could be
1726:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         considered as completed only when user abort complete callback is executed (not when ex
1727:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   Once transfer is aborted, the __HAL_SPI_CLEAR_OVRFLAG() macro must be called in user ap
1728:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         before starting new SPI receive process.
1729:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1730:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** */
1731:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort_IT(SPI_HandleTypeDef *hspi)
1732:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1733:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t abortcplt;
1734:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1735:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */
1736:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
1737:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1738:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
1739:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1740:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1741:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
1742:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1743:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
ARM GAS  /tmp/ccHWpE7O.s 			page 32


1744:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1745:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1746:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear ERRIE interrupts in case of DMA Mode */
1747:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
1748:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1749:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   abortcplt = 1U;
1750:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
1751:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks sho
1752:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      before any call to DMA Abort functions */  
1753:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Tx Handle is valid */
1754:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->hdmatx != NULL)
1755:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1756:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Tx request if enabled.
1757:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Otherwise, set it to NULL */
1758:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
1759:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1760:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = SPI_DMATxAbortCallback;
1761:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1762:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1763:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1764:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
1765:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1766:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }  
1767:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Rx Handle is valid */
1768:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->hdmarx != NULL)
1769:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1770:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Rx request if enabled.
1771:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Otherwise, set it to NULL */
1772:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
1773:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1774:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = SPI_DMARxAbortCallback;
1775:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1776:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1777:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1778:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
1779:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1780:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1781:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1782:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx or the SPI Rx request if enabled */
1783:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN)) && (HAL_IS_BIT_SET(hspi->Instance->CR2,
1784:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1785:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Tx channel */
1786:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->hdmatx != NULL)
1787:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1788:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
1789:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
1790:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1791:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
1792:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1793:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1794:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1795:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 0U;
1796:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1797:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1798:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Rx channel */
1799:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->hdmarx != NULL)
1800:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/ccHWpE7O.s 			page 33


1801:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
1802:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(HAL_DMA_Abort_IT(hspi->hdmarx)!=  HAL_OK)
1803:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1804:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
1805:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 1U;
1806:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1807:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1808:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1809:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 0U;
1810:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1811:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1812:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1813:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1814:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx or the SPI Rx request if enabled */
1815:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
1816:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1817:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Tx channel */
1818:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->hdmatx != NULL)
1819:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1820:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
1821:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
1822:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1823:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
1824:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1825:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1826:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1827:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 0U;
1828:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1829:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1830:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1831:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx or the SPI Rx request if enabled */
1832:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
1833:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1834:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Rx channel */
1835:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->hdmarx != NULL)
1836:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1837:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
1838:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(HAL_DMA_Abort_IT(hspi->hdmarx)!=  HAL_OK)
1839:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1840:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
1841:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1842:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1843:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1844:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 0U;
1845:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1846:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1847:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1848:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1849:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(abortcplt == 1U)
1850:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1851:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Tx and Rx transfer counters */
1852:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
1853:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
1854:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1855:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset errorCode */
1856:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
1857:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 34


1858:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Clear the Error flags in the SR register */
1859:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
1860:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1861:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Restore hspi->State to Ready */
1862:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
1863:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1864:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* As no DMA to be aborted, call directly user Abort complete callback */
1865:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_AbortCpltCallback(hspi);
1866:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1867:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1868:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1869:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1870:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1871:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Pause the DMA Transfer.
1872:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1873:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
1874:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1875:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1876:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
1877:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1878:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1879:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1880:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1881:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
1882:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
1883:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1884:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1885:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1886:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1887:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1888:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1889:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1890:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1891:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Resume the DMA Transfer.
1892:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1893:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
1894:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1895:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1896:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
1897:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1898:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1899:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1900:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1901:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
1902:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
1903:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1904:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1906:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1907:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1908:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1909:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1910:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1911:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Stop the DMA Transfer.
1912:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1913:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
1914:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
ARM GAS  /tmp/ccHWpE7O.s 			page 35


1915:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1916:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
1917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1918:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
1919:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
1920:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
1921:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
1922:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      */
1923:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1924:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream */
1925:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->hdmatx != NULL)
1926:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1927:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_DMA_Abort(hspi->hdmatx);
1928:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1929:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream */
1930:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->hdmarx != NULL)
1931:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1932:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_DMA_Abort(hspi->hdmarx);
1933:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1934:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1935:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
1936:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
1937:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1938:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1939:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1940:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1941:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1942:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle SPI interrupt request.
1943:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
1944:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
1945:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
1946:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1947:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
1948:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1949:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
1950:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
1951:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1952:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in mode Receiver ----------------------------------------------------*/
1953:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(((itflag & SPI_FLAG_OVR) == RESET) &&
1954:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      ((itflag & SPI_FLAG_RXNE) != RESET) && ((itsource & SPI_IT_RXNE) != RESET))
1955:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1956:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR(hspi);
1957:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
1958:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1959:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1960:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in mode Transmitter -------------------------------------------------*/
1961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(((itflag & SPI_FLAG_TXE) != RESET) && ((itsource & SPI_IT_TXE) != RESET))
1962:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1963:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR(hspi);
1964:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
1965:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1966:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1967:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in Error Treatment --------------------------------------------------*/
1968:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(((itflag & (SPI_FLAG_MODF | SPI_FLAG_OVR)) != RESET) && ((itsource & SPI_IT_ERR) != RESET))
1969:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1970:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred ----------------------------------*/
1971:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if((itflag & SPI_FLAG_OVR) != RESET)
ARM GAS  /tmp/ccHWpE7O.s 			page 36


1972:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1973:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(hspi->State != HAL_SPI_STATE_BUSY_TX)
1974:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1975:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_OVR);
1976:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
1977:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1978:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1979:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1980:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
1981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
1982:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1984:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1985:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred -------------------------------*/
1986:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if((itflag & SPI_FLAG_MODF) != RESET)
1987:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1988:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_MODF);
1989:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
1990:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1991:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1992:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
1993:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1994:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable all interrupts */
1995:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE | SPI_IT_TXE | SPI_IT_ERR);
1996:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1997:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
1998:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
1999:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((HAL_IS_BIT_SET(itsource, SPI_CR2_TXDMAEN))||(HAL_IS_BIT_SET(itsource, SPI_CR2_RXDMAEN)))
2000:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2001:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN));
2002:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2003:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Abort the SPI DMA Rx channel */
2004:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if(hspi->hdmarx != NULL)
2005:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2006:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2007:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2008:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->hdmarx->XferAbortCallback = SPI_DMAAbortOnError;
2009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           HAL_DMA_Abort_IT(hspi->hdmarx);
2010:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2011:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Abort the SPI DMA Tx channel */
2012:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if(hspi->hdmatx != NULL)
2013:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2014:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2015:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2016:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->hdmatx->XferAbortCallback = SPI_DMAAbortOnError;
2017:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           HAL_DMA_Abort_IT(hspi->hdmatx);
2018:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2019:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2020:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2021:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2022:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user error callback */
2023:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
2024:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2025:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2026:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
2027:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2028:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
ARM GAS  /tmp/ccHWpE7O.s 			page 37


2029:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2030:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2031:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Tx Transfer completed callback.
2032:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2033:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2034:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2035:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2036:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
2037:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2038:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2039:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2040:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2041:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback should be implemented in the user file
2042:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2043:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2044:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2045:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2046:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Rx Transfer completed callback.
2047:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2048:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2049:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2050:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2051:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
2052:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2053:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2054:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2055:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2056:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback should be implemented in the user file
2057:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2058:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2059:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2060:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2061:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Tx and Rx Transfer completed callback.
2062:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2063:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2064:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2065:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2066:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
2067:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2068:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2069:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2070:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2071:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback should be implemented in the user file
2072:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2073:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2074:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2075:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2076:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Tx Half Transfer completed callback.
2077:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2078:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2079:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2080:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2081:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2082:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2083:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2084:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2085:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
ARM GAS  /tmp/ccHWpE7O.s 			page 38


2086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback should be implemented in the user file
2087:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2088:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2089:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2090:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2091:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Rx Half Transfer completed callback.
2092:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2093:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2094:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2095:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2096:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2097:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2098:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2099:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2100:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2101:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() should be implemented in the user file
2102:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2103:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2104:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2105:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2106:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Tx and Rx Half Transfer callback.
2107:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2108:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2109:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2110:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2111:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2112:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2113:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2114:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2115:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2116:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() should be implemented in the user file
2117:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2118:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2119:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2120:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2121:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief SPI error callback.
2122:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2123:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2124:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2125:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2126:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
2127:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2128:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2129:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2130:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2131:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_ErrorCallback should be implemented in the user file
2132:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2133:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes
2134:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred
2135:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2136:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2137:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2138:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2139:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  SPI Abort Complete callback.
2140:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
2141:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2142:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
ARM GAS  /tmp/ccHWpE7O.s 			page 39


2143:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_AbortCpltCallback(SPI_HandleTypeDef *hspi)
2144:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2145:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2146:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2147:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2148:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2149:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_AbortCpltCallback can be implemented in the user file.
2150:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2151:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2152:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2153:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2154:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2155:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2156:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2157:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions
2158:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   SPI control functions
2159:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
2160:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
2161:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
2162:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
2163:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
2164:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]
2165:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
2166:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
2167:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
2168:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
2169:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
2170:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2171:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2172:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2173:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Return the SPI handle state.
2174:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2175:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2176:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval SPI state
2177:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2178:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(SPI_HandleTypeDef *hspi)
2179:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2180:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI handle state */
2181:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return hspi->State;
2182:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2183:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2184:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2185:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Return the SPI error code.
2186:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2187:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2188:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval SPI error code in bitmap format
2189:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2190:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** uint32_t HAL_SPI_GetError(SPI_HandleTypeDef *hspi)
2191:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2192:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI ErrorCode */
2193:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return hspi->ErrorCode;
2194:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2195:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2196:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2197:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2198:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2199:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 40


2200:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2201:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2202:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2203:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2204:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
2205:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   Private functions
2206:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
2207:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2208:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2209:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2210:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief DMA SPI transmit process complete callback.
2211:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2212:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2213:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2214:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2215:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
2216:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2217:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2218:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
2219:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2220:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout managment*/
2221:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2222:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2223:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Normal Mode */
2224:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2225:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2226:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable Tx DMA Request */
2227:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
2228:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2229:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2230:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(SPI_CheckFlag_BSY(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2231:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2232:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2233:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2234:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2235:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received data is not read */
2236:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
2237:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2238:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
2239:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2240:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2241:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2242:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2243:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2244:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2245:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2247:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2248:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2249:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2250:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxCpltCallback(hspi);
2251:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2252:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2253:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2254:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief DMA SPI receive process complete callback.
2255:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2256:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
ARM GAS  /tmp/ccHWpE7O.s 			page 41


2257:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2258:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2259:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
2260:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2261:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2262:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2263:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
2264:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
2265:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2266:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2267:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2268:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2269:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  
2270:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2271:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2272:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2273:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* CRC handling */
2274:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2275:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2276:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until RXNE flag */
2277:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SPI_FLAG_RXNE, SPI_DEFAULT_TIMEOUT, tic
2278:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2279:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Error on the CRC reception */
2280:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2281:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2282:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Read CRC */
2283:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       tmpreg = hspi->Instance->DR;
2284:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* To avoid GCC warning */
2285:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       UNUSED(tmpreg);
2286:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2287:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2288:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2289:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines) *
2290:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2291:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2292:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
2294:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2295:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable SPI peripheral */
2296:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
2297:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2298:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2299:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2300:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2301:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2302:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2303:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error occurred */
2304:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
2305:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2306:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check if CRC error is valid or not (workaround to be applied or not) */
2307:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
2308:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2310:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2311:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
2312:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
2313:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
ARM GAS  /tmp/ccHWpE7O.s 			page 42


2314:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2315:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2316:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2317:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2318:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2319:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2320:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2321:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2322:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2323:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2324:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2325:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2326:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2327:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_RxCpltCallback(hspi);
2328:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2329:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2330:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI transmit receive process complete callback.
2332:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2333:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2334:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2335:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2336:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2337:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2338:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2339:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
2340:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2341:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO int16_t tmpreg = 0U;
2342:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2343:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2344:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2345:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2346:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2347:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2348:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2349:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* CRC handling */
2350:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2351:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2352:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait the CRC data */
2353:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !=
2354:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2355:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2356:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2357:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Read CRC to Flush DR and RXNE flag */
2358:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       tmpreg = hspi->Instance->DR;
2359:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* To avoid GCC warning */
2360:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       UNUSED(tmpreg);
2361:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2362:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2363:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2364:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(SPI_CheckFlag_BSY(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2365:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2366:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2367:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2368:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2369:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request */
2370:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
ARM GAS  /tmp/ccHWpE7O.s 			page 43


2371:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2372:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2373:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2374:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2375:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2376:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2377:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error occurred */
2378:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
2379:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2380:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check if CRC error is valid or not (workaround to be applied or not) */
2381:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
2382:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2383:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2384:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2385:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
2386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
2387:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2388:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2389:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2390:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2391:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2392:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2393:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2394:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2395:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2396:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2397:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2398:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2399:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2400:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2401:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxRxCpltCallback(hspi);
2402:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2403:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2404:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2405:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half transmit process complete callback.
2406:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2407:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2408:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2409:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2410:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
2411:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2412:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2413:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2414:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
2415:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2416:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2417:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2418:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half receive process complete callback
2419:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2420:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2421:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2422:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2423:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
2424:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2425:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2426:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2427:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
ARM GAS  /tmp/ccHWpE7O.s 			page 44


2428:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2429:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2430:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2431:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half transmit receive process complete callback.
2432:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2433:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2434:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2435:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2436:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2437:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2438:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2439:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2440:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
2441:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2442:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2443:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2444:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI communication error callback.
2445:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2446:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2447:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2448:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2449:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
2450:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2451:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = (SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2452:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2453:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Stop the disable DMA transfer on SPI side */
2454:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2455:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2456:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2457:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2458:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
2459:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2460:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2461:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2462:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI communication abort callback, when initiated by HAL services on Error
2463:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Abort procedure following error occurrence).
2464:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
2465:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2466:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2467:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma)
2468:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2469:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2470:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
2471:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2472:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
2474:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2475:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2476:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2477:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI Tx communication abort callback, when initiated by user
2478:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Tx Abort procedure following user abort request).
2479:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
2480:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         Abort still ongoing for Rx DMA Handle.
2481:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
2482:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2483:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2484:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma)
ARM GAS  /tmp/ccHWpE7O.s 			page 45


2485:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2486:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2487:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2488:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2489:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
2490:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2491:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable Tx DMA Request */
2492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN );
2493:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2494:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
2495:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
2496:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2497:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(count-- == 0U)
2498:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2499:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2500:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
2501:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2502:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2503:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
2504:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2505:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
2506:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->hdmarx != NULL)
2507:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2508:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->hdmarx->XferAbortCallback != NULL)
2509:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2510:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2511:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2512:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2513:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
2514:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA channels are aborted, call user Abort Complete callba
2515:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
2516:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2517:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2518:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset errorCode */
2519:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2520:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2521:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->State to Ready */
2522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
2523:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2524:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Abort complete callback */
2525:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
2526:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2527:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2528:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2529:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI Rx communication abort callback, when initiated by user
2530:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Rx Abort procedure following user abort request).
2531:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
2532:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         Abort still ongoing for Tx DMA Handle.
2533:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
2534:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2535:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2536:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma)
2537:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2538:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2539:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2540:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
2541:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
ARM GAS  /tmp/ccHWpE7O.s 			page 46


2542:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2543:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
2544:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2545:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable Rx DMA Request */
2546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
2547:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2548:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
2549:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->hdmatx != NULL)
2550:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2551:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->hdmatx->XferAbortCallback != NULL)
2552:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2553:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2554:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2555:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2556:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2557:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA channels are aborted, call user Abort Complete callba
2558:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
2559:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2560:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2561:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset errorCode */
2562:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2563:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2564:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
2565:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
2566:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2567:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->State to Ready */
2568:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
2569:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2570:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Abort complete callback */
2571:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
2572:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2573:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2574:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2575:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
2576:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2577:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2578:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2579:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2580:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
2581:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2582:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8bit mode */
2583:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr++ = *((__IO uint8_t *)&hspi->Instance->DR);
2584:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
2585:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2586:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* check end of the reception */
2587:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->RxXferCount == 0U)
2588:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2589:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2590:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2591:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2592:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_8BITCRC;
2593:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2594:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2595:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2596:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2597:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE interrupt */
2598:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
ARM GAS  /tmp/ccHWpE7O.s 			page 47


2599:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2600:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->TxXferCount == 0U)
2601:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2602:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
2603:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2604:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2605:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2606:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2607:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2608:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2609:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
2610:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2611:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2612:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2613:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2614:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
2615:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
2617:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2618:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read data register to flush CRC */
2619:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = *((__IO uint8_t *)&hspi->Instance->DR);
2620:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2621:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
2622:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2623:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
2624:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2625:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    /* Disable RXNE interrupt */
2626:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
2627:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2628:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
2629:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2630:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRxTx_ISR(hspi);
2631:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2632:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2633:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2634:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2635:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2636:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx 8-bit handler for Transmit and Receive in Interrupt mode.
2637:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2638:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2639:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2640:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2641:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
2642:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2643:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr++);
2644:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
2645:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2646:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* check the end of the transmission */
2647:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
2648:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2649:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2650:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2651:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2652:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2653:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
2654:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2655:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
ARM GAS  /tmp/ccHWpE7O.s 			page 48


2656:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2657:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2658:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable TXE interrupt */
2659:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
2660:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2661:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->RxXferCount == 0U)
2662:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2663:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
2664:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2665:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2666:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2667:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2668:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2669:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 16-bit handler for Transmit and Receive in Interrupt mode.
2670:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2671:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2672:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2673:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2674:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
2675:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2676:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
2677:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t*)hspi->pRxBuffPtr) = hspi->Instance->DR;
2678:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
2679:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
2680:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2681:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->RxXferCount == 0U)
2682:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2683:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2684:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2685:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2686:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_16BITCRC;
2687:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2688:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2689:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2690:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2691:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE interrupt */
2692:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
2693:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2694:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->TxXferCount == 0U)
2695:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2696:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
2697:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2698:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2699:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2700:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2701:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2702:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2703:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive for Transmit and Receive in Interrupt mode.
2704:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2705:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2706:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2707:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2708:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
2709:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2710:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
2711:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
2712:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 49


2713:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read data register to flush CRC */
2714:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = hspi->Instance->DR;
2715:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2716:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
2717:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
2718:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2719:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE interrupt */
2720:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
2721:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2722:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRxTx_ISR(hspi);
2723:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2724:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2725:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2726:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2727:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx 16-bit handler for Transmit and Receive in Interrupt mode.
2728:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2729:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2730:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2731:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2732:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
2733:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2734:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
2735:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
2736:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
2737:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
2738:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2739:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
2740:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
2741:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2742:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2743:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2744:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2745:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2746:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
2747:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2748:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2749:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2750:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2751:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable TXE interrupt */
2752:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
2753:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2754:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->RxXferCount == 0U)
2755:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2756:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
2757:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2758:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2759:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2760:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2761:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2762:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2763:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 8-bit receive in Interrupt context.
2764:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2765:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2766:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2767:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2768:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
2769:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
ARM GAS  /tmp/ccHWpE7O.s 			page 50


2770:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
2771:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2772:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read data register to flush CRC */
2773:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = *((__IO uint8_t*)&hspi->Instance->DR);
2774:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2775:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
2776:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
2777:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2778:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
2779:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2780:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2781:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2782:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2783:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the receive 8-bit in Interrupt context.
2784:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2785:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2786:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2787:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2788:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
2789:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2790:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr++ = (*(__IO uint8_t *)&hspi->Instance->DR);
2791:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
2792:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2793:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2794:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
2795:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
2796:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2797:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2798:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2799:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2800:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2801:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->RxXferCount == 0U)
2802:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2803:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2804:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2805:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2806:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_RxISR_8BITCRC;
2807:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2808:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2809:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2810:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
2811:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2812:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2813:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2814:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2815:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2816:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive in Interrupt context.
2817:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2818:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2819:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2820:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2821:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
2822:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2823:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
2824:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2825:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read data register to flush CRC */
2826:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = hspi->Instance->DR;
ARM GAS  /tmp/ccHWpE7O.s 			page 51


2827:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2828:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
2829:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
2830:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2831:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
2832:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
2833:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2834:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
2835:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2836:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2837:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2838:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2839:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the 16-bit receive in Interrupt context.
2840:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2841:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2842:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2843:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2844:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
2845:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2846:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = hspi->Instance->DR;
2847:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
2848:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
2849:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2850:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2851:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
2852:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
2853:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2854:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2855:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2856:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2857:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2858:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->RxXferCount == 0U)
2859:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2860:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2861:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2862:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2863:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR = SPI_RxISR_16BITCRC;
2864:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2865:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2866:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2867:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
2868:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2869:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2870:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2871:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2872:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the data 8-bit transmit in Interrupt mode.
2873:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2874:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2875:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2876:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2877:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
2878:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2879:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr++);
2880:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
2881:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2882:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
2883:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccHWpE7O.s 			page 52


2884:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2885:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2886:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2887:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
2888:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2889:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2890:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2891:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
2892:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2893:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2894:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2895:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2896:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the data 16-bit transmit in Interrupt mode.
2897:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2898:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2899:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2900:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2901:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
2902:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2903:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
2904:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
2905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
2906:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
2907:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2908:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->TxXferCount == 0U)
2909:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2910:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2911:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2912:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2913:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
2914:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
2915:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2916:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
2918:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2919:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2920:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2921:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2922:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Handle SPI Communication Timeout.
2923:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param hspi: pointer to a SPI_HandleTypeDef structure that contains
2924:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *              the configuration information for SPI module.
2925:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param Flag: SPI flag to check
2926:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param State: flag state to check
2927:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param Timeout: Timeout duration
2928:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param Tickstart: tick start value
2929:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2930:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2931:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, uint
2932:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2933:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while((((hspi->Instance->SR & Flag) == (Flag)) ? SET : RESET) != State)
2934:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2935:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(Timeout != HAL_MAX_DELAY)
2936:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2937:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if((Timeout == 0U) || ((HAL_GetTick()-Tickstart) >= Timeout))
2938:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2939:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
2940:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         on both master and slave sides in order to resynchronize the master
ARM GAS  /tmp/ccHWpE7O.s 			page 53


2941:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         and slave for their respective CRC calculation */
2942:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2943:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
2944:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
2945:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2946:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(h
2947:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2948:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Disable SPI peripheral */
2949:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
2950:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2951:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2952:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
2953:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if(hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2954:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2955:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
2956:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2957:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2958:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State= HAL_SPI_STATE_READY;
2959:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2960:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Process Unlocked */
2961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
2962:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2963:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
2964:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2965:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2966:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2967:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2968:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
2969:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2970:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2971:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief Handle to check BSY flag before start a new transaction.
2972:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param hspi: pointer to a SPI_HandleTypeDef structure that contains
2973:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *              the configuration information for SPI module.
2974:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param Timeout: Timeout duration
2975:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param Tickstart: tick start value
2976:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2977:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2978:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_CheckFlag_BSY(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t Tick
2979:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2980:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Control the BSY flag */
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
2982:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2984:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
2985:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2986:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
2987:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2988:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2989:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2990:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the RXTX transaction.
2991:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
2992:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2993:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2994:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2995:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi)
2996:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2997:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
ARM GAS  /tmp/ccHWpE7O.s 			page 54


2998:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2999:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout managment*/
3000:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
3001:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3002:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable ERR interrupt */
3003:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
3004:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3005:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3006:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3007:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3008:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(count-- == 0U)
3009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3010:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3011:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3012:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3013:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3014:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3015:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
3016:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
3017:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(SPI_CheckFlag_BSY(hspi, SPI_DEFAULT_TIMEOUT, tickstart)!=HAL_OK)
3018:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3019:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3020:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3021:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3022:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3023:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
3024:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3025:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3026:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3027:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3028:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3029:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
3030:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3031:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3032:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
3033:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
3034:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3035:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
3036:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3037:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3038:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
3039:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
3040:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3041:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
3042:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3043:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3044:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3045:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3046:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3047:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3048:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3049:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3050:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3051:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->ErrorCode == HAL_SPI_ERROR_NONE)
3052:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3053:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(hspi->State == HAL_SPI_STATE_BUSY_RX)
3054:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
ARM GAS  /tmp/ccHWpE7O.s 			page 55


3055:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       	hspi->State = HAL_SPI_STATE_READY;
3056:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
3057:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3058:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
3059:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3060:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       	hspi->State = HAL_SPI_STATE_READY;
3061:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
3062:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3063:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3064:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3065:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3066:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
3067:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3068:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3069:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3070:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3071:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3072:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3073:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3074:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3075:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the RX transaction.
3076:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
3077:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3078:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3079:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3080:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi)
3081:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3082:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE and ERR interrupt */
3083:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3084:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3085:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
3086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if((hspi->Init.Mode == SPI_MODE_MASTER)&&((hspi->Init.Direction == SPI_DIRECTION_1LINE)||(hspi-
3087:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3088:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable SPI peripheral */
3089:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
3090:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3091:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3092:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received is not read */
3093:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
3094:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3095:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
3096:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3097:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
3098:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3099:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3100:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error occurred */
3101:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3102:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3103:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check if CRC error is valid or not (workaround to be applied or not) */
3104:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
3105:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3106:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3107:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3108:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
3109:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
3110:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3111:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          HAL_SPI_ErrorCallback(hspi);
ARM GAS  /tmp/ccHWpE7O.s 			page 56


3112:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3113:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
3114:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3115:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3116:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3117:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3118:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3119:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3120:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3121:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if(hspi->ErrorCode == HAL_SPI_ERROR_NONE)
3122:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3123:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
3124:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3125:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
3126:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3127:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
3128:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3129:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3130:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3131:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3132:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3133:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3134:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3135:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the TX transaction.
3136:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
3137:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3138:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3139:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3140:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi)
3141:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3142:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
3143:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3144:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3145:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3146:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
3147:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3148:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3149:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3150:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3151:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(count-- == 0U)
3152:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3153:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3154:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3155:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3156:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3157:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3158:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3159:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXE and ERR interrupt */
3160:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
3161:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3162:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Busy flag */
3163:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(SPI_CheckFlag_BSY(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3164:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3165:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3166:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3167:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3168:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
ARM GAS  /tmp/ccHWpE7O.s 			page 57


3169:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->Init.Direction == SPI_DIRECTION_2LINES)
3170:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3171:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3172:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3173:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3174:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3175:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
3176:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3177:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
3178:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3179:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3180:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3181:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
3182:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3183:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3184:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3185:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3186:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
3187:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3188:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3189:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3190:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx transaction.
3191:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
3192:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3193:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3194:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3195:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi)
3196:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
  26              		.loc 1 3196 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 8
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31              	.LVL0:
3197:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3198:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
  32              		.loc 1 3198 0
  33 0000 6422     		movs	r2, #100
3196:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
  34              		.loc 1 3196 0
  35 0002 30B4     		push	{r4, r5}
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 5, -4
3197:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
  39              		.loc 1 3197 0
  40 0004 0024     		movs	r4, #0
  41              		.loc 1 3198 0
  42 0006 134B     		ldr	r3, .L9
  43 0008 134D     		ldr	r5, .L9+4
  44 000a 1B68     		ldr	r3, [r3]
3196:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
  45              		.loc 1 3196 0
  46 000c 82B0     		sub	sp, sp, #8
  47              		.cfi_def_cfa_offset 16
  48              		.loc 1 3198 0
  49 000e A5FB0353 		umull	r5, r3, r5, r3
ARM GAS  /tmp/ccHWpE7O.s 			page 58


  50 0012 5B0A     		lsrs	r3, r3, #9
  51 0014 02FB03F3 		mul	r3, r2, r3
3197:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
  52              		.loc 1 3197 0
  53 0018 0094     		str	r4, [sp]
  54 001a 0168     		ldr	r1, [r0]
  55              		.loc 1 3198 0
  56 001c 0193     		str	r3, [sp, #4]
  57 001e 02E0     		b	.L4
  58              	.L2:
3199:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3200:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3201:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3202:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3203:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if(count-- == 0U)
3204:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3205:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3206:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3207:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3208:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3209:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
  59              		.loc 1 3209 0
  60 0020 8B68     		ldr	r3, [r1, #8]
  61 0022 9B07     		lsls	r3, r3, #30
  62 0024 08D4     		bmi	.L3
  63              	.L4:
3203:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
  64              		.loc 1 3203 0
  65 0026 019B     		ldr	r3, [sp, #4]
  66 0028 5A1E     		subs	r2, r3, #1
  67 002a 0192     		str	r2, [sp, #4]
  68 002c 002B     		cmp	r3, #0
  69 002e F7D1     		bne	.L2
3205:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
  70              		.loc 1 3205 0
  71 0030 436D     		ldr	r3, [r0, #84]
  72 0032 43F02003 		orr	r3, r3, #32
  73 0036 4365     		str	r3, [r0, #84]
  74              	.L3:
3210:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3211:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
3212:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);    
  75              		.loc 1 3212 0
  76 0038 0B68     		ldr	r3, [r1]
  77 003a 23F04003 		bic	r3, r3, #64
  78 003e 0B60     		str	r3, [r1]
3213:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3214:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
3215:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE | SPI_CR2_RXNEIE | SPI_CR2_ERRIE));
  79              		.loc 1 3215 0
  80 0040 4B68     		ldr	r3, [r1, #4]
  81 0042 23F0E003 		bic	r3, r3, #224
  82 0046 4B60     		str	r3, [r1, #4]
3216:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3217:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Flush DR Register */
3218:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = (*(__IO uint32_t *)&hspi->Instance->DR);
  83              		.loc 1 3218 0
ARM GAS  /tmp/ccHWpE7O.s 			page 59


  84 0048 CB68     		ldr	r3, [r1, #12]
  85 004a 0093     		str	r3, [sp]
3219:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3220:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3221:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
  86              		.loc 1 3221 0
  87 004c 009B     		ldr	r3, [sp]
3222:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
  88              		.loc 1 3222 0
  89 004e 02B0     		add	sp, sp, #8
  90              		.cfi_def_cfa_offset 8
  91              		@ sp needed
  92 0050 30BC     		pop	{r4, r5}
  93              		.cfi_restore 5
  94              		.cfi_restore 4
  95              		.cfi_def_cfa_offset 0
  96 0052 7047     		bx	lr
  97              	.L10:
  98              		.align	2
  99              	.L9:
 100 0054 00000000 		.word	SystemCoreClock
 101 0058 F1197605 		.word	91625969
 102              		.cfi_endproc
 103              	.LFE120:
 105              		.section	.text.SPI_AbortTx_ISR,"ax",%progbits
 106              		.align	1
 107              		.p2align 2,,3
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 111              		.fpu softvfp
 113              	SPI_AbortTx_ISR:
 114              	.LFB121:
3223:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3224:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3225:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx transaction.
3226:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
3227:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3228:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3229:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3230:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi)
3231:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 115              		.loc 1 3231 0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 0
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119              		@ link register save eliminated.
 120              	.LVL1:
3232:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
3233:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE | SPI_CR2_RXNEIE | SPI_CR2_ERRIE));
 121              		.loc 1 3233 0
 122 0000 0368     		ldr	r3, [r0]
 123 0002 5A68     		ldr	r2, [r3, #4]
 124 0004 22F0E002 		bic	r2, r2, #224
 125 0008 5A60     		str	r2, [r3, #4]
3234:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3235:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
ARM GAS  /tmp/ccHWpE7O.s 			page 60


3236:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 126              		.loc 1 3236 0
 127 000a 1A68     		ldr	r2, [r3]
 128 000c 22F04002 		bic	r2, r2, #64
 129 0010 1A60     		str	r2, [r3]
 130 0012 7047     		bx	lr
 131              		.cfi_endproc
 132              	.LFE121:
 134              		.section	.text.SPI_WaitFlagStateUntilTimeout,"ax",%progbits
 135              		.align	1
 136              		.p2align 2,,3
 137              		.syntax unified
 138              		.thumb
 139              		.thumb_func
 140              		.fpu softvfp
 142              	SPI_WaitFlagStateUntilTimeout:
 143              	.LFB115:
2932:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while((((hspi->Instance->SR & Flag) == (Flag)) ? SET : RESET) != State)
 144              		.loc 1 2932 0
 145              		.cfi_startproc
 146              		@ args = 4, pretend = 0, frame = 0
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148              	.LVL2:
 149 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 150              		.cfi_def_cfa_offset 24
 151              		.cfi_offset 4, -24
 152              		.cfi_offset 5, -20
 153              		.cfi_offset 6, -16
 154              		.cfi_offset 7, -12
 155              		.cfi_offset 8, -8
 156              		.cfi_offset 14, -4
2932:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while((((hspi->Instance->SR & Flag) == (Flag)) ? SET : RESET) != State)
 157              		.loc 1 2932 0
 158 0004 8046     		mov	r8, r0
 159 0006 0F46     		mov	r7, r1
 160 0008 1646     		mov	r6, r2
 161 000a 1D46     		mov	r5, r3
 162              	.LVL3:
 163              	.L13:
 164 000c D8F80040 		ldr	r4, [r8]
 165 0010 01E0     		b	.L14
 166              	.L20:
2935:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 167              		.loc 1 2935 0
 168 0012 6B1C     		adds	r3, r5, #1
 169 0014 0AD1     		bne	.L31
 170              	.L14:
2933:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 171              		.loc 1 2933 0
 172 0016 A068     		ldr	r0, [r4, #8]
 173 0018 37EA0003 		bics	r3, r7, r0
 174 001c 0CBF     		ite	eq
 175 001e 0120     		moveq	r0, #1
 176 0020 0020     		movne	r0, #0
 177 0022 8642     		cmp	r6, r0
 178 0024 F5D1     		bne	.L20
2968:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
ARM GAS  /tmp/ccHWpE7O.s 			page 61


 179              		.loc 1 2968 0
 180 0026 0020     		movs	r0, #0
2969:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 181              		.loc 1 2969 0
 182 0028 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 183              	.LVL4:
 184              	.L31:
2937:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 185              		.loc 1 2937 0
 186 002c 3DB1     		cbz	r5, .L15
2937:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 187              		.loc 1 2937 0 is_stmt 0 discriminator 1
 188 002e FFF7FEFF 		bl	HAL_GetTick
 189              	.LVL5:
 190 0032 069B     		ldr	r3, [sp, #24]
 191 0034 C01A     		subs	r0, r0, r3
 192 0036 8542     		cmp	r5, r0
 193 0038 E8D8     		bhi	.L13
 194 003a D8F80040 		ldr	r4, [r8]
 195              	.L15:
 196              	.LVL6:
 197              	.LBB25:
 198              	.LBB26:
2944:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 199              		.loc 1 2944 0 is_stmt 1
 200 003e 6368     		ldr	r3, [r4, #4]
2946:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 201              		.loc 1 2946 0
 202 0040 D8F80420 		ldr	r2, [r8, #4]
2944:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 203              		.loc 1 2944 0
 204 0044 23F0E003 		bic	r3, r3, #224
2946:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 205              		.loc 1 2946 0
 206 0048 B2F5827F 		cmp	r2, #260
2944:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 207              		.loc 1 2944 0
 208 004c 6360     		str	r3, [r4, #4]
2946:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 209              		.loc 1 2946 0
 210 004e 17D0     		beq	.L32
 211              	.L16:
2953:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 212              		.loc 1 2953 0
 213 0050 D8F82830 		ldr	r3, [r8, #40]
 214 0054 B3F5005F 		cmp	r3, #8192
 215 0058 08D0     		beq	.L33
 216              	.L18:
2958:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 217              		.loc 1 2958 0
 218 005a 0122     		movs	r2, #1
2961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 219              		.loc 1 2961 0
 220 005c 0023     		movs	r3, #0
2958:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 221              		.loc 1 2958 0
 222 005e 88F85120 		strb	r2, [r8, #81]
ARM GAS  /tmp/ccHWpE7O.s 			page 62


2961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 223              		.loc 1 2961 0
 224 0062 88F85030 		strb	r3, [r8, #80]
 225              	.LVL7:
 226 0066 0320     		movs	r0, #3
 227 0068 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 228              	.LVL8:
 229              	.L33:
2955:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 230              		.loc 1 2955 0
 231 006c 4DF6FF72 		movw	r2, #57343
 232 0070 2368     		ldr	r3, [r4]
 233 0072 1340     		ands	r3, r3, r2
 234 0074 2360     		str	r3, [r4]
 235 0076 2368     		ldr	r3, [r4]
 236 0078 43F40053 		orr	r3, r3, #8192
 237 007c 2360     		str	r3, [r4]
 238 007e ECE7     		b	.L18
 239              	.L32:
2946:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 240              		.loc 1 2946 0
 241 0080 D8F80830 		ldr	r3, [r8, #8]
 242 0084 B3F5004F 		cmp	r3, #32768
 243 0088 02D0     		beq	.L17
 244 008a B3F5806F 		cmp	r3, #1024
 245 008e DFD1     		bne	.L16
 246              	.L17:
2949:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 247              		.loc 1 2949 0
 248 0090 2368     		ldr	r3, [r4]
 249 0092 23F04003 		bic	r3, r3, #64
 250 0096 2360     		str	r3, [r4]
 251 0098 DAE7     		b	.L16
 252              	.LBE26:
 253              	.LBE25:
 254              		.cfi_endproc
 255              	.LFE115:
 257 009a 00BF     		.section	.text.HAL_SPI_TransmitReceive_IT.part.1,"ax",%progbits
 258              		.align	1
 259              		.p2align 2,,3
 260              		.syntax unified
 261              		.thumb
 262              		.thumb_func
 263              		.fpu softvfp
 265              	HAL_SPI_TransmitReceive_IT.part.1:
 266              	.LFB124:
1237:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 267              		.loc 1 1237 0
 268              		.cfi_startproc
 269              		@ args = 0, pretend = 0, frame = 0
 270              		@ frame_needed = 0, uses_anonymous_args = 0
 271              		@ link register save eliminated.
 272              	.LVL9:
 273 0000 30B4     		push	{r4, r5}
 274              		.cfi_def_cfa_offset 8
 275              		.cfi_offset 4, -8
 276              		.cfi_offset 5, -4
ARM GAS  /tmp/ccHWpE7O.s 			page 63


1246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 277              		.loc 1 1246 0
 278 0002 0125     		movs	r5, #1
1237:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 279              		.loc 1 1237 0
 280 0004 0446     		mov	r4, r0
1248:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 281              		.loc 1 1248 0
 282 0006 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 283              	.LVL10:
1246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 284              		.loc 1 1246 0
 285 000a 84F85050 		strb	r5, [r4, #80]
1248:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 286              		.loc 1 1248 0
 287 000e C0B2     		uxtb	r0, r0
 288              	.LVL11:
1251:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_SPI
 289              		.loc 1 1251 0
 290 0010 A842     		cmp	r0, r5
 291 0012 0ED0     		beq	.L35
 292 0014 6568     		ldr	r5, [r4, #4]
 293 0016 B5F5827F 		cmp	r5, #260
 294 001a 05D0     		beq	.L53
 295              	.L44:
1254:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 296              		.loc 1 1254 0
 297 001c 0220     		movs	r0, #2
 298              	.LVL12:
 299              	.L36:
1311:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 300              		.loc 1 1311 0
 301 001e 0023     		movs	r3, #0
 302 0020 84F85030 		strb	r3, [r4, #80]
1313:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 303              		.loc 1 1313 0
 304 0024 30BC     		pop	{r4, r5}
 305              		.cfi_remember_state
 306              		.cfi_restore 5
 307              		.cfi_restore 4
 308              		.cfi_def_cfa_offset 0
 309              	.LVL13:
 310 0026 7047     		bx	lr
 311              	.LVL14:
 312              	.L53:
 313              		.cfi_restore_state
1252:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 314              		.loc 1 1252 0
 315 0028 A568     		ldr	r5, [r4, #8]
 316              	.LVL15:
 317 002a 002D     		cmp	r5, #0
 318 002c F6D1     		bne	.L44
 319 002e 0428     		cmp	r0, #4
 320 0030 F4D1     		bne	.L44
 321              	.L35:
1258:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 322              		.loc 1 1258 0
ARM GAS  /tmp/ccHWpE7O.s 			page 64


 323 0032 41B3     		cbz	r1, .L47
 324 0034 3AB3     		cbz	r2, .L47
 325 0036 33B3     		cbz	r3, .L47
1265:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 326              		.loc 1 1265 0
 327 0038 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 328              	.LVL16:
1271:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 329              		.loc 1 1271 0
 330 003c 0025     		movs	r5, #0
1265:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 331              		.loc 1 1265 0
 332 003e 0128     		cmp	r0, #1
1267:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 333              		.loc 1 1267 0
 334 0040 04BF     		itt	eq
 335 0042 0520     		moveq	r0, #5
 336 0044 84F85100 		strbeq	r0, [r4, #81]
1280:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 337              		.loc 1 1280 0
 338 0048 E068     		ldr	r0, [r4, #12]
1271:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 339              		.loc 1 1271 0
 340 004a 6565     		str	r5, [r4, #84]
1272:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 341              		.loc 1 1272 0
 342 004c 2163     		str	r1, [r4, #48]
1274:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 343              		.loc 1 1274 0
 344 004e E386     		strh	r3, [r4, #54]	@ movhi
1273:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 345              		.loc 1 1273 0
 346 0050 A386     		strh	r3, [r4, #52]	@ movhi
1275:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 347              		.loc 1 1275 0
 348 0052 A263     		str	r2, [r4, #56]
1276:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 349              		.loc 1 1276 0
 350 0054 A387     		strh	r3, [r4, #60]	@ movhi
1277:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 351              		.loc 1 1277 0
 352 0056 E387     		strh	r3, [r4, #62]	@ movhi
1280:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 353              		.loc 1 1280 0
 354 0058 E8B1     		cbz	r0, .L38
1282:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 355              		.loc 1 1282 0
 356 005a 174A     		ldr	r2, .L54
 357              	.LVL17:
1283:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 358              		.loc 1 1283 0
 359 005c 174B     		ldr	r3, .L54+4
 360              	.LVL18:
1282:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 361              		.loc 1 1282 0
 362 005e 2264     		str	r2, [r4, #64]
1283:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccHWpE7O.s 			page 65


 363              		.loc 1 1283 0
 364 0060 6364     		str	r3, [r4, #68]
 365              	.L39:
1293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 366              		.loc 1 1293 0
 367 0062 A36A     		ldr	r3, [r4, #40]
 368 0064 B3F5005F 		cmp	r3, #8192
 369 0068 1AD0     		beq	.L40
 370 006a 2368     		ldr	r3, [r4]
 371              	.LVL19:
 372              	.L41:
1300:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 373              		.loc 1 1300 0
 374 006c 5A68     		ldr	r2, [r3, #4]
 375 006e 42F0E002 		orr	r2, r2, #224
 376 0072 5A60     		str	r2, [r3, #4]
1303:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 377              		.loc 1 1303 0
 378 0074 1868     		ldr	r0, [r3]
 379 0076 10F04000 		ands	r0, r0, #64
 380 007a 0AD1     		bne	.L48
1306:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 381              		.loc 1 1306 0
 382 007c 1A68     		ldr	r2, [r3]
 383 007e 42F04002 		orr	r2, r2, #64
 384 0082 1A60     		str	r2, [r3]
 385 0084 CBE7     		b	.L36
 386              	.LVL20:
 387              	.L47:
1311:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 388              		.loc 1 1311 0
 389 0086 0023     		movs	r3, #0
 390              	.LVL21:
1260:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 391              		.loc 1 1260 0
 392 0088 0120     		movs	r0, #1
 393              	.LVL22:
1311:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 394              		.loc 1 1311 0
 395 008a 84F85030 		strb	r3, [r4, #80]
1313:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 396              		.loc 1 1313 0
 397 008e 30BC     		pop	{r4, r5}
 398              		.cfi_remember_state
 399              		.cfi_restore 4
 400              		.cfi_restore 5
 401              		.cfi_def_cfa_offset 0
 402              	.LVL23:
 403 0090 7047     		bx	lr
 404              	.LVL24:
 405              	.L48:
 406              		.cfi_restore_state
1240:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 407              		.loc 1 1240 0
 408 0092 0020     		movs	r0, #0
 409 0094 C3E7     		b	.L36
 410              	.LVL25:
ARM GAS  /tmp/ccHWpE7O.s 			page 66


 411              	.L38:
1287:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 412              		.loc 1 1287 0
 413 0096 0A4A     		ldr	r2, .L54+8
 414              	.LVL26:
1288:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 415              		.loc 1 1288 0
 416 0098 0A4B     		ldr	r3, .L54+12
 417              	.LVL27:
1287:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 418              		.loc 1 1287 0
 419 009a 2264     		str	r2, [r4, #64]
1288:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 420              		.loc 1 1288 0
 421 009c 6364     		str	r3, [r4, #68]
 422 009e E0E7     		b	.L39
 423              	.L40:
1295:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 424              		.loc 1 1295 0
 425 00a0 4DF6FF71 		movw	r1, #57343
 426              	.LVL28:
 427 00a4 2368     		ldr	r3, [r4]
 428 00a6 1A68     		ldr	r2, [r3]
 429 00a8 0A40     		ands	r2, r2, r1
 430 00aa 1A60     		str	r2, [r3]
 431 00ac 1A68     		ldr	r2, [r3]
 432 00ae 42F40052 		orr	r2, r2, #8192
 433 00b2 1A60     		str	r2, [r3]
 434 00b4 DAE7     		b	.L41
 435              	.L55:
 436 00b6 00BF     		.align	2
 437              	.L54:
 438 00b8 00000000 		.word	SPI_2linesRxISR_16BIT
 439 00bc 00000000 		.word	SPI_2linesTxISR_16BIT
 440 00c0 00000000 		.word	SPI_2linesRxISR_8BIT
 441 00c4 00000000 		.word	SPI_2linesTxISR_8BIT
 442              		.cfi_endproc
 443              	.LFE124:
 445              		.section	.text.HAL_SPI_TransmitReceive_DMA.part.2,"ax",%progbits
 446              		.align	1
 447              		.p2align 2,,3
 448              		.syntax unified
 449              		.thumb
 450              		.thumb_func
 451              		.fpu softvfp
 453              	HAL_SPI_TransmitReceive_DMA.part.2:
 454              	.LFB125:
1513:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 455              		.loc 1 1513 0
 456              		.cfi_startproc
 457              		@ args = 0, pretend = 0, frame = 0
 458              		@ frame_needed = 0, uses_anonymous_args = 0
 459              	.LVL29:
 460 0000 70B5     		push	{r4, r5, r6, lr}
 461              		.cfi_def_cfa_offset 16
 462              		.cfi_offset 4, -16
 463              		.cfi_offset 5, -12
ARM GAS  /tmp/ccHWpE7O.s 			page 67


 464              		.cfi_offset 6, -8
 465              		.cfi_offset 14, -4
1522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 466              		.loc 1 1522 0
 467 0002 0125     		movs	r5, #1
1513:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 468              		.loc 1 1513 0
 469 0004 0446     		mov	r4, r0
1524:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 470              		.loc 1 1524 0
 471 0006 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 472              	.LVL30:
1522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 473              		.loc 1 1522 0
 474 000a 84F85050 		strb	r5, [r4, #80]
1524:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 475              		.loc 1 1524 0
 476 000e C0B2     		uxtb	r0, r0
 477              	.LVL31:
1526:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_S
 478              		.loc 1 1526 0
 479 0010 A842     		cmp	r0, r5
 480 0012 0DD0     		beq	.L57
 481 0014 6568     		ldr	r5, [r4, #4]
 482 0016 B5F5827F 		cmp	r5, #260
 483 001a 04D0     		beq	.L75
 484              	.L67:
 485              	.L58:
1616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 486              		.loc 1 1616 0
 487 001c 0023     		movs	r3, #0
 488              	.LVL32:
1529:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 489              		.loc 1 1529 0
 490 001e 0220     		movs	r0, #2
 491              	.LVL33:
1616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 492              		.loc 1 1616 0
 493 0020 84F85030 		strb	r3, [r4, #80]
1618:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 494              		.loc 1 1618 0
 495 0024 70BD     		pop	{r4, r5, r6, pc}
 496              	.LVL34:
 497              	.L75:
1527:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 498              		.loc 1 1527 0
 499 0026 A568     		ldr	r5, [r4, #8]
 500              	.LVL35:
 501 0028 002D     		cmp	r5, #0
 502 002a F7D1     		bne	.L67
 503 002c 0428     		cmp	r0, #4
 504 002e F5D1     		bne	.L67
 505              	.L57:
1533:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 506              		.loc 1 1533 0
 507 0030 0029     		cmp	r1, #0
 508 0032 55D0     		beq	.L70
ARM GAS  /tmp/ccHWpE7O.s 			page 68


 509 0034 002A     		cmp	r2, #0
 510 0036 53D0     		beq	.L70
 511 0038 002B     		cmp	r3, #0
 512 003a 51D0     		beq	.L70
1540:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 513              		.loc 1 1540 0
 514 003c 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 515              	.LVL36:
1560:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 516              		.loc 1 1560 0
 517 0040 A56A     		ldr	r5, [r4, #40]
1540:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 518              		.loc 1 1540 0
 519 0042 0128     		cmp	r0, #1
1542:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 520              		.loc 1 1542 0
 521 0044 04BF     		itt	eq
 522 0046 0520     		moveq	r0, #5
 523 0048 84F85100 		strbeq	r0, [r4, #81]
1546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t*)pTxData;
 524              		.loc 1 1546 0
 525 004c 0020     		movs	r0, #0
1560:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 526              		.loc 1 1560 0
 527 004e B5F5005F 		cmp	r5, #8192
1546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t*)pTxData;
 528              		.loc 1 1546 0
 529 0052 6065     		str	r0, [r4, #84]
1547:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 530              		.loc 1 1547 0
 531 0054 2163     		str	r1, [r4, #48]
1549:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t*)pRxData;
 532              		.loc 1 1549 0
 533 0056 E386     		strh	r3, [r4, #54]	@ movhi
1548:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 534              		.loc 1 1548 0
 535 0058 A386     		strh	r3, [r4, #52]	@ movhi
1550:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 536              		.loc 1 1550 0
 537 005a A263     		str	r2, [r4, #56]
1551:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 538              		.loc 1 1551 0
 539 005c A387     		strh	r3, [r4, #60]	@ movhi
1555:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 540              		.loc 1 1555 0
 541 005e 2064     		str	r0, [r4, #64]
1556:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 542              		.loc 1 1556 0
 543 0060 6064     		str	r0, [r4, #68]
1552:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 544              		.loc 1 1552 0
 545 0062 E387     		strh	r3, [r4, #62]	@ movhi
1560:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 546              		.loc 1 1560 0
 547 0064 41D0     		beq	.L60
 548 0066 2168     		ldr	r1, [r4]
 549              	.LVL37:
ARM GAS  /tmp/ccHWpE7O.s 			page 69


 550              	.L61:
1567:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 551              		.loc 1 1567 0
 552 0068 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
1570:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 553              		.loc 1 1570 0
 554 006c E06C     		ldr	r0, [r4, #76]
1567:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 555              		.loc 1 1567 0
 556 006e 042B     		cmp	r3, #4
1570:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 557              		.loc 1 1570 0
 558 0070 0ABF     		itet	eq
 559 0072 234D     		ldreq	r5, .L76
1576:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 560              		.loc 1 1576 0
 561 0074 234D     		ldrne	r5, .L76+4
1571:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 562              		.loc 1 1571 0
 563 0076 244B     		ldreq	r3, .L76+8
1576:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 564              		.loc 1 1576 0
 565 0078 C562     		str	r5, [r0, #44]
1584:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 566              		.loc 1 1584 0
 567 007a 4FF00005 		mov	r5, #0
1577:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 568              		.loc 1 1577 0
 569 007e 18BF     		it	ne
 570 0080 224B     		ldrne	r3, .L76+12
1581:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 571              		.loc 1 1581 0
 572 0082 234E     		ldr	r6, .L76+16
1577:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 573              		.loc 1 1577 0
 574 0084 8362     		str	r3, [r0, #40]
1587:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 575              		.loc 1 1587 0
 576 0086 E38F     		ldrh	r3, [r4, #62]
 577 0088 0C31     		adds	r1, r1, #12
 578 008a 9BB2     		uxth	r3, r3
1584:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 579              		.loc 1 1584 0
 580 008c 4563     		str	r5, [r0, #52]
1581:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 581              		.loc 1 1581 0
 582 008e 0663     		str	r6, [r0, #48]
1587:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 583              		.loc 1 1587 0
 584 0090 FFF7FEFF 		bl	HAL_DMA_Start_IT
 585              	.LVL38:
1590:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 586              		.loc 1 1590 0
 587 0094 2368     		ldr	r3, [r4]
1594:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 588              		.loc 1 1594 0
 589 0096 A06C     		ldr	r0, [r4, #72]
ARM GAS  /tmp/ccHWpE7O.s 			page 70


1590:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 590              		.loc 1 1590 0
 591 0098 5968     		ldr	r1, [r3, #4]
1600:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 592              		.loc 1 1600 0
 593 009a 03F10C02 		add	r2, r3, #12
1590:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 594              		.loc 1 1590 0
 595 009e 41F00101 		orr	r1, r1, #1
 596 00a2 5960     		str	r1, [r3, #4]
1600:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 597              		.loc 1 1600 0
 598 00a4 E38E     		ldrh	r3, [r4, #54]
 599 00a6 216B     		ldr	r1, [r4, #48]
 600 00a8 9BB2     		uxth	r3, r3
1594:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 601              		.loc 1 1594 0
 602 00aa C562     		str	r5, [r0, #44]
1595:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 603              		.loc 1 1595 0
 604 00ac 8562     		str	r5, [r0, #40]
1596:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 605              		.loc 1 1596 0
 606 00ae 0563     		str	r5, [r0, #48]
1597:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 607              		.loc 1 1597 0
 608 00b0 4563     		str	r5, [r0, #52]
1600:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 609              		.loc 1 1600 0
 610 00b2 FFF7FEFF 		bl	HAL_DMA_Start_IT
 611              	.LVL39:
1603:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 612              		.loc 1 1603 0
 613 00b6 2368     		ldr	r3, [r4]
 614 00b8 1A68     		ldr	r2, [r3]
 615 00ba 5206     		lsls	r2, r2, #25
 616 00bc 03D4     		bmi	.L64
1606:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 617              		.loc 1 1606 0
 618 00be 1A68     		ldr	r2, [r3]
 619 00c0 42F04002 		orr	r2, r2, #64
 620 00c4 1A60     		str	r2, [r3]
 621              	.L64:
1609:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 622              		.loc 1 1609 0
 623 00c6 5A68     		ldr	r2, [r3, #4]
1516:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 624              		.loc 1 1516 0
 625 00c8 0020     		movs	r0, #0
1609:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 626              		.loc 1 1609 0
 627 00ca 42F02002 		orr	r2, r2, #32
 628 00ce 5A60     		str	r2, [r3, #4]
1612:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 629              		.loc 1 1612 0
 630 00d0 5A68     		ldr	r2, [r3, #4]
 631 00d2 42F00202 		orr	r2, r2, #2
ARM GAS  /tmp/ccHWpE7O.s 			page 71


 632 00d6 5A60     		str	r2, [r3, #4]
 633              	.LVL40:
1616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 634              		.loc 1 1616 0
 635 00d8 0023     		movs	r3, #0
 636 00da 84F85030 		strb	r3, [r4, #80]
1618:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 637              		.loc 1 1618 0
 638 00de 70BD     		pop	{r4, r5, r6, pc}
 639              	.LVL41:
 640              	.L70:
1616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 641              		.loc 1 1616 0
 642 00e0 0023     		movs	r3, #0
 643              	.LVL42:
1535:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 644              		.loc 1 1535 0
 645 00e2 0120     		movs	r0, #1
 646              	.LVL43:
1616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 647              		.loc 1 1616 0
 648 00e4 84F85030 		strb	r3, [r4, #80]
1618:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 649              		.loc 1 1618 0
 650 00e8 70BD     		pop	{r4, r5, r6, pc}
 651              	.LVL44:
 652              	.L60:
1562:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 653              		.loc 1 1562 0
 654 00ea 4DF6FF70 		movw	r0, #57343
 655 00ee 2168     		ldr	r1, [r4]
 656              	.LVL45:
 657 00f0 0B68     		ldr	r3, [r1]
 658              	.LVL46:
 659 00f2 0340     		ands	r3, r3, r0
 660 00f4 0B60     		str	r3, [r1]
 661 00f6 0B68     		ldr	r3, [r1]
 662 00f8 43F40053 		orr	r3, r3, #8192
 663 00fc 0B60     		str	r3, [r1]
 664 00fe B3E7     		b	.L61
 665              	.L77:
 666              		.align	2
 667              	.L76:
 668 0100 00000000 		.word	SPI_DMAHalfReceiveCplt
 669 0104 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 670 0108 00000000 		.word	SPI_DMAReceiveCplt
 671 010c 00000000 		.word	SPI_DMATransmitReceiveCplt
 672 0110 00000000 		.word	SPI_DMAError
 673              		.cfi_endproc
 674              	.LFE125:
 676              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 677              		.align	1
 678              		.p2align 2,,3
 679              		.weak	HAL_SPI_MspInit
 680              		.syntax unified
 681              		.thumb
 682              		.thumb_func
ARM GAS  /tmp/ccHWpE7O.s 			page 72


 683              		.fpu softvfp
 685              	HAL_SPI_MspInit:
 686              	.LFB148:
 687              		.cfi_startproc
 688              		@ args = 0, pretend = 0, frame = 0
 689              		@ frame_needed = 0, uses_anonymous_args = 0
 690              		@ link register save eliminated.
 691 0000 7047     		bx	lr
 692              		.cfi_endproc
 693              	.LFE148:
 695 0002 00BF     		.section	.text.HAL_SPI_Init,"ax",%progbits
 696              		.align	1
 697              		.p2align 2,,3
 698              		.weak	HAL_SPI_Init
 699              		.syntax unified
 700              		.thumb
 701              		.thumb_func
 702              		.fpu softvfp
 704              	HAL_SPI_Init:
 705              	.LFB64:
 264:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 706              		.loc 1 264 0
 707              		.cfi_startproc
 708              		@ args = 0, pretend = 0, frame = 0
 709              		@ frame_needed = 0, uses_anonymous_args = 0
 710              	.LVL47:
 266:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 711              		.loc 1 266 0
 712 0000 0028     		cmp	r0, #0
 713 0002 3FD0     		beq	.L83
 264:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 714              		.loc 1 264 0
 715 0004 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 716              		.cfi_def_cfa_offset 24
 717              		.cfi_offset 3, -24
 718              		.cfi_offset 4, -20
 719              		.cfi_offset 5, -16
 720              		.cfi_offset 6, -12
 721              		.cfi_offset 7, -8
 722              		.cfi_offset 14, -4
 292:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 723              		.loc 1 292 0
 724 0006 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
 725 000a 0446     		mov	r4, r0
 726 000c 03F0FF02 		and	r2, r3, #255
 727 0010 002B     		cmp	r3, #0
 728 0012 32D0     		beq	.L88
 729              	.LVL48:
 730              	.L81:
 301:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 731              		.loc 1 301 0
 732 0014 0220     		movs	r0, #2
 309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & 
 733              		.loc 1 309 0
 734 0016 A168     		ldr	r1, [r4, #8]
 735 0018 6368     		ldr	r3, [r4, #4]
 736 001a E268     		ldr	r2, [r4, #12]
ARM GAS  /tmp/ccHWpE7O.s 			page 73


 737 001c 0B43     		orrs	r3, r3, r1
 738 001e 2169     		ldr	r1, [r4, #16]
 739 0020 1343     		orrs	r3, r3, r2
 740 0022 6269     		ldr	r2, [r4, #20]
 741 0024 E669     		ldr	r6, [r4, #28]
 742 0026 0B43     		orrs	r3, r3, r1
 743 0028 A569     		ldr	r5, [r4, #24]
 744 002a 216A     		ldr	r1, [r4, #32]
 745 002c 1343     		orrs	r3, r3, r2
 304:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 746              		.loc 1 304 0
 747 002e 2268     		ldr	r2, [r4]
 301:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 748              		.loc 1 301 0
 749 0030 84F85100 		strb	r0, [r4, #81]
 309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & 
 750              		.loc 1 309 0
 751 0034 3343     		orrs	r3, r3, r6
 752 0036 A66A     		ldr	r6, [r4, #40]
 304:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 753              		.loc 1 304 0
 754 0038 1768     		ldr	r7, [r2]
 314:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 755              		.loc 1 314 0
 756 003a 606A     		ldr	r0, [r4, #36]
 309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & 
 757              		.loc 1 309 0
 758 003c 0B43     		orrs	r3, r3, r1
 314:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 759              		.loc 1 314 0
 760 003e 290C     		lsrs	r1, r5, #16
 309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & 
 761              		.loc 1 309 0
 762 0040 3343     		orrs	r3, r3, r6
 763 0042 05F40075 		and	r5, r5, #512
 314:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 764              		.loc 1 314 0
 765 0046 01F00401 		and	r1, r1, #4
 309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & 
 766              		.loc 1 309 0
 767 004a 2B43     		orrs	r3, r3, r5
 314:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 768              		.loc 1 314 0
 769 004c 0143     		orrs	r1, r1, r0
 304:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 770              		.loc 1 304 0
 771 004e 27F04007 		bic	r7, r7, #64
 772 0052 1760     		str	r7, [r2]
 331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 773              		.loc 1 331 0
 774 0054 0125     		movs	r5, #1
 309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   hspi->Init.CLKPolarity | hspi->Init.CLKPhase | (hspi->Init.NSS & 
 775              		.loc 1 309 0
 776 0056 1360     		str	r3, [r2]
 314:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 777              		.loc 1 314 0
 778 0058 5160     		str	r1, [r2, #4]
ARM GAS  /tmp/ccHWpE7O.s 			page 74


 330:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 779              		.loc 1 330 0
 780 005a 0021     		movs	r1, #0
 319:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 781              		.loc 1 319 0
 782 005c B6F5005F 		cmp	r6, #8192
 321:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 783              		.loc 1 321 0
 784 0060 08BF     		it	eq
 785 0062 E36A     		ldreq	r3, [r4, #44]
 333:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 786              		.loc 1 333 0
 787 0064 0846     		mov	r0, r1
 321:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 788              		.loc 1 321 0
 789 0066 08BF     		it	eq
 790 0068 1361     		streq	r3, [r2, #16]
 327:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 791              		.loc 1 327 0
 792 006a D369     		ldr	r3, [r2, #28]
 793 006c 23F40063 		bic	r3, r3, #2048
 794 0070 D361     		str	r3, [r2, #28]
 330:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 795              		.loc 1 330 0
 796 0072 6165     		str	r1, [r4, #84]
 331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 797              		.loc 1 331 0
 798 0074 84F85150 		strb	r5, [r4, #81]
 333:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 799              		.loc 1 333 0
 800 0078 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 801              	.LVL49:
 802              	.L88:
 295:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 803              		.loc 1 295 0
 804 007a 80F85020 		strb	r2, [r0, #80]
 298:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 805              		.loc 1 298 0
 806 007e FFF7FEFF 		bl	HAL_SPI_MspInit
 807              	.LVL50:
 808 0082 C7E7     		b	.L81
 809              	.LVL51:
 810              	.L83:
 811              		.cfi_def_cfa_offset 0
 812              		.cfi_restore 3
 813              		.cfi_restore 4
 814              		.cfi_restore 5
 815              		.cfi_restore 6
 816              		.cfi_restore 7
 817              		.cfi_restore 14
 268:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 818              		.loc 1 268 0
 819 0084 0120     		movs	r0, #1
 820              	.LVL52:
 821 0086 7047     		bx	lr
 822              		.cfi_endproc
 823              	.LFE64:
ARM GAS  /tmp/ccHWpE7O.s 			page 75


 825              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 826              		.align	1
 827              		.p2align 2,,3
 828              		.weak	HAL_SPI_MspDeInit
 829              		.syntax unified
 830              		.thumb
 831              		.thumb_func
 832              		.fpu softvfp
 834              	HAL_SPI_MspDeInit:
 835              	.LFB146:
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 0
 838              		@ frame_needed = 0, uses_anonymous_args = 0
 839              		@ link register save eliminated.
 840 0000 7047     		bx	lr
 841              		.cfi_endproc
 842              	.LFE146:
 844 0002 00BF     		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 845              		.align	1
 846              		.p2align 2,,3
 847              		.global	HAL_SPI_DeInit
 848              		.syntax unified
 849              		.thumb
 850              		.thumb_func
 851              		.fpu softvfp
 853              	HAL_SPI_DeInit:
 854              	.LFB65:
 343:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 855              		.loc 1 343 0
 856              		.cfi_startproc
 857              		@ args = 0, pretend = 0, frame = 0
 858              		@ frame_needed = 0, uses_anonymous_args = 0
 859              	.LVL53:
 345:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 860              		.loc 1 345 0
 861 0000 90B1     		cbz	r0, .L92
 353:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 862              		.loc 1 353 0
 863 0002 0223     		movs	r3, #2
 356:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 864              		.loc 1 356 0
 865 0004 0268     		ldr	r2, [r0]
 343:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 866              		.loc 1 343 0
 867 0006 10B5     		push	{r4, lr}
 868              		.cfi_def_cfa_offset 8
 869              		.cfi_offset 4, -8
 870              		.cfi_offset 14, -4
 353:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 871              		.loc 1 353 0
 872 0008 80F85130 		strb	r3, [r0, #81]
 356:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 873              		.loc 1 356 0
 874 000c 1368     		ldr	r3, [r2]
 875 000e 0446     		mov	r4, r0
 876 0010 23F04003 		bic	r3, r3, #64
 877 0014 1360     		str	r3, [r2]
ARM GAS  /tmp/ccHWpE7O.s 			page 76


 359:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 878              		.loc 1 359 0
 879 0016 FFF7FEFF 		bl	HAL_SPI_MspDeInit
 880              	.LVL54:
 361:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 881              		.loc 1 361 0
 882 001a 0020     		movs	r0, #0
 883 001c 6065     		str	r0, [r4, #84]
 365:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 884              		.loc 1 365 0
 885 001e 84F85000 		strb	r0, [r4, #80]
 362:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 886              		.loc 1 362 0
 887 0022 84F85100 		strb	r0, [r4, #81]
 367:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 888              		.loc 1 367 0
 889 0026 10BD     		pop	{r4, pc}
 890              	.LVL55:
 891              	.L92:
 892              		.cfi_def_cfa_offset 0
 893              		.cfi_restore 4
 894              		.cfi_restore 14
 347:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 895              		.loc 1 347 0
 896 0028 0120     		movs	r0, #1
 897              	.LVL56:
 898 002a 7047     		bx	lr
 899              		.cfi_endproc
 900              	.LFE65:
 902              		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 903              		.align	1
 904              		.p2align 2,,3
 905              		.global	HAL_SPI_Transmit
 906              		.syntax unified
 907              		.thumb
 908              		.thumb_func
 909              		.fpu softvfp
 911              	HAL_SPI_Transmit:
 912              	.LFB68:
 447:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 913              		.loc 1 447 0
 914              		.cfi_startproc
 915              		@ args = 0, pretend = 0, frame = 8
 916              		@ frame_needed = 0, uses_anonymous_args = 0
 917              	.LVL57:
 918 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 919              		.cfi_def_cfa_offset 24
 920              		.cfi_offset 4, -24
 921              		.cfi_offset 5, -20
 922              		.cfi_offset 6, -16
 923              		.cfi_offset 7, -12
 924              		.cfi_offset 8, -8
 925              		.cfi_offset 14, -4
 926 0004 0446     		mov	r4, r0
 455:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 927              		.loc 1 455 0
 928 0006 90F85000 		ldrb	r0, [r0, #80]	@ zero_extendqisi2
ARM GAS  /tmp/ccHWpE7O.s 			page 77


 929              	.LVL58:
 447:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 930              		.loc 1 447 0
 931 000a 84B0     		sub	sp, sp, #16
 932              		.cfi_def_cfa_offset 40
 455:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 933              		.loc 1 455 0
 934 000c 0128     		cmp	r0, #1
 935 000e 03D1     		bne	.L151
 936 0010 0220     		movs	r0, #2
 605:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 937              		.loc 1 605 0
 938 0012 04B0     		add	sp, sp, #16
 939              		.cfi_remember_state
 940              		.cfi_def_cfa_offset 24
 941              		@ sp needed
 942 0014 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 943              	.LVL59:
 944              	.L151:
 945              		.cfi_restore_state
 946 0018 1D46     		mov	r5, r3
 455:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 947              		.loc 1 455 0 discriminator 2
 948 001a 0123     		movs	r3, #1
 949              	.LVL60:
 950 001c 84F85030 		strb	r3, [r4, #80]
 951 0020 0E46     		mov	r6, r1
 952 0022 9046     		mov	r8, r2
 458:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 953              		.loc 1 458 0 discriminator 2
 954 0024 FFF7FEFF 		bl	HAL_GetTick
 955              	.LVL61:
 956 0028 0746     		mov	r7, r0
 957              	.LVL62:
 460:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 958              		.loc 1 460 0 discriminator 2
 959 002a 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 960              	.LVL63:
 961 002e C0B2     		uxtb	r0, r0
 962 0030 0128     		cmp	r0, #1
 963 0032 09D0     		beq	.L152
 462:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 964              		.loc 1 462 0
 965 0034 0220     		movs	r0, #2
 966              	.LVL64:
 967              	.L99:
 601:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 968              		.loc 1 601 0
 969 0036 0122     		movs	r2, #1
 603:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 970              		.loc 1 603 0
 971 0038 0023     		movs	r3, #0
 601:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 972              		.loc 1 601 0
 973 003a 84F85120 		strb	r2, [r4, #81]
 603:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 974              		.loc 1 603 0
ARM GAS  /tmp/ccHWpE7O.s 			page 78


 975 003e 84F85030 		strb	r3, [r4, #80]
 605:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 976              		.loc 1 605 0
 977 0042 04B0     		add	sp, sp, #16
 978              		.cfi_remember_state
 979              		.cfi_def_cfa_offset 24
 980              		@ sp needed
 981 0044 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 982              	.LVL65:
 983              	.L152:
 984              		.cfi_restore_state
 466:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 985              		.loc 1 466 0
 986 0048 002E     		cmp	r6, #0
 987 004a F4D0     		beq	.L99
 466:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 988              		.loc 1 466 0 is_stmt 0 discriminator 1
 989 004c B8F1000F 		cmp	r8, #0
 990 0050 F1D0     		beq	.L99
 474:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 991              		.loc 1 474 0 is_stmt 1
 992 0052 0023     		movs	r3, #0
 473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 993              		.loc 1 473 0
 994 0054 0321     		movs	r1, #3
 487:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 995              		.loc 1 487 0
 996 0056 A268     		ldr	r2, [r4, #8]
 473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 997              		.loc 1 473 0
 998 0058 84F85110 		strb	r1, [r4, #81]
 487:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 999              		.loc 1 487 0
 1000 005c B2F5004F 		cmp	r2, #32768
 474:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1001              		.loc 1 474 0
 1002 0060 6365     		str	r3, [r4, #84]
 480:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 1003              		.loc 1 480 0
 1004 0062 A363     		str	r3, [r4, #56]
 481:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 1005              		.loc 1 481 0
 1006 0064 A387     		strh	r3, [r4, #60]	@ movhi
 483:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1007              		.loc 1 483 0
 1008 0066 6364     		str	r3, [r4, #68]
 484:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1009              		.loc 1 484 0
 1010 0068 2364     		str	r3, [r4, #64]
 477:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1011              		.loc 1 477 0
 1012 006a A4F83680 		strh	r8, [r4, #54]	@ movhi
 475:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1013              		.loc 1 475 0
 1014 006e 2663     		str	r6, [r4, #48]
 482:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1015              		.loc 1 482 0
ARM GAS  /tmp/ccHWpE7O.s 			page 79


 1016 0070 E387     		strh	r3, [r4, #62]	@ movhi
 476:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1017              		.loc 1 476 0
 1018 0072 A4F83480 		strh	r8, [r4, #52]	@ movhi
 489:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1019              		.loc 1 489 0
 1020 0076 2368     		ldr	r3, [r4]
 487:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1021              		.loc 1 487 0
 1022 0078 6BD0     		beq	.L153
 1023              	.L101:
 494:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1024              		.loc 1 494 0
 1025 007a A26A     		ldr	r2, [r4, #40]
 1026 007c B2F5005F 		cmp	r2, #8192
 1027 0080 5DD0     		beq	.L154
 1028              	.L102:
 501:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1029              		.loc 1 501 0
 1030 0082 1A68     		ldr	r2, [r3]
 1031 0084 5206     		lsls	r2, r2, #25
 1032 0086 03D4     		bmi	.L103
 504:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1033              		.loc 1 504 0
 1034 0088 1A68     		ldr	r2, [r3]
 1035 008a 42F04002 		orr	r2, r2, #64
 1036 008e 1A60     		str	r2, [r3]
 1037              	.L103:
 508:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1038              		.loc 1 508 0
 1039 0090 E268     		ldr	r2, [r4, #12]
 1040 0092 B2F5006F 		cmp	r2, #2048
 510:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1041              		.loc 1 510 0
 1042 0096 6268     		ldr	r2, [r4, #4]
 508:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1043              		.loc 1 508 0
 1044 0098 2BD0     		beq	.L155
 540:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1045              		.loc 1 540 0
 1046 009a 52B1     		cbz	r2, .L148
 540:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1047              		.loc 1 540 0 is_stmt 0 discriminator 1
 1048 009c E28E     		ldrh	r2, [r4, #54]
 1049 009e 92B2     		uxth	r2, r2
 1050 00a0 012A     		cmp	r2, #1
 1051 00a2 06D0     		beq	.L148
 1052              	.L116:
 546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1053              		.loc 1 546 0 is_stmt 1
 1054 00a4 E38E     		ldrh	r3, [r4, #54]
 1055 00a6 9BB2     		uxth	r3, r3
 1056 00a8 73B1     		cbz	r3, .L120
 1057              	.L119:
 549:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1058              		.loc 1 549 0
 1059 00aa 2368     		ldr	r3, [r4]
ARM GAS  /tmp/ccHWpE7O.s 			page 80


 1060 00ac 9A68     		ldr	r2, [r3, #8]
 1061 00ae 9207     		lsls	r2, r2, #30
 1062 00b0 15D5     		bpl	.L117
 1063              	.L148:
 551:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pData += sizeof(uint8_t);
 1064              		.loc 1 551 0
 1065 00b2 16F8012B 		ldrb	r2, [r6], #1	@ zero_extendqisi2
 1066              	.LVL66:
 1067 00b6 1A73     		strb	r2, [r3, #12]
 1068              	.LVL67:
 553:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1069              		.loc 1 553 0
 1070 00b8 E38E     		ldrh	r3, [r4, #54]
 1071 00ba 013B     		subs	r3, r3, #1
 1072 00bc 9BB2     		uxth	r3, r3
 1073 00be E386     		strh	r3, [r4, #54]	@ movhi
 546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1074              		.loc 1 546 0
 1075 00c0 E38E     		ldrh	r3, [r4, #54]
 1076 00c2 9BB2     		uxth	r3, r3
 1077 00c4 002B     		cmp	r3, #0
 1078 00c6 F0D1     		bne	.L119
 1079              	.L120:
 568:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1080              		.loc 1 568 0
 1081 00c8 0097     		str	r7, [sp]
 1082 00ca 2B46     		mov	r3, r5
 1083 00cc 0122     		movs	r2, #1
 1084 00ce 0221     		movs	r1, #2
 1085 00d0 2046     		mov	r0, r4
 1086 00d2 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 1087              	.LVL68:
 1088 00d6 0028     		cmp	r0, #0
 1089 00d8 40D0     		beq	.L156
 1090              	.L111:
 531:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           goto error;
 1091              		.loc 1 531 0
 1092 00da 0320     		movs	r0, #3
 1093 00dc ABE7     		b	.L99
 1094              	.L117:
 558:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1095              		.loc 1 558 0
 1096 00de 002D     		cmp	r5, #0
 1097 00e0 FBD0     		beq	.L111
 558:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1098              		.loc 1 558 0 is_stmt 0 discriminator 1
 1099 00e2 6B1C     		adds	r3, r5, #1
 1100 00e4 DED0     		beq	.L116
 558:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1101              		.loc 1 558 0 discriminator 2
 1102 00e6 FFF7FEFF 		bl	HAL_GetTick
 1103              	.LVL69:
 1104 00ea C01B     		subs	r0, r0, r7
 1105 00ec 8542     		cmp	r5, r0
 1106 00ee D9D8     		bhi	.L116
 1107 00f0 F3E7     		b	.L111
 1108              	.L155:
ARM GAS  /tmp/ccHWpE7O.s 			page 81


 510:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1109              		.loc 1 510 0 is_stmt 1
 1110 00f2 5AB1     		cbz	r2, .L147
 510:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1111              		.loc 1 510 0 is_stmt 0 discriminator 1
 1112 00f4 E28E     		ldrh	r2, [r4, #54]
 1113 00f6 92B2     		uxth	r2, r2
 1114 00f8 012A     		cmp	r2, #1
 1115 00fa 07D0     		beq	.L147
 1116              	.L107:
 517:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1117              		.loc 1 517 0 is_stmt 1
 1118 00fc E38E     		ldrh	r3, [r4, #54]
 1119 00fe 9BB2     		uxth	r3, r3
 1120 0100 002B     		cmp	r3, #0
 1121 0102 E1D0     		beq	.L120
 520:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1122              		.loc 1 520 0
 1123 0104 2368     		ldr	r3, [r4]
 1124 0106 9A68     		ldr	r2, [r3, #8]
 1125 0108 9007     		lsls	r0, r2, #30
 1126 010a 0ED5     		bpl	.L108
 1127              	.L147:
 522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           pData += sizeof(uint16_t);
 1128              		.loc 1 522 0
 1129 010c 36F8022B 		ldrh	r2, [r6], #2
 1130              	.LVL70:
 1131 0110 DA60     		str	r2, [r3, #12]
 1132              	.LVL71:
 524:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1133              		.loc 1 524 0
 1134 0112 E38E     		ldrh	r3, [r4, #54]
 1135 0114 013B     		subs	r3, r3, #1
 1136 0116 9BB2     		uxth	r3, r3
 1137 0118 E386     		strh	r3, [r4, #54]	@ movhi
 517:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1138              		.loc 1 517 0
 1139 011a E38E     		ldrh	r3, [r4, #54]
 1140 011c 9BB2     		uxth	r3, r3
 1141 011e 002B     		cmp	r3, #0
 1142 0120 D2D0     		beq	.L120
 520:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1143              		.loc 1 520 0
 1144 0122 2368     		ldr	r3, [r4]
 1145 0124 9A68     		ldr	r2, [r3, #8]
 1146 0126 9007     		lsls	r0, r2, #30
 1147 0128 F0D4     		bmi	.L147
 1148              	.L108:
 529:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1149              		.loc 1 529 0
 1150 012a 002D     		cmp	r5, #0
 1151 012c D5D0     		beq	.L111
 529:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1152              		.loc 1 529 0 is_stmt 0 discriminator 1
 1153 012e 691C     		adds	r1, r5, #1
 1154 0130 E4D0     		beq	.L107
 529:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
ARM GAS  /tmp/ccHWpE7O.s 			page 82


 1155              		.loc 1 529 0 discriminator 2
 1156 0132 FFF7FEFF 		bl	HAL_GetTick
 1157              	.LVL72:
 1158 0136 C01B     		subs	r0, r0, r7
 1159 0138 8542     		cmp	r5, r0
 1160 013a DFD8     		bhi	.L107
 1161 013c CDE7     		b	.L111
 1162              	.L154:
 496:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1163              		.loc 1 496 0 is_stmt 1
 1164 013e 4DF6FF71 		movw	r1, #57343
 1165 0142 1A68     		ldr	r2, [r3]
 1166 0144 0A40     		ands	r2, r2, r1
 1167 0146 1A60     		str	r2, [r3]
 1168 0148 1A68     		ldr	r2, [r3]
 1169 014a 42F40052 		orr	r2, r2, #8192
 1170 014e 1A60     		str	r2, [r3]
 1171 0150 97E7     		b	.L102
 1172              	.L153:
 489:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1173              		.loc 1 489 0
 1174 0152 1A68     		ldr	r2, [r3]
 1175 0154 42F48042 		orr	r2, r2, #16384
 1176 0158 1A60     		str	r2, [r3]
 1177 015a 8EE7     		b	.L101
 1178              	.L156:
 1179              	.LVL73:
 1180              	.LBB27:
 1181              	.LBB28:
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1182              		.loc 1 2981 0
 1183 015c 0246     		mov	r2, r0
 1184 015e 0097     		str	r7, [sp]
 1185 0160 2B46     		mov	r3, r5
 1186 0162 8021     		movs	r1, #128
 1187 0164 2046     		mov	r0, r4
 1188 0166 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 1189              	.LVL74:
 1190 016a 30B1     		cbz	r0, .L121
 1191              	.LBE28:
 1192              	.LBE27:
 578:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 1193              		.loc 1 578 0
 1194 016c 2022     		movs	r2, #32
 1195              	.LBB31:
 1196              	.LBB29:
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 1197              		.loc 1 2983 0
 1198 016e 636D     		ldr	r3, [r4, #84]
 1199              	.LBE29:
 1200              	.LBE31:
 577:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 1201              		.loc 1 577 0
 1202 0170 0120     		movs	r0, #1
 1203              	.LBB32:
 1204              	.LBB30:
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
ARM GAS  /tmp/ccHWpE7O.s 			page 83


 1205              		.loc 1 2983 0
 1206 0172 1343     		orrs	r3, r3, r2
 1207 0174 6365     		str	r3, [r4, #84]
 1208              	.LVL75:
 1209              	.LBE30:
 1210              	.LBE32:
 578:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 1211              		.loc 1 578 0
 1212 0176 6265     		str	r2, [r4, #84]
 579:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1213              		.loc 1 579 0
 1214 0178 5DE7     		b	.L99
 1215              	.LVL76:
 1216              	.L121:
 583:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1217              		.loc 1 583 0
 1218 017a A368     		ldr	r3, [r4, #8]
 1219 017c 33B9     		cbnz	r3, .L124
 1220              	.LBB33:
 585:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1221              		.loc 1 585 0
 1222 017e 2268     		ldr	r2, [r4]
 1223 0180 0393     		str	r3, [sp, #12]
 1224 0182 D368     		ldr	r3, [r2, #12]
 1225 0184 0393     		str	r3, [sp, #12]
 1226 0186 9368     		ldr	r3, [r2, #8]
 1227 0188 0393     		str	r3, [sp, #12]
 1228 018a 039B     		ldr	r3, [sp, #12]
 1229              	.L124:
 1230              	.LBE33:
 589:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1231              		.loc 1 589 0
 1232 018c A36A     		ldr	r3, [r4, #40]
 1233 018e B3F5005F 		cmp	r3, #8192
 1234 0192 04D0     		beq	.L157
 1235              	.L122:
 595:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1236              		.loc 1 595 0
 1237 0194 606D     		ldr	r0, [r4, #84]
 462:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 1238              		.loc 1 462 0
 1239 0196 0030     		adds	r0, r0, #0
 1240 0198 18BF     		it	ne
 1241 019a 0120     		movne	r0, #1
 1242 019c 4BE7     		b	.L99
 1243              	.L157:
 591:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1244              		.loc 1 591 0
 1245 019e 2268     		ldr	r2, [r4]
 1246 01a0 1368     		ldr	r3, [r2]
 1247 01a2 43F48053 		orr	r3, r3, #4096
 1248 01a6 1360     		str	r3, [r2]
 1249 01a8 F4E7     		b	.L122
 1250              		.cfi_endproc
 1251              	.LFE68:
 1253 01aa 00BF     		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
 1254              		.align	1
ARM GAS  /tmp/ccHWpE7O.s 			page 84


 1255              		.p2align 2,,3
 1256              		.global	HAL_SPI_Transmit_IT
 1257              		.syntax unified
 1258              		.thumb
 1259              		.thumb_func
 1260              		.fpu softvfp
 1262              	HAL_SPI_Transmit_IT:
 1263              	.LFB71:
1056:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1264              		.loc 1 1056 0
 1265              		.cfi_startproc
 1266              		@ args = 0, pretend = 0, frame = 0
 1267              		@ frame_needed = 0, uses_anonymous_args = 0
 1268              		@ link register save eliminated.
 1269              	.LVL77:
 1270 0000 0346     		mov	r3, r0
1063:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1271              		.loc 1 1063 0
 1272 0002 90F85000 		ldrb	r0, [r0, #80]	@ zero_extendqisi2
 1273              	.LVL78:
 1274 0006 0128     		cmp	r0, #1
 1275 0008 0DD0     		beq	.L169
1063:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1276              		.loc 1 1063 0 is_stmt 0 discriminator 2
 1277 000a 0120     		movs	r0, #1
 1278 000c 83F85000 		strb	r0, [r3, #80]
1065:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1279              		.loc 1 1065 0 is_stmt 1 discriminator 2
 1280 0010 29B1     		cbz	r1, .L178
1065:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1281              		.loc 1 1065 0 is_stmt 0 discriminator 1
 1282 0012 22B1     		cbz	r2, .L178
1071:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1283              		.loc 1 1071 0 is_stmt 1
 1284 0014 93F85100 		ldrb	r0, [r3, #81]	@ zero_extendqisi2
 1285 0018 0128     		cmp	r0, #1
 1286 001a 06D0     		beq	.L182
1073:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 1287              		.loc 1 1073 0
 1288 001c 0220     		movs	r0, #2
 1289              	.L178:
 1290              	.LVL79:
1133:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 1291              		.loc 1 1133 0
 1292 001e 0022     		movs	r2, #0
 1293              	.LVL80:
 1294 0020 83F85020 		strb	r2, [r3, #80]
1135:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1295              		.loc 1 1135 0
 1296 0024 7047     		bx	lr
 1297              	.LVL81:
 1298              	.L169:
1063:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1299              		.loc 1 1063 0
 1300 0026 0220     		movs	r0, #2
 1301 0028 7047     		bx	lr
 1302              	.L182:
ARM GAS  /tmp/ccHWpE7O.s 			page 85


1056:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1303              		.loc 1 1056 0
 1304 002a 30B4     		push	{r4, r5}
 1305              		.cfi_def_cfa_offset 8
 1306              		.cfi_offset 4, -8
 1307              		.cfi_offset 5, -4
1079:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1308              		.loc 1 1079 0
 1309 002c 0020     		movs	r0, #0
1078:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1310              		.loc 1 1078 0
 1311 002e 0325     		movs	r5, #3
1091:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1312              		.loc 1 1091 0
 1313 0030 DC68     		ldr	r4, [r3, #12]
1078:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1314              		.loc 1 1078 0
 1315 0032 83F85150 		strb	r5, [r3, #81]
1080:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1316              		.loc 1 1080 0
 1317 0036 1963     		str	r1, [r3, #48]
1079:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1318              		.loc 1 1079 0
 1319 0038 5865     		str	r0, [r3, #84]
1081:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1320              		.loc 1 1081 0
 1321 003a 9A86     		strh	r2, [r3, #52]	@ movhi
1082:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1322              		.loc 1 1082 0
 1323 003c DA86     		strh	r2, [r3, #54]	@ movhi
1085:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 1324              		.loc 1 1085 0
 1325 003e 9863     		str	r0, [r3, #56]
1086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 1326              		.loc 1 1086 0
 1327 0040 9887     		strh	r0, [r3, #60]	@ movhi
1088:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1328              		.loc 1 1088 0
 1329 0042 1864     		str	r0, [r3, #64]
1087:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1330              		.loc 1 1087 0
 1331 0044 D887     		strh	r0, [r3, #62]	@ movhi
1091:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1332              		.loc 1 1091 0
 1333 0046 E4B9     		cbnz	r4, .L183
1097:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1334              		.loc 1 1097 0
 1335 0048 1C4A     		ldr	r2, .L185
 1336              	.LVL82:
 1337 004a 5A64     		str	r2, [r3, #68]
 1338              	.L162:
1101:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1339              		.loc 1 1101 0
 1340 004c 9968     		ldr	r1, [r3, #8]
 1341              	.LVL83:
 1342 004e B1F5004F 		cmp	r1, #32768
 1343 0052 19D0     		beq	.L184
ARM GAS  /tmp/ccHWpE7O.s 			page 86


1108:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1344              		.loc 1 1108 0
 1345 0054 9A6A     		ldr	r2, [r3, #40]
 1346 0056 B2F5005F 		cmp	r2, #8192
 1347 005a 1A68     		ldr	r2, [r3]
 1348 005c 1DD0     		beq	.L164
 1349              	.L167:
1114:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1350              		.loc 1 1114 0
 1351 005e 41BB     		cbnz	r1, .L165
1117:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1352              		.loc 1 1117 0
 1353 0060 5168     		ldr	r1, [r2, #4]
 1354 0062 41F08001 		orr	r1, r1, #128
 1355 0066 5160     		str	r1, [r2, #4]
 1356              	.L168:
1126:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1357              		.loc 1 1126 0
 1358 0068 1068     		ldr	r0, [r2]
 1359 006a 10F04000 		ands	r0, r0, #64
 1360 006e 1ED1     		bne	.L173
1129:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1361              		.loc 1 1129 0
 1362 0070 1168     		ldr	r1, [r2]
 1363 0072 41F04001 		orr	r1, r1, #64
 1364 0076 1160     		str	r1, [r2]
 1365              	.L160:
 1366              	.LVL84:
1133:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 1367              		.loc 1 1133 0
 1368 0078 0022     		movs	r2, #0
1135:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1369              		.loc 1 1135 0
 1370 007a 30BC     		pop	{r4, r5}
 1371              		.cfi_remember_state
 1372              		.cfi_restore 5
 1373              		.cfi_restore 4
 1374              		.cfi_def_cfa_offset 0
1133:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 1375              		.loc 1 1133 0
 1376 007c 83F85020 		strb	r2, [r3, #80]
1135:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1377              		.loc 1 1135 0
 1378 0080 7047     		bx	lr
 1379              	.LVL85:
 1380              	.L183:
 1381              		.cfi_restore_state
1093:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1382              		.loc 1 1093 0
 1383 0082 0F4A     		ldr	r2, .L185+4
 1384              	.LVL86:
 1385 0084 5A64     		str	r2, [r3, #68]
 1386 0086 E1E7     		b	.L162
 1387              	.LVL87:
 1388              	.L184:
1103:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1389              		.loc 1 1103 0
ARM GAS  /tmp/ccHWpE7O.s 			page 87


 1390 0088 1A68     		ldr	r2, [r3]
1108:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1391              		.loc 1 1108 0
 1392 008a 9C6A     		ldr	r4, [r3, #40]
1103:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1393              		.loc 1 1103 0
 1394 008c 1068     		ldr	r0, [r2]
1108:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1395              		.loc 1 1108 0
 1396 008e B4F5005F 		cmp	r4, #8192
1103:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1397              		.loc 1 1103 0
 1398 0092 40F48040 		orr	r0, r0, #16384
 1399 0096 1060     		str	r0, [r2]
1108:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1400              		.loc 1 1108 0
 1401 0098 0BD1     		bne	.L165
 1402              	.L164:
1110:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1403              		.loc 1 1110 0
 1404 009a 4DF6FF74 		movw	r4, #57343
 1405 009e 1068     		ldr	r0, [r2]
 1406 00a0 2040     		ands	r0, r0, r4
 1407 00a2 1060     		str	r0, [r2]
 1408 00a4 1068     		ldr	r0, [r2]
 1409 00a6 40F40050 		orr	r0, r0, #8192
 1410 00aa 1060     		str	r0, [r2]
 1411 00ac D7E7     		b	.L167
 1412              	.L173:
1057:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1413              		.loc 1 1057 0
 1414 00ae 0020     		movs	r0, #0
 1415 00b0 E2E7     		b	.L160
 1416              	.L165:
1122:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1417              		.loc 1 1122 0
 1418 00b2 5168     		ldr	r1, [r2, #4]
 1419 00b4 41F0A001 		orr	r1, r1, #160
 1420 00b8 5160     		str	r1, [r2, #4]
 1421 00ba D5E7     		b	.L168
 1422              	.L186:
 1423              		.align	2
 1424              	.L185:
 1425 00bc 00000000 		.word	SPI_TxISR_8BIT
 1426 00c0 00000000 		.word	SPI_TxISR_16BIT
 1427              		.cfi_endproc
 1428              	.LFE71:
 1430              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 1431              		.align	1
 1432              		.p2align 2,,3
 1433              		.global	HAL_SPI_Receive_IT
 1434              		.syntax unified
 1435              		.thumb
 1436              		.thumb_func
 1437              		.fpu softvfp
 1439              	HAL_SPI_Receive_IT:
 1440              	.LFB72:
ARM GAS  /tmp/ccHWpE7O.s 			page 88


1146:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1441              		.loc 1 1146 0
 1442              		.cfi_startproc
 1443              		@ args = 0, pretend = 0, frame = 0
 1444              		@ frame_needed = 0, uses_anonymous_args = 0
 1445              		@ link register save eliminated.
 1446              	.LVL88:
 1447 0000 70B4     		push	{r4, r5, r6}
 1448              		.cfi_def_cfa_offset 12
 1449              		.cfi_offset 4, -12
 1450              		.cfi_offset 5, -8
 1451              		.cfi_offset 6, -4
1149:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1452              		.loc 1 1149 0
 1453 0002 8568     		ldr	r5, [r0, #8]
1146:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1454              		.loc 1 1146 0
 1455 0004 0446     		mov	r4, r0
 1456 0006 0E46     		mov	r6, r1
1149:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1457              		.loc 1 1149 0
 1458 0008 1DB9     		cbnz	r5, .L188
1149:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1459              		.loc 1 1149 0 is_stmt 0 discriminator 1
 1460 000a 4368     		ldr	r3, [r0, #4]
 1461 000c B3F5827F 		cmp	r3, #260
 1462 0010 11D0     		beq	.L206
 1463              	.L188:
1157:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1464              		.loc 1 1157 0 is_stmt 1
 1465 0012 94F85010 		ldrb	r1, [r4, #80]	@ zero_extendqisi2
 1466              	.LVL89:
 1467 0016 0129     		cmp	r1, #1
 1468 0018 14D0     		beq	.L191
1157:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1469              		.loc 1 1157 0 is_stmt 0 discriminator 2
 1470 001a 0123     		movs	r3, #1
1159:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1471              		.loc 1 1159 0 is_stmt 1 discriminator 2
 1472 001c 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 1473              	.LVL90:
1157:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1474              		.loc 1 1157 0 discriminator 2
 1475 0020 84F85030 		strb	r3, [r4, #80]
1159:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1476              		.loc 1 1159 0 discriminator 2
 1477 0024 C0B2     		uxtb	r0, r0
 1478 0026 9842     		cmp	r0, r3
 1479 0028 0FD0     		beq	.L207
1161:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 1480              		.loc 1 1161 0
 1481 002a 0220     		movs	r0, #2
 1482              	.LVL91:
 1483              	.L192:
1224:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 1484              		.loc 1 1224 0
 1485 002c 0023     		movs	r3, #0
ARM GAS  /tmp/ccHWpE7O.s 			page 89


 1486 002e 84F85030 		strb	r3, [r4, #80]
1226:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1487              		.loc 1 1226 0
 1488 0032 70BC     		pop	{r4, r5, r6}
 1489              		.cfi_remember_state
 1490              		.cfi_restore 6
 1491              		.cfi_restore 5
 1492              		.cfi_restore 4
 1493              		.cfi_def_cfa_offset 0
 1494              	.LVL92:
 1495 0034 7047     		bx	lr
 1496              	.LVL93:
 1497              	.L206:
 1498              		.cfi_restore_state
1151:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
 1499              		.loc 1 1151 0
 1500 0036 0425     		movs	r5, #4
 1501              	.LBB34:
 1502              	.LBB35:
1246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1503              		.loc 1 1246 0
 1504 0038 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 1505              	.LBE35:
 1506              	.LBE34:
1151:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
 1507              		.loc 1 1151 0
 1508 003c 80F85150 		strb	r5, [r0, #81]
 1509              	.LVL94:
 1510              	.LBB40:
 1511              	.LBB36:
1246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1512              		.loc 1 1246 0
 1513 0040 012B     		cmp	r3, #1
 1514 0042 2BD1     		bne	.L189
 1515              	.LVL95:
 1516              	.L191:
 1517              	.LBE36:
 1518              	.LBE40:
1226:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1519              		.loc 1 1226 0
 1520 0044 70BC     		pop	{r4, r5, r6}
 1521              		.cfi_remember_state
 1522              		.cfi_restore 4
 1523              		.cfi_restore 5
 1524              		.cfi_restore 6
 1525              		.cfi_def_cfa_offset 0
 1526              	.LVL96:
 1527              	.LBB41:
 1528              	.LBB37:
1246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1529              		.loc 1 1246 0
 1530 0046 0220     		movs	r0, #2
 1531              	.LVL97:
 1532              	.LBE37:
 1533              	.LBE41:
1226:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1534              		.loc 1 1226 0
ARM GAS  /tmp/ccHWpE7O.s 			page 90


 1535 0048 7047     		bx	lr
 1536              	.LVL98:
 1537              	.L207:
 1538              		.cfi_restore_state
1165:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1539              		.loc 1 1165 0
 1540 004a 002E     		cmp	r6, #0
 1541 004c EED0     		beq	.L192
1165:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1542              		.loc 1 1165 0 is_stmt 0 discriminator 1
 1543 004e 002A     		cmp	r2, #0
 1544 0050 ECD0     		beq	.L192
1173:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1545              		.loc 1 1173 0 is_stmt 1
 1546 0052 0023     		movs	r3, #0
1172:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1547              		.loc 1 1172 0
 1548 0054 0420     		movs	r0, #4
1185:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1549              		.loc 1 1185 0
 1550 0056 E168     		ldr	r1, [r4, #12]
1172:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1551              		.loc 1 1172 0
 1552 0058 84F85100 		strb	r0, [r4, #81]
1174:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1553              		.loc 1 1174 0
 1554 005c A663     		str	r6, [r4, #56]
1173:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1555              		.loc 1 1173 0
 1556 005e 6365     		str	r3, [r4, #84]
1175:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1557              		.loc 1 1175 0
 1558 0060 A287     		strh	r2, [r4, #60]	@ movhi
1176:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1559              		.loc 1 1176 0
 1560 0062 E287     		strh	r2, [r4, #62]	@ movhi
1179:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1561              		.loc 1 1179 0
 1562 0064 2363     		str	r3, [r4, #48]
1180:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1563              		.loc 1 1180 0
 1564 0066 A386     		strh	r3, [r4, #52]	@ movhi
1182:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1565              		.loc 1 1182 0
 1566 0068 6364     		str	r3, [r4, #68]
1181:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1567              		.loc 1 1181 0
 1568 006a E386     		strh	r3, [r4, #54]	@ movhi
1185:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1569              		.loc 1 1185 0
 1570 006c D9B9     		cbnz	r1, .L208
1191:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1571              		.loc 1 1191 0
 1572 006e 184B     		ldr	r3, .L211
 1573 0070 2364     		str	r3, [r4, #64]
 1574              	.L194:
1195:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccHWpE7O.s 			page 91


 1575              		.loc 1 1195 0
 1576 0072 B5F5004F 		cmp	r5, #32768
1197:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1577              		.loc 1 1197 0
 1578 0076 2368     		ldr	r3, [r4]
1195:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1579              		.loc 1 1195 0
 1580 0078 24D0     		beq	.L209
 1581              	.LVL99:
 1582              	.L196:
1202:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1583              		.loc 1 1202 0
 1584 007a A26A     		ldr	r2, [r4, #40]
 1585 007c B2F5005F 		cmp	r2, #8192
 1586 0080 16D0     		beq	.L210
 1587              	.L197:
1209:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1588              		.loc 1 1209 0
 1589 0082 5A68     		ldr	r2, [r3, #4]
 1590 0084 42F06002 		orr	r2, r2, #96
 1591 0088 5A60     		str	r2, [r3, #4]
1216:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1592              		.loc 1 1216 0
 1593 008a 1868     		ldr	r0, [r3]
 1594 008c 10F04000 		ands	r0, r0, #64
 1595 0090 0CD1     		bne	.L201
1219:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1596              		.loc 1 1219 0
 1597 0092 1A68     		ldr	r2, [r3]
 1598 0094 42F04002 		orr	r2, r2, #64
 1599 0098 1A60     		str	r2, [r3]
 1600 009a C7E7     		b	.L192
 1601              	.LVL100:
 1602              	.L189:
 1603              	.LBB42:
 1604              	.LBB38:
 1605 009c 1346     		mov	r3, r2
 1606              	.LBE38:
 1607              	.LBE42:
1226:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1608              		.loc 1 1226 0
 1609 009e 70BC     		pop	{r4, r5, r6}
 1610              		.cfi_remember_state
 1611              		.cfi_restore 6
 1612              		.cfi_restore 5
 1613              		.cfi_restore 4
 1614              		.cfi_def_cfa_offset 0
 1615              	.LBB43:
 1616              	.LBB39:
 1617 00a0 0A46     		mov	r2, r1
 1618              	.LVL101:
 1619 00a2 FFF7FEBF 		b	HAL_SPI_TransmitReceive_IT.part.1
 1620              	.LVL102:
 1621              	.L208:
 1622              		.cfi_restore_state
 1623              	.LBE39:
 1624              	.LBE43:
ARM GAS  /tmp/ccHWpE7O.s 			page 92


1187:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1625              		.loc 1 1187 0
 1626 00a6 0B4B     		ldr	r3, .L211+4
 1627 00a8 2364     		str	r3, [r4, #64]
 1628 00aa E2E7     		b	.L194
 1629              	.LVL103:
 1630              	.L201:
1147:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1631              		.loc 1 1147 0
 1632 00ac 0020     		movs	r0, #0
 1633 00ae BDE7     		b	.L192
 1634              	.L210:
1204:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1635              		.loc 1 1204 0
 1636 00b0 4DF6FF71 		movw	r1, #57343
 1637 00b4 1A68     		ldr	r2, [r3]
 1638 00b6 0A40     		ands	r2, r2, r1
 1639 00b8 1A60     		str	r2, [r3]
 1640 00ba 1A68     		ldr	r2, [r3]
 1641 00bc 42F40052 		orr	r2, r2, #8192
 1642 00c0 1A60     		str	r2, [r3]
 1643 00c2 DEE7     		b	.L197
 1644              	.LVL104:
 1645              	.L209:
1197:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1646              		.loc 1 1197 0
 1647 00c4 1A68     		ldr	r2, [r3]
 1648              	.LVL105:
 1649 00c6 22F48042 		bic	r2, r2, #16384
 1650 00ca 1A60     		str	r2, [r3]
 1651 00cc D5E7     		b	.L196
 1652              	.L212:
 1653 00ce 00BF     		.align	2
 1654              	.L211:
 1655 00d0 00000000 		.word	SPI_RxISR_8BIT
 1656 00d4 00000000 		.word	SPI_RxISR_16BIT
 1657              		.cfi_endproc
 1658              	.LFE72:
 1660              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 1661              		.align	1
 1662              		.p2align 2,,3
 1663              		.global	HAL_SPI_TransmitReceive_IT
 1664              		.syntax unified
 1665              		.thumb
 1666              		.thumb_func
 1667              		.fpu softvfp
 1669              	HAL_SPI_TransmitReceive_IT:
 1670              	.LFB73:
1238:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 1671              		.loc 1 1238 0
 1672              		.cfi_startproc
 1673              		@ args = 0, pretend = 0, frame = 0
 1674              		@ frame_needed = 0, uses_anonymous_args = 0
 1675              		@ link register save eliminated.
 1676              	.LVL106:
 1677 0000 10B4     		push	{r4}
 1678              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccHWpE7O.s 			page 93


 1679              		.cfi_offset 4, -4
1246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1680              		.loc 1 1246 0
 1681 0002 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 1682 0006 012C     		cmp	r4, #1
 1683 0008 02D0     		beq	.L214
1313:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1684              		.loc 1 1313 0 discriminator 2
 1685 000a 10BC     		pop	{r4}
 1686              		.cfi_remember_state
 1687              		.cfi_restore 4
 1688              		.cfi_def_cfa_offset 0
 1689 000c FFF7FEBF 		b	HAL_SPI_TransmitReceive_IT.part.1
 1690              	.LVL107:
 1691              	.L214:
 1692              		.cfi_restore_state
1313:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1693              		.loc 1 1313 0 is_stmt 0
 1694 0010 0220     		movs	r0, #2
 1695              	.LVL108:
 1696 0012 10BC     		pop	{r4}
 1697              		.cfi_restore 4
 1698              		.cfi_def_cfa_offset 0
 1699 0014 7047     		bx	lr
 1700              		.cfi_endproc
 1701              	.LFE73:
 1703 0016 00BF     		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 1704              		.align	1
 1705              		.p2align 2,,3
 1706              		.global	HAL_SPI_Transmit_DMA
 1707              		.syntax unified
 1708              		.thumb
 1709              		.thumb_func
 1710              		.fpu softvfp
 1712              	HAL_SPI_Transmit_DMA:
 1713              	.LFB74:
1324:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1714              		.loc 1 1324 0 is_stmt 1
 1715              		.cfi_startproc
 1716              		@ args = 0, pretend = 0, frame = 0
 1717              		@ frame_needed = 0, uses_anonymous_args = 0
 1718              	.LVL109:
 1719 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1720              		.cfi_def_cfa_offset 24
 1721              		.cfi_offset 3, -24
 1722              		.cfi_offset 4, -20
 1723              		.cfi_offset 5, -16
 1724              		.cfi_offset 6, -12
 1725              		.cfi_offset 7, -8
 1726              		.cfi_offset 14, -4
1331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1727              		.loc 1 1331 0
 1728 0002 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 1729 0006 012B     		cmp	r3, #1
 1730 0008 0DD0     		beq	.L223
1331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1731              		.loc 1 1331 0 is_stmt 0 discriminator 2
ARM GAS  /tmp/ccHWpE7O.s 			page 94


 1732 000a 0123     		movs	r3, #1
 1733 000c 0446     		mov	r4, r0
1333:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1734              		.loc 1 1333 0 is_stmt 1 discriminator 2
 1735 000e 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 1736              	.LVL110:
1331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1737              		.loc 1 1331 0 discriminator 2
 1738 0012 84F85030 		strb	r3, [r4, #80]
1333:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1739              		.loc 1 1333 0 discriminator 2
 1740 0016 C0B2     		uxtb	r0, r0
 1741 0018 9842     		cmp	r0, r3
 1742 001a 06D0     		beq	.L228
1335:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 1743              		.loc 1 1335 0
 1744 001c 0220     		movs	r0, #2
 1745              	.LVL111:
 1746              	.L218:
1403:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 1747              		.loc 1 1403 0
 1748 001e 0023     		movs	r3, #0
 1749 0020 84F85030 		strb	r3, [r4, #80]
1404:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 1750              		.loc 1 1404 0
 1751 0024 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1752              	.LVL112:
 1753              	.L223:
1331:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1754              		.loc 1 1331 0
 1755 0026 0220     		movs	r0, #2
 1756              	.LVL113:
1405:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1757              		.loc 1 1405 0
 1758 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1759              	.LVL114:
 1760              	.L228:
1339:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1761              		.loc 1 1339 0
 1762 002a 0029     		cmp	r1, #0
 1763 002c F7D0     		beq	.L218
1339:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1764              		.loc 1 1339 0 is_stmt 0 discriminator 1
 1765 002e 002A     		cmp	r2, #0
 1766 0030 F5D0     		beq	.L218
1347:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1767              		.loc 1 1347 0 is_stmt 1
 1768 0032 0023     		movs	r3, #0
1346:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1769              		.loc 1 1346 0
 1770 0034 0325     		movs	r5, #3
1360:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1771              		.loc 1 1360 0
 1772 0036 A068     		ldr	r0, [r4, #8]
1346:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1773              		.loc 1 1346 0
 1774 0038 84F85150 		strb	r5, [r4, #81]
ARM GAS  /tmp/ccHWpE7O.s 			page 95


1360:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1775              		.loc 1 1360 0
 1776 003c B0F5004F 		cmp	r0, #32768
1347:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1777              		.loc 1 1347 0
 1778 0040 6365     		str	r3, [r4, #84]
1349:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1779              		.loc 1 1349 0
 1780 0042 A286     		strh	r2, [r4, #52]	@ movhi
1350:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1781              		.loc 1 1350 0
 1782 0044 E286     		strh	r2, [r4, #54]	@ movhi
1348:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1783              		.loc 1 1348 0
 1784 0046 2163     		str	r1, [r4, #48]
1353:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1785              		.loc 1 1353 0
 1786 0048 A363     		str	r3, [r4, #56]
1354:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1787              		.loc 1 1354 0
 1788 004a 6364     		str	r3, [r4, #68]
1355:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 1789              		.loc 1 1355 0
 1790 004c 2364     		str	r3, [r4, #64]
1356:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 1791              		.loc 1 1356 0
 1792 004e A387     		strh	r3, [r4, #60]	@ movhi
1357:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1793              		.loc 1 1357 0
 1794 0050 E387     		strh	r3, [r4, #62]	@ movhi
1362:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1795              		.loc 1 1362 0
 1796 0052 2268     		ldr	r2, [r4]
 1797              	.LVL115:
1360:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1798              		.loc 1 1360 0
 1799 0054 2DD0     		beq	.L229
 1800              	.L220:
1367:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1801              		.loc 1 1367 0
 1802 0056 A36A     		ldr	r3, [r4, #40]
 1803 0058 B3F5005F 		cmp	r3, #8192
 1804 005c 1FD0     		beq	.L230
 1805              	.L221:
1383:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1806              		.loc 1 1383 0
 1807 005e 0023     		movs	r3, #0
1374:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1808              		.loc 1 1374 0
 1809 0060 A06C     		ldr	r0, [r4, #72]
 1810 0062 164F     		ldr	r7, .L231
1383:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1811              		.loc 1 1383 0
 1812 0064 4363     		str	r3, [r0, #52]
1377:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1813              		.loc 1 1377 0
 1814 0066 164E     		ldr	r6, .L231+4
ARM GAS  /tmp/ccHWpE7O.s 			page 96


1386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1815              		.loc 1 1386 0
 1816 0068 E38E     		ldrh	r3, [r4, #54]
1380:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1817              		.loc 1 1380 0
 1818 006a 164D     		ldr	r5, .L231+8
1386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1819              		.loc 1 1386 0
 1820 006c 0C32     		adds	r2, r2, #12
 1821 006e 9BB2     		uxth	r3, r3
1374:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1822              		.loc 1 1374 0
 1823 0070 C762     		str	r7, [r0, #44]
1377:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1824              		.loc 1 1377 0
 1825 0072 8662     		str	r6, [r0, #40]
1380:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1826              		.loc 1 1380 0
 1827 0074 0563     		str	r5, [r0, #48]
1386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1828              		.loc 1 1386 0
 1829 0076 FFF7FEFF 		bl	HAL_DMA_Start_IT
 1830              	.LVL116:
1389:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1831              		.loc 1 1389 0
 1832 007a 2368     		ldr	r3, [r4]
 1833 007c 1A68     		ldr	r2, [r3]
 1834 007e 5206     		lsls	r2, r2, #25
 1835 0080 03D4     		bmi	.L222
1392:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1836              		.loc 1 1392 0
 1837 0082 1A68     		ldr	r2, [r3]
 1838 0084 42F04002 		orr	r2, r2, #64
 1839 0088 1A60     		str	r2, [r3]
 1840              	.L222:
1396:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1841              		.loc 1 1396 0
 1842 008a 5A68     		ldr	r2, [r3, #4]
1325:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1843              		.loc 1 1325 0
 1844 008c 0020     		movs	r0, #0
1396:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1845              		.loc 1 1396 0
 1846 008e 42F02002 		orr	r2, r2, #32
 1847 0092 5A60     		str	r2, [r3, #4]
1399:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1848              		.loc 1 1399 0
 1849 0094 5A68     		ldr	r2, [r3, #4]
 1850 0096 42F00202 		orr	r2, r2, #2
 1851 009a 5A60     		str	r2, [r3, #4]
 1852 009c BFE7     		b	.L218
 1853              	.LVL117:
 1854              	.L230:
1369:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1855              		.loc 1 1369 0
 1856 009e 4DF6FF70 		movw	r0, #57343
 1857 00a2 1368     		ldr	r3, [r2]
ARM GAS  /tmp/ccHWpE7O.s 			page 97


 1858 00a4 0340     		ands	r3, r3, r0
 1859 00a6 1360     		str	r3, [r2]
 1860 00a8 1368     		ldr	r3, [r2]
 1861 00aa 43F40053 		orr	r3, r3, #8192
 1862 00ae 1360     		str	r3, [r2]
 1863 00b0 D5E7     		b	.L221
 1864              	.L229:
1362:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1865              		.loc 1 1362 0
 1866 00b2 1368     		ldr	r3, [r2]
 1867 00b4 43F48043 		orr	r3, r3, #16384
 1868 00b8 1360     		str	r3, [r2]
 1869 00ba CCE7     		b	.L220
 1870              	.L232:
 1871              		.align	2
 1872              	.L231:
 1873 00bc 00000000 		.word	SPI_DMAHalfTransmitCplt
 1874 00c0 00000000 		.word	SPI_DMATransmitCplt
 1875 00c4 00000000 		.word	SPI_DMAError
 1876              		.cfi_endproc
 1877              	.LFE74:
 1879              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 1880              		.align	1
 1881              		.p2align 2,,3
 1882              		.global	HAL_SPI_Receive_DMA
 1883              		.syntax unified
 1884              		.thumb
 1885              		.thumb_func
 1886              		.fpu softvfp
 1888              	HAL_SPI_Receive_DMA:
 1889              	.LFB75:
1417:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1890              		.loc 1 1417 0
 1891              		.cfi_startproc
 1892              		@ args = 0, pretend = 0, frame = 0
 1893              		@ frame_needed = 0, uses_anonymous_args = 0
 1894              	.LVL118:
 1895 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1896              		.cfi_def_cfa_offset 24
 1897              		.cfi_offset 4, -24
 1898              		.cfi_offset 5, -20
 1899              		.cfi_offset 6, -16
 1900              		.cfi_offset 7, -12
 1901              		.cfi_offset 8, -8
 1902              		.cfi_offset 14, -4
1420:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1903              		.loc 1 1420 0
 1904 0004 8668     		ldr	r6, [r0, #8]
1417:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1905              		.loc 1 1417 0
 1906 0006 0446     		mov	r4, r0
 1907 0008 0D46     		mov	r5, r1
1420:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1908              		.loc 1 1420 0
 1909 000a 1EB9     		cbnz	r6, .L234
1420:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1910              		.loc 1 1420 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccHWpE7O.s 			page 98


 1911 000c 4368     		ldr	r3, [r0, #4]
 1912 000e B3F5827F 		cmp	r3, #260
 1913 0012 11D0     		beq	.L250
 1914              	.L234:
1428:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1915              		.loc 1 1428 0 is_stmt 1
 1916 0014 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 1917 0018 012B     		cmp	r3, #1
 1918 001a 14D0     		beq	.L237
1428:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1919              		.loc 1 1428 0 is_stmt 0 discriminator 2
 1920 001c 0123     		movs	r3, #1
1430:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1921              		.loc 1 1430 0 is_stmt 1 discriminator 2
 1922 001e 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 1923              	.LVL119:
1428:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1924              		.loc 1 1428 0 discriminator 2
 1925 0022 84F85030 		strb	r3, [r4, #80]
1430:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1926              		.loc 1 1430 0 discriminator 2
 1927 0026 C0B2     		uxtb	r0, r0
 1928 0028 9842     		cmp	r0, r3
 1929 002a 0FD0     		beq	.L251
1432:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 1930              		.loc 1 1432 0
 1931 002c 0220     		movs	r0, #2
 1932              	.LVL120:
 1933              	.L238:
1499:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 1934              		.loc 1 1499 0
 1935 002e 0023     		movs	r3, #0
 1936 0030 84F85030 		strb	r3, [r4, #80]
1501:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1937              		.loc 1 1501 0
 1938 0034 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1939              	.LVL121:
 1940              	.L250:
1422:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
 1941              		.loc 1 1422 0
 1942 0038 0426     		movs	r6, #4
 1943              	.LBB44:
 1944              	.LBB45:
1522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1945              		.loc 1 1522 0
 1946 003a 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 1947              	.LBE45:
 1948              	.LBE44:
1422:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
 1949              		.loc 1 1422 0
 1950 003e 80F85160 		strb	r6, [r0, #81]
 1951              	.LVL122:
 1952              	.LBB49:
 1953              	.LBB46:
1522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1954              		.loc 1 1522 0
 1955 0042 012B     		cmp	r3, #1
ARM GAS  /tmp/ccHWpE7O.s 			page 99


 1956 0044 3DD1     		bne	.L235
 1957              	.LVL123:
 1958              	.L237:
 1959 0046 0220     		movs	r0, #2
 1960              	.LVL124:
 1961 0048 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1962              	.LVL125:
 1963              	.L251:
 1964              	.LBE46:
 1965              	.LBE49:
1436:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1966              		.loc 1 1436 0
 1967 004c 002D     		cmp	r5, #0
 1968 004e EED0     		beq	.L238
1436:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1969              		.loc 1 1436 0 is_stmt 0 discriminator 1
 1970 0050 002A     		cmp	r2, #0
 1971 0052 ECD0     		beq	.L238
1444:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1972              		.loc 1 1444 0 is_stmt 1
 1973 0054 0023     		movs	r3, #0
1443:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1974              		.loc 1 1443 0
 1975 0056 0421     		movs	r1, #4
 1976              	.LVL126:
1456:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1977              		.loc 1 1456 0
 1978 0058 B6F5004F 		cmp	r6, #32768
1443:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1979              		.loc 1 1443 0
 1980 005c 84F85110 		strb	r1, [r4, #81]
1445:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1981              		.loc 1 1445 0
 1982 0060 A563     		str	r5, [r4, #56]
1444:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1983              		.loc 1 1444 0
 1984 0062 6365     		str	r3, [r4, #84]
1446:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1985              		.loc 1 1446 0
 1986 0064 A287     		strh	r2, [r4, #60]	@ movhi
1447:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1987              		.loc 1 1447 0
 1988 0066 E287     		strh	r2, [r4, #62]	@ movhi
1450:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1989              		.loc 1 1450 0
 1990 0068 2364     		str	r3, [r4, #64]
1451:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1991              		.loc 1 1451 0
 1992 006a 6364     		str	r3, [r4, #68]
1452:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1993              		.loc 1 1452 0
 1994 006c A386     		strh	r3, [r4, #52]	@ movhi
1453:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1995              		.loc 1 1453 0
 1996 006e E386     		strh	r3, [r4, #54]	@ movhi
1458:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1997              		.loc 1 1458 0
ARM GAS  /tmp/ccHWpE7O.s 			page 100


 1998 0070 2168     		ldr	r1, [r4]
1456:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1999              		.loc 1 1456 0
 2000 0072 36D0     		beq	.L252
 2001              	.L240:
1463:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2002              		.loc 1 1463 0
 2003 0074 A36A     		ldr	r3, [r4, #40]
 2004 0076 B3F5005F 		cmp	r3, #8192
 2005 007a 28D0     		beq	.L253
 2006              	.LVL127:
 2007              	.L241:
1479:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2008              		.loc 1 1479 0
 2009 007c 0023     		movs	r3, #0
1470:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2010              		.loc 1 1470 0
 2011 007e E06C     		ldr	r0, [r4, #76]
 2012 0080 DFF870E0 		ldr	lr, .L254+8
1479:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2013              		.loc 1 1479 0
 2014 0084 4363     		str	r3, [r0, #52]
1473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2015              		.loc 1 1473 0
 2016 0086 194F     		ldr	r7, .L254
1482:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2017              		.loc 1 1482 0
 2018 0088 E38F     		ldrh	r3, [r4, #62]
1476:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2019              		.loc 1 1476 0
 2020 008a 194E     		ldr	r6, .L254+4
1482:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2021              		.loc 1 1482 0
 2022 008c 2A46     		mov	r2, r5
 2023 008e 9BB2     		uxth	r3, r3
 2024 0090 0C31     		adds	r1, r1, #12
1470:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2025              		.loc 1 1470 0
 2026 0092 C0F82CE0 		str	lr, [r0, #44]
1473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2027              		.loc 1 1473 0
 2028 0096 8762     		str	r7, [r0, #40]
1476:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2029              		.loc 1 1476 0
 2030 0098 0663     		str	r6, [r0, #48]
1482:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2031              		.loc 1 1482 0
 2032 009a FFF7FEFF 		bl	HAL_DMA_Start_IT
 2033              	.LVL128:
1485:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2034              		.loc 1 1485 0
 2035 009e 2368     		ldr	r3, [r4]
 2036 00a0 1A68     		ldr	r2, [r3]
 2037 00a2 5206     		lsls	r2, r2, #25
 2038 00a4 03D4     		bmi	.L242
1488:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2039              		.loc 1 1488 0
ARM GAS  /tmp/ccHWpE7O.s 			page 101


 2040 00a6 1A68     		ldr	r2, [r3]
 2041 00a8 42F04002 		orr	r2, r2, #64
 2042 00ac 1A60     		str	r2, [r3]
 2043              	.L242:
1492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2044              		.loc 1 1492 0
 2045 00ae 5A68     		ldr	r2, [r3, #4]
1418:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2046              		.loc 1 1418 0
 2047 00b0 0020     		movs	r0, #0
1492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2048              		.loc 1 1492 0
 2049 00b2 42F02002 		orr	r2, r2, #32
 2050 00b6 5A60     		str	r2, [r3, #4]
1495:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2051              		.loc 1 1495 0
 2052 00b8 5A68     		ldr	r2, [r3, #4]
 2053 00ba 42F00102 		orr	r2, r2, #1
 2054 00be 5A60     		str	r2, [r3, #4]
 2055 00c0 B5E7     		b	.L238
 2056              	.LVL129:
 2057              	.L235:
 2058              	.LBB50:
 2059              	.LBB47:
 2060 00c2 1346     		mov	r3, r2
 2061              	.LBE47:
 2062              	.LBE50:
1501:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2063              		.loc 1 1501 0
 2064 00c4 BDE8F041 		pop	{r4, r5, r6, r7, r8, lr}
 2065              		.cfi_remember_state
 2066              		.cfi_restore 14
 2067              		.cfi_restore 8
 2068              		.cfi_restore 7
 2069              		.cfi_restore 6
 2070              		.cfi_restore 5
 2071              		.cfi_restore 4
 2072              		.cfi_def_cfa_offset 0
 2073              	.LBB51:
 2074              	.LBB48:
 2075 00c8 0A46     		mov	r2, r1
 2076              	.LVL130:
 2077 00ca FFF7FEBF 		b	HAL_SPI_TransmitReceive_DMA.part.2
 2078              	.LVL131:
 2079              	.L253:
 2080              		.cfi_restore_state
 2081              	.LBE48:
 2082              	.LBE51:
1465:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2083              		.loc 1 1465 0
 2084 00ce 4DF6FF72 		movw	r2, #57343
 2085              	.LVL132:
 2086 00d2 0B68     		ldr	r3, [r1]
 2087 00d4 1340     		ands	r3, r3, r2
 2088 00d6 0B60     		str	r3, [r1]
 2089 00d8 0B68     		ldr	r3, [r1]
 2090 00da 43F40053 		orr	r3, r3, #8192
ARM GAS  /tmp/ccHWpE7O.s 			page 102


 2091 00de 0B60     		str	r3, [r1]
 2092 00e0 CCE7     		b	.L241
 2093              	.LVL133:
 2094              	.L252:
1458:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2095              		.loc 1 1458 0
 2096 00e2 0B68     		ldr	r3, [r1]
 2097 00e4 23F48043 		bic	r3, r3, #16384
 2098 00e8 0B60     		str	r3, [r1]
 2099 00ea C3E7     		b	.L240
 2100              	.L255:
 2101              		.align	2
 2102              	.L254:
 2103 00ec 00000000 		.word	SPI_DMAReceiveCplt
 2104 00f0 00000000 		.word	SPI_DMAError
 2105 00f4 00000000 		.word	SPI_DMAHalfReceiveCplt
 2106              		.cfi_endproc
 2107              	.LFE75:
 2109              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 2110              		.align	1
 2111              		.p2align 2,,3
 2112              		.global	HAL_SPI_TransmitReceive_DMA
 2113              		.syntax unified
 2114              		.thumb
 2115              		.thumb_func
 2116              		.fpu softvfp
 2118              	HAL_SPI_TransmitReceive_DMA:
 2119              	.LFB76:
1514:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 2120              		.loc 1 1514 0
 2121              		.cfi_startproc
 2122              		@ args = 0, pretend = 0, frame = 0
 2123              		@ frame_needed = 0, uses_anonymous_args = 0
 2124              		@ link register save eliminated.
 2125              	.LVL134:
 2126 0000 10B4     		push	{r4}
 2127              		.cfi_def_cfa_offset 4
 2128              		.cfi_offset 4, -4
1522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2129              		.loc 1 1522 0
 2130 0002 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 2131 0006 012C     		cmp	r4, #1
 2132 0008 02D0     		beq	.L257
1618:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2133              		.loc 1 1618 0 discriminator 2
 2134 000a 10BC     		pop	{r4}
 2135              		.cfi_remember_state
 2136              		.cfi_restore 4
 2137              		.cfi_def_cfa_offset 0
 2138 000c FFF7FEBF 		b	HAL_SPI_TransmitReceive_DMA.part.2
 2139              	.LVL135:
 2140              	.L257:
 2141              		.cfi_restore_state
1618:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2142              		.loc 1 1618 0 is_stmt 0
 2143 0010 0220     		movs	r0, #2
 2144              	.LVL136:
ARM GAS  /tmp/ccHWpE7O.s 			page 103


 2145 0012 10BC     		pop	{r4}
 2146              		.cfi_restore 4
 2147              		.cfi_def_cfa_offset 0
 2148 0014 7047     		bx	lr
 2149              		.cfi_endproc
 2150              	.LFE76:
 2152 0016 00BF     		.section	.text.HAL_SPI_Abort,"ax",%progbits
 2153              		.align	1
 2154              		.p2align 2,,3
 2155              		.global	HAL_SPI_Abort
 2156              		.syntax unified
 2157              		.thumb
 2158              		.thumb_func
 2159              		.fpu softvfp
 2161              	HAL_SPI_Abort:
 2162              	.LFB77:
1636:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 2163              		.loc 1 1636 0 is_stmt 1
 2164              		.cfi_startproc
 2165              		@ args = 0, pretend = 0, frame = 8
 2166              		@ frame_needed = 0, uses_anonymous_args = 0
 2167              	.LVL137:
1637:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2168              		.loc 1 1637 0
 2169 0000 6421     		movs	r1, #100
1636:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 2170              		.loc 1 1636 0
 2171 0002 10B5     		push	{r4, lr}
 2172              		.cfi_def_cfa_offset 8
 2173              		.cfi_offset 4, -8
 2174              		.cfi_offset 14, -4
 2175 0004 0446     		mov	r4, r0
1637:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2176              		.loc 1 1637 0
 2177 0006 2D4B     		ldr	r3, .L283
 2178 0008 2D48     		ldr	r0, .L283+4
 2179              	.LVL138:
 2180 000a 1B68     		ldr	r3, [r3]
1640:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2181              		.loc 1 1640 0
 2182 000c 2268     		ldr	r2, [r4]
1637:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2183              		.loc 1 1637 0
 2184 000e A0FB0303 		umull	r0, r3, r0, r3
 2185 0012 5B0A     		lsrs	r3, r3, #9
 2186 0014 01FB03F3 		mul	r3, r1, r3
1636:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 2187              		.loc 1 1636 0
 2188 0018 82B0     		sub	sp, sp, #8
 2189              		.cfi_def_cfa_offset 16
1637:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2190              		.loc 1 1637 0
 2191 001a 0093     		str	r3, [sp]
1640:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2192              		.loc 1 1640 0
 2193 001c 5168     		ldr	r1, [r2, #4]
 2194 001e 1346     		mov	r3, r2
ARM GAS  /tmp/ccHWpE7O.s 			page 104


 2195 0020 0806     		lsls	r0, r1, #24
1642:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2196              		.loc 1 1642 0
 2197 0022 44BF     		itt	mi
 2198 0024 2749     		ldrmi	r1, .L283+8
 2199 0026 6164     		strmi	r1, [r4, #68]
1645:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2200              		.loc 1 1645 0
 2201 0028 5168     		ldr	r1, [r2, #4]
 2202 002a 4906     		lsls	r1, r1, #25
1647:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2203              		.loc 1 1647 0
 2204 002c 44BF     		itt	mi
 2205 002e 2649     		ldrmi	r1, .L283+12
 2206 0030 2164     		strmi	r1, [r4, #64]
1651:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2207              		.loc 1 1651 0
 2208 0032 5168     		ldr	r1, [r2, #4]
 2209 0034 21F02001 		bic	r1, r1, #32
 2210 0038 5160     		str	r1, [r2, #4]
1654:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2211              		.loc 1 1654 0
 2212 003a 5168     		ldr	r1, [r2, #4]
 2213 003c 8807     		lsls	r0, r1, #30
 2214 003e 02D4     		bmi	.L262
1654:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2215              		.loc 1 1654 0 is_stmt 0 discriminator 1
 2216 0040 5168     		ldr	r1, [r2, #4]
 2217 0042 C907     		lsls	r1, r1, #31
 2218 0044 28D5     		bpl	.L263
 2219              	.L262:
1657:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2220              		.loc 1 1657 0 is_stmt 1
 2221 0046 A36C     		ldr	r3, [r4, #72]
 2222 0048 B3B1     		cbz	r3, .L265
1661:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       
 2223              		.loc 1 1661 0
 2224 004a 0022     		movs	r2, #0
1664:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2225              		.loc 1 1664 0
 2226 004c 1846     		mov	r0, r3
1661:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       
 2227              		.loc 1 1661 0
 2228 004e 5A63     		str	r2, [r3, #52]
1664:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2229              		.loc 1 1664 0
 2230 0050 FFF7FEFF 		bl	HAL_DMA_Abort
 2231              	.LVL139:
1667:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2232              		.loc 1 1667 0
 2233 0054 2268     		ldr	r2, [r4]
 2234 0056 5368     		ldr	r3, [r2, #4]
 2235 0058 23F00203 		bic	r3, r3, #2
 2236 005c 5360     		str	r3, [r2, #4]
 2237 005e 02E0     		b	.L267
 2238              	.L266:
1678:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
ARM GAS  /tmp/ccHWpE7O.s 			page 105


 2239              		.loc 1 1678 0
 2240 0060 9368     		ldr	r3, [r2, #8]
 2241 0062 9B07     		lsls	r3, r3, #30
 2242 0064 08D4     		bmi	.L265
 2243              	.L267:
1672:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2244              		.loc 1 1672 0
 2245 0066 009B     		ldr	r3, [sp]
 2246 0068 591E     		subs	r1, r3, #1
 2247 006a 0091     		str	r1, [sp]
 2248 006c 002B     		cmp	r3, #0
 2249 006e F7D1     		bne	.L266
1674:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           break;
 2250              		.loc 1 1674 0
 2251 0070 636D     		ldr	r3, [r4, #84]
 2252 0072 43F02003 		orr	r3, r3, #32
 2253 0076 6365     		str	r3, [r4, #84]
 2254              	.L265:
1681:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2255              		.loc 1 1681 0
 2256 0078 E36C     		ldr	r3, [r4, #76]
 2257 007a E3B1     		cbz	r3, .L282
1685:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       
 2258              		.loc 1 1685 0
 2259 007c 0022     		movs	r2, #0
1688:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2260              		.loc 1 1688 0
 2261 007e 1846     		mov	r0, r3
1685:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       
 2262              		.loc 1 1685 0
 2263 0080 5A63     		str	r2, [r3, #52]
1688:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2264              		.loc 1 1688 0
 2265 0082 FFF7FEFF 		bl	HAL_DMA_Abort
 2266              	.LVL140:
1691:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2267              		.loc 1 1691 0
 2268 0086 2368     		ldr	r3, [r4]
 2269 0088 1A68     		ldr	r2, [r3]
 2270 008a 22F04002 		bic	r2, r2, #64
 2271 008e 1A60     		str	r2, [r3]
1694:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       
 2272              		.loc 1 1694 0
 2273 0090 5A68     		ldr	r2, [r3, #4]
 2274 0092 22F00102 		bic	r2, r2, #1
 2275 0096 5A60     		str	r2, [r3, #4]
 2276              	.L263:
1699:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2277              		.loc 1 1699 0
 2278 0098 0020     		movs	r0, #0
1709:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2279              		.loc 1 1709 0
 2280 009a 0122     		movs	r2, #1
1699:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2281              		.loc 1 1699 0
 2282 009c E087     		strh	r0, [r4, #62]	@ movhi
1700:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 106


 2283              		.loc 1 1700 0
 2284 009e E086     		strh	r0, [r4, #54]	@ movhi
1703:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2285              		.loc 1 1703 0
 2286 00a0 6065     		str	r0, [r4, #84]
 2287              	.LBB52:
1706:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2288              		.loc 1 1706 0
 2289 00a2 0190     		str	r0, [sp, #4]
 2290 00a4 D968     		ldr	r1, [r3, #12]
 2291 00a6 0191     		str	r1, [sp, #4]
 2292 00a8 9B68     		ldr	r3, [r3, #8]
 2293 00aa 0193     		str	r3, [sp, #4]
 2294 00ac 019B     		ldr	r3, [sp, #4]
 2295              	.LBE52:
1709:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2296              		.loc 1 1709 0
 2297 00ae 84F85120 		strb	r2, [r4, #81]
1712:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2298              		.loc 1 1712 0
 2299 00b2 02B0     		add	sp, sp, #8
 2300              		.cfi_remember_state
 2301              		.cfi_def_cfa_offset 8
 2302              		@ sp needed
 2303 00b4 10BD     		pop	{r4, pc}
 2304              	.LVL141:
 2305              	.L282:
 2306              		.cfi_restore_state
 2307 00b6 1346     		mov	r3, r2
 2308 00b8 EEE7     		b	.L263
 2309              	.L284:
 2310 00ba 00BF     		.align	2
 2311              	.L283:
 2312 00bc 00000000 		.word	SystemCoreClock
 2313 00c0 F1197605 		.word	91625969
 2314 00c4 00000000 		.word	SPI_AbortTx_ISR
 2315 00c8 00000000 		.word	SPI_AbortRx_ISR
 2316              		.cfi_endproc
 2317              	.LFE77:
 2319              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 2320              		.align	1
 2321              		.p2align 2,,3
 2322              		.global	HAL_SPI_DMAPause
 2323              		.syntax unified
 2324              		.thumb
 2325              		.thumb_func
 2326              		.fpu softvfp
 2328              	HAL_SPI_DMAPause:
 2329              	.LFB79:
1877:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 2330              		.loc 1 1877 0
 2331              		.cfi_startproc
 2332              		@ args = 0, pretend = 0, frame = 0
 2333              		@ frame_needed = 0, uses_anonymous_args = 0
 2334              		@ link register save eliminated.
 2335              	.LVL142:
1879:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 107


 2336              		.loc 1 1879 0
 2337 0000 90F85020 		ldrb	r2, [r0, #80]	@ zero_extendqisi2
 2338 0004 012A     		cmp	r2, #1
 2339 0006 0CD0     		beq	.L287
 2340 0008 0346     		mov	r3, r0
1885:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2341              		.loc 1 1885 0 discriminator 2
 2342 000a 0021     		movs	r1, #0
1877:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 2343              		.loc 1 1877 0 discriminator 2
 2344 000c 10B4     		push	{r4}
 2345              		.cfi_def_cfa_offset 4
 2346              		.cfi_offset 4, -4
1882:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2347              		.loc 1 1882 0 discriminator 2
 2348 000e 0468     		ldr	r4, [r0]
1887:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2349              		.loc 1 1887 0 discriminator 2
 2350 0010 0846     		mov	r0, r1
 2351              	.LVL143:
1882:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2352              		.loc 1 1882 0 discriminator 2
 2353 0012 6268     		ldr	r2, [r4, #4]
 2354 0014 22F00302 		bic	r2, r2, #3
 2355 0018 6260     		str	r2, [r4, #4]
1885:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2356              		.loc 1 1885 0 discriminator 2
 2357 001a 83F85010 		strb	r1, [r3, #80]
1888:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2358              		.loc 1 1888 0 discriminator 2
 2359 001e 10BC     		pop	{r4}
 2360              		.cfi_restore 4
 2361              		.cfi_def_cfa_offset 0
 2362 0020 7047     		bx	lr
 2363              	.LVL144:
 2364              	.L287:
1879:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2365              		.loc 1 1879 0
 2366 0022 0220     		movs	r0, #2
 2367              	.LVL145:
 2368 0024 7047     		bx	lr
 2369              		.cfi_endproc
 2370              	.LFE79:
 2372 0026 00BF     		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 2373              		.align	1
 2374              		.p2align 2,,3
 2375              		.global	HAL_SPI_DMAResume
 2376              		.syntax unified
 2377              		.thumb
 2378              		.thumb_func
 2379              		.fpu softvfp
 2381              	HAL_SPI_DMAResume:
 2382              	.LFB80:
1897:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 2383              		.loc 1 1897 0
 2384              		.cfi_startproc
 2385              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccHWpE7O.s 			page 108


 2386              		@ frame_needed = 0, uses_anonymous_args = 0
 2387              		@ link register save eliminated.
 2388              	.LVL146:
1899:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2389              		.loc 1 1899 0
 2390 0000 90F85020 		ldrb	r2, [r0, #80]	@ zero_extendqisi2
 2391 0004 012A     		cmp	r2, #1
 2392 0006 0CD0     		beq	.L294
 2393 0008 0346     		mov	r3, r0
1905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2394              		.loc 1 1905 0 discriminator 2
 2395 000a 0021     		movs	r1, #0
1897:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 2396              		.loc 1 1897 0 discriminator 2
 2397 000c 10B4     		push	{r4}
 2398              		.cfi_def_cfa_offset 4
 2399              		.cfi_offset 4, -4
1902:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2400              		.loc 1 1902 0 discriminator 2
 2401 000e 0468     		ldr	r4, [r0]
1907:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2402              		.loc 1 1907 0 discriminator 2
 2403 0010 0846     		mov	r0, r1
 2404              	.LVL147:
1902:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2405              		.loc 1 1902 0 discriminator 2
 2406 0012 6268     		ldr	r2, [r4, #4]
 2407 0014 42F00302 		orr	r2, r2, #3
 2408 0018 6260     		str	r2, [r4, #4]
1905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2409              		.loc 1 1905 0 discriminator 2
 2410 001a 83F85010 		strb	r1, [r3, #80]
1908:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2411              		.loc 1 1908 0 discriminator 2
 2412 001e 10BC     		pop	{r4}
 2413              		.cfi_restore 4
 2414              		.cfi_def_cfa_offset 0
 2415 0020 7047     		bx	lr
 2416              	.LVL148:
 2417              	.L294:
1899:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2418              		.loc 1 1899 0
 2419 0022 0220     		movs	r0, #2
 2420              	.LVL149:
 2421 0024 7047     		bx	lr
 2422              		.cfi_endproc
 2423              	.LFE80:
 2425 0026 00BF     		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 2426              		.align	1
 2427              		.p2align 2,,3
 2428              		.global	HAL_SPI_DMAStop
 2429              		.syntax unified
 2430              		.thumb
 2431              		.thumb_func
 2432              		.fpu softvfp
 2434              	HAL_SPI_DMAStop:
 2435              	.LFB81:
ARM GAS  /tmp/ccHWpE7O.s 			page 109


1917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 2436              		.loc 1 1917 0
 2437              		.cfi_startproc
 2438              		@ args = 0, pretend = 0, frame = 0
 2439              		@ frame_needed = 0, uses_anonymous_args = 0
 2440              	.LVL150:
 2441 0000 10B5     		push	{r4, lr}
 2442              		.cfi_def_cfa_offset 8
 2443              		.cfi_offset 4, -8
 2444              		.cfi_offset 14, -4
1917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 2445              		.loc 1 1917 0
 2446 0002 0446     		mov	r4, r0
1925:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2447              		.loc 1 1925 0
 2448 0004 806C     		ldr	r0, [r0, #72]
 2449              	.LVL151:
 2450 0006 08B1     		cbz	r0, .L300
1927:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2451              		.loc 1 1927 0
 2452 0008 FFF7FEFF 		bl	HAL_DMA_Abort
 2453              	.LVL152:
 2454              	.L300:
1930:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2455              		.loc 1 1930 0
 2456 000c E06C     		ldr	r0, [r4, #76]
 2457 000e 08B1     		cbz	r0, .L301
1932:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2458              		.loc 1 1932 0
 2459 0010 FFF7FEFF 		bl	HAL_DMA_Abort
 2460              	.LVL153:
 2461              	.L301:
1937:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
 2462              		.loc 1 1937 0
 2463 0014 0121     		movs	r1, #1
1936:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 2464              		.loc 1 1936 0
 2465 0016 2268     		ldr	r2, [r4]
1939:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2466              		.loc 1 1939 0
 2467 0018 0020     		movs	r0, #0
1936:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 2468              		.loc 1 1936 0
 2469 001a 5368     		ldr	r3, [r2, #4]
 2470 001c 23F00303 		bic	r3, r3, #3
 2471 0020 5360     		str	r3, [r2, #4]
1937:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
 2472              		.loc 1 1937 0
 2473 0022 84F85110 		strb	r1, [r4, #81]
1939:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2474              		.loc 1 1939 0
 2475 0026 10BD     		pop	{r4, pc}
 2476              		.cfi_endproc
 2477              	.LFE81:
 2479              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
 2480              		.align	1
 2481              		.p2align 2,,3
ARM GAS  /tmp/ccHWpE7O.s 			page 110


 2482              		.weak	HAL_SPI_TxCpltCallback
 2483              		.syntax unified
 2484              		.thumb
 2485              		.thumb_func
 2486              		.fpu softvfp
 2488              	HAL_SPI_TxCpltCallback:
 2489              	.LFB144:
 2490              		.cfi_startproc
 2491              		@ args = 0, pretend = 0, frame = 0
 2492              		@ frame_needed = 0, uses_anonymous_args = 0
 2493              		@ link register save eliminated.
 2494 0000 7047     		bx	lr
 2495              		.cfi_endproc
 2496              	.LFE144:
 2498 0002 00BF     		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 2499              		.align	1
 2500              		.p2align 2,,3
 2501              		.weak	HAL_SPI_RxCpltCallback
 2502              		.syntax unified
 2503              		.thumb
 2504              		.thumb_func
 2505              		.fpu softvfp
 2507              	HAL_SPI_RxCpltCallback:
 2508              	.LFB142:
 2509              		.cfi_startproc
 2510              		@ args = 0, pretend = 0, frame = 0
 2511              		@ frame_needed = 0, uses_anonymous_args = 0
 2512              		@ link register save eliminated.
 2513 0000 7047     		bx	lr
 2514              		.cfi_endproc
 2515              	.LFE142:
 2517 0002 00BF     		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 2518              		.align	1
 2519              		.p2align 2,,3
 2520              		.weak	HAL_SPI_TxRxCpltCallback
 2521              		.syntax unified
 2522              		.thumb
 2523              		.thumb_func
 2524              		.fpu softvfp
 2526              	HAL_SPI_TxRxCpltCallback:
 2527              	.LFB140:
 2528              		.cfi_startproc
 2529              		@ args = 0, pretend = 0, frame = 0
 2530              		@ frame_needed = 0, uses_anonymous_args = 0
 2531              		@ link register save eliminated.
 2532 0000 7047     		bx	lr
 2533              		.cfi_endproc
 2534              	.LFE140:
 2536 0002 00BF     		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 2537              		.align	1
 2538              		.p2align 2,,3
 2539              		.weak	HAL_SPI_TxHalfCpltCallback
 2540              		.syntax unified
 2541              		.thumb
 2542              		.thumb_func
 2543              		.fpu softvfp
 2545              	HAL_SPI_TxHalfCpltCallback:
ARM GAS  /tmp/ccHWpE7O.s 			page 111


 2546              	.LFB138:
 2547              		.cfi_startproc
 2548              		@ args = 0, pretend = 0, frame = 0
 2549              		@ frame_needed = 0, uses_anonymous_args = 0
 2550              		@ link register save eliminated.
 2551 0000 7047     		bx	lr
 2552              		.cfi_endproc
 2553              	.LFE138:
 2555 0002 00BF     		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 2556              		.align	1
 2557              		.p2align 2,,3
 2558              		.syntax unified
 2559              		.thumb
 2560              		.thumb_func
 2561              		.fpu softvfp
 2563              	SPI_DMAHalfTransmitCplt:
 2564              	.LFB96:
2411:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2565              		.loc 1 2411 0
 2566              		.cfi_startproc
 2567              		@ args = 0, pretend = 0, frame = 0
 2568              		@ frame_needed = 0, uses_anonymous_args = 0
 2569              	.LVL154:
2411:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2570              		.loc 1 2411 0
 2571 0000 08B5     		push	{r3, lr}
 2572              		.cfi_def_cfa_offset 8
 2573              		.cfi_offset 3, -8
 2574              		.cfi_offset 14, -4
2414:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2575              		.loc 1 2414 0
 2576 0002 406A     		ldr	r0, [r0, #36]
 2577              	.LVL155:
 2578 0004 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
 2579              	.LVL156:
 2580 0008 08BD     		pop	{r3, pc}
 2581              		.cfi_endproc
 2582              	.LFE96:
 2584 000a 00BF     		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
 2585              		.align	1
 2586              		.p2align 2,,3
 2587              		.weak	HAL_SPI_RxHalfCpltCallback
 2588              		.syntax unified
 2589              		.thumb
 2590              		.thumb_func
 2591              		.fpu softvfp
 2593              	HAL_SPI_RxHalfCpltCallback:
 2594              	.LFB136:
 2595              		.cfi_startproc
 2596              		@ args = 0, pretend = 0, frame = 0
 2597              		@ frame_needed = 0, uses_anonymous_args = 0
 2598              		@ link register save eliminated.
 2599 0000 7047     		bx	lr
 2600              		.cfi_endproc
 2601              	.LFE136:
 2603 0002 00BF     		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 2604              		.align	1
ARM GAS  /tmp/ccHWpE7O.s 			page 112


 2605              		.p2align 2,,3
 2606              		.syntax unified
 2607              		.thumb
 2608              		.thumb_func
 2609              		.fpu softvfp
 2611              	SPI_DMAHalfReceiveCplt:
 2612              	.LFB97:
2424:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2613              		.loc 1 2424 0
 2614              		.cfi_startproc
 2615              		@ args = 0, pretend = 0, frame = 0
 2616              		@ frame_needed = 0, uses_anonymous_args = 0
 2617              	.LVL157:
2424:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2618              		.loc 1 2424 0
 2619 0000 08B5     		push	{r3, lr}
 2620              		.cfi_def_cfa_offset 8
 2621              		.cfi_offset 3, -8
 2622              		.cfi_offset 14, -4
2427:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2623              		.loc 1 2427 0
 2624 0002 406A     		ldr	r0, [r0, #36]
 2625              	.LVL158:
 2626 0004 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
 2627              	.LVL159:
 2628 0008 08BD     		pop	{r3, pc}
 2629              		.cfi_endproc
 2630              	.LFE97:
 2632 000a 00BF     		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 2633              		.align	1
 2634              		.p2align 2,,3
 2635              		.weak	HAL_SPI_TxRxHalfCpltCallback
 2636              		.syntax unified
 2637              		.thumb
 2638              		.thumb_func
 2639              		.fpu softvfp
 2641              	HAL_SPI_TxRxHalfCpltCallback:
 2642              	.LFB134:
 2643              		.cfi_startproc
 2644              		@ args = 0, pretend = 0, frame = 0
 2645              		@ frame_needed = 0, uses_anonymous_args = 0
 2646              		@ link register save eliminated.
 2647 0000 7047     		bx	lr
 2648              		.cfi_endproc
 2649              	.LFE134:
 2651 0002 00BF     		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 2652              		.align	1
 2653              		.p2align 2,,3
 2654              		.syntax unified
 2655              		.thumb
 2656              		.thumb_func
 2657              		.fpu softvfp
 2659              	SPI_DMAHalfTransmitReceiveCplt:
 2660              	.LFB98:
2437:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2661              		.loc 1 2437 0
 2662              		.cfi_startproc
ARM GAS  /tmp/ccHWpE7O.s 			page 113


 2663              		@ args = 0, pretend = 0, frame = 0
 2664              		@ frame_needed = 0, uses_anonymous_args = 0
 2665              	.LVL160:
2437:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2666              		.loc 1 2437 0
 2667 0000 08B5     		push	{r3, lr}
 2668              		.cfi_def_cfa_offset 8
 2669              		.cfi_offset 3, -8
 2670              		.cfi_offset 14, -4
2440:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2671              		.loc 1 2440 0
 2672 0002 406A     		ldr	r0, [r0, #36]
 2673              	.LVL161:
 2674 0004 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
 2675              	.LVL162:
 2676 0008 08BD     		pop	{r3, pc}
 2677              		.cfi_endproc
 2678              	.LFE98:
 2680 000a 00BF     		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 2681              		.align	1
 2682              		.p2align 2,,3
 2683              		.weak	HAL_SPI_ErrorCallback
 2684              		.syntax unified
 2685              		.thumb
 2686              		.thumb_func
 2687              		.fpu softvfp
 2689              	HAL_SPI_ErrorCallback:
 2690              	.LFB132:
 2691              		.cfi_startproc
 2692              		@ args = 0, pretend = 0, frame = 0
 2693              		@ frame_needed = 0, uses_anonymous_args = 0
 2694              		@ link register save eliminated.
 2695 0000 7047     		bx	lr
 2696              		.cfi_endproc
 2697              	.LFE132:
 2699 0002 00BF     		.section	.text.SPI_CloseTx_ISR,"ax",%progbits
 2700              		.align	1
 2701              		.p2align 2,,3
 2702              		.syntax unified
 2703              		.thumb
 2704              		.thumb_func
 2705              		.fpu softvfp
 2707              	SPI_CloseTx_ISR:
 2708              	.LFB119:
3141:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 2709              		.loc 1 3141 0
 2710              		.cfi_startproc
 2711              		@ args = 0, pretend = 0, frame = 8
 2712              		@ frame_needed = 0, uses_anonymous_args = 0
 2713              	.LVL163:
3143:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2714              		.loc 1 3143 0
 2715 0000 6422     		movs	r2, #100
3141:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 2716              		.loc 1 3141 0
 2717 0002 10B5     		push	{r4, lr}
 2718              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccHWpE7O.s 			page 114


 2719              		.cfi_offset 4, -8
 2720              		.cfi_offset 14, -4
 2721 0004 0446     		mov	r4, r0
3143:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2722              		.loc 1 3143 0
 2723 0006 224B     		ldr	r3, .L337
 2724 0008 2249     		ldr	r1, .L337+4
 2725 000a 1B68     		ldr	r3, [r3]
3141:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 2726              		.loc 1 3141 0
 2727 000c 84B0     		sub	sp, sp, #16
 2728              		.cfi_def_cfa_offset 24
3143:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2729              		.loc 1 3143 0
 2730 000e A1FB0313 		umull	r1, r3, r1, r3
 2731 0012 5B0A     		lsrs	r3, r3, #9
 2732 0014 02FB03F3 		mul	r3, r2, r3
 2733 0018 0293     		str	r3, [sp, #8]
3146:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2734              		.loc 1 3146 0
 2735 001a FFF7FEFF 		bl	HAL_GetTick
 2736              	.LVL164:
 2737 001e 2168     		ldr	r1, [r4]
 2738 0020 02E0     		b	.L325
 2739              	.L323:
3157:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2740              		.loc 1 3157 0
 2741 0022 8B68     		ldr	r3, [r1, #8]
 2742 0024 9B07     		lsls	r3, r3, #30
 2743 0026 08D4     		bmi	.L324
 2744              	.L325:
3151:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2745              		.loc 1 3151 0
 2746 0028 029B     		ldr	r3, [sp, #8]
 2747 002a 5A1E     		subs	r2, r3, #1
 2748 002c 0292     		str	r2, [sp, #8]
 2749 002e 002B     		cmp	r3, #0
 2750 0030 F7D1     		bne	.L323
3153:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 2751              		.loc 1 3153 0
 2752 0032 636D     		ldr	r3, [r4, #84]
 2753 0034 43F02003 		orr	r3, r3, #32
 2754 0038 6365     		str	r3, [r4, #84]
 2755              	.L324:
3160:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2756              		.loc 1 3160 0
 2757 003a 4A68     		ldr	r2, [r1, #4]
 2758              	.LBB53:
 2759              	.LBB54:
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2760              		.loc 1 2981 0
 2761 003c 6423     		movs	r3, #100
 2762              	.LBE54:
 2763              	.LBE53:
3160:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2764              		.loc 1 3160 0
 2765 003e 22F0A002 		bic	r2, r2, #160
ARM GAS  /tmp/ccHWpE7O.s 			page 115


 2766 0042 4A60     		str	r2, [r1, #4]
 2767              	.LVL165:
 2768              	.LBB56:
 2769              	.LBB55:
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2770              		.loc 1 2981 0
 2771 0044 0090     		str	r0, [sp]
 2772 0046 0022     		movs	r2, #0
 2773 0048 8021     		movs	r1, #128
 2774 004a 2046     		mov	r0, r4
 2775              	.LVL166:
 2776 004c FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 2777              	.LVL167:
 2778 0050 38B1     		cbz	r0, .L326
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 2779              		.loc 1 2983 0
 2780 0052 636D     		ldr	r3, [r4, #84]
 2781 0054 43F02003 		orr	r3, r3, #32
 2782 0058 6365     		str	r3, [r4, #84]
 2783              	.LVL168:
 2784              	.LBE55:
 2785              	.LBE56:
3165:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2786              		.loc 1 3165 0
 2787 005a 636D     		ldr	r3, [r4, #84]
 2788 005c 43F02003 		orr	r3, r3, #32
 2789 0060 6365     		str	r3, [r4, #84]
 2790              	.L326:
3169:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2791              		.loc 1 3169 0
 2792 0062 A368     		ldr	r3, [r4, #8]
 2793 0064 33B9     		cbnz	r3, .L327
 2794              	.LBB57:
3171:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2795              		.loc 1 3171 0
 2796 0066 2268     		ldr	r2, [r4]
 2797 0068 0393     		str	r3, [sp, #12]
 2798 006a D368     		ldr	r3, [r2, #12]
 2799 006c 0393     		str	r3, [sp, #12]
 2800 006e 9368     		ldr	r3, [r2, #8]
 2801 0070 0393     		str	r3, [sp, #12]
 2802 0072 039B     		ldr	r3, [sp, #12]
 2803              	.L327:
 2804              	.LBE57:
3174:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if(hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2805              		.loc 1 3174 0
 2806 0074 0123     		movs	r3, #1
 2807 0076 84F85130 		strb	r3, [r4, #81]
3175:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2808              		.loc 1 3175 0
 2809 007a 636D     		ldr	r3, [r4, #84]
3177:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2810              		.loc 1 3177 0
 2811 007c 2046     		mov	r0, r4
3175:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2812              		.loc 1 3175 0
 2813 007e 1BB9     		cbnz	r3, .L336
ARM GAS  /tmp/ccHWpE7O.s 			page 116


 2814              	.LVL169:
3181:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2815              		.loc 1 3181 0
 2816 0080 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 2817              	.LVL170:
3183:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2818              		.loc 1 3183 0
 2819 0084 04B0     		add	sp, sp, #16
 2820              		.cfi_remember_state
 2821              		.cfi_def_cfa_offset 8
 2822              		@ sp needed
 2823 0086 10BD     		pop	{r4, pc}
 2824              	.LVL171:
 2825              	.L336:
 2826              		.cfi_restore_state
3177:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2827              		.loc 1 3177 0
 2828 0088 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 2829              	.LVL172:
3183:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2830              		.loc 1 3183 0
 2831 008c 04B0     		add	sp, sp, #16
 2832              		.cfi_def_cfa_offset 8
 2833              		@ sp needed
 2834 008e 10BD     		pop	{r4, pc}
 2835              	.LVL173:
 2836              	.L338:
 2837              		.align	2
 2838              	.L337:
 2839 0090 00000000 		.word	SystemCoreClock
 2840 0094 F1197605 		.word	91625969
 2841              		.cfi_endproc
 2842              	.LFE119:
 2844              		.section	.text.SPI_TxISR_8BIT,"ax",%progbits
 2845              		.align	1
 2846              		.p2align 2,,3
 2847              		.syntax unified
 2848              		.thumb
 2849              		.thumb_func
 2850              		.fpu softvfp
 2852              	SPI_TxISR_8BIT:
 2853              	.LFB113:
2878:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 2854              		.loc 1 2878 0
 2855              		.cfi_startproc
 2856              		@ args = 0, pretend = 0, frame = 0
 2857              		@ frame_needed = 0, uses_anonymous_args = 0
 2858              		@ link register save eliminated.
 2859              	.LVL174:
2879:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 2860              		.loc 1 2879 0
 2861 0000 036B     		ldr	r3, [r0, #48]
 2862 0002 0268     		ldr	r2, [r0]
 2863 0004 591C     		adds	r1, r3, #1
 2864 0006 0163     		str	r1, [r0, #48]
 2865 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2866 000a 1373     		strb	r3, [r2, #12]
ARM GAS  /tmp/ccHWpE7O.s 			page 117


2880:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2867              		.loc 1 2880 0
 2868 000c C38E     		ldrh	r3, [r0, #54]
 2869 000e 013B     		subs	r3, r3, #1
 2870 0010 9BB2     		uxth	r3, r3
 2871 0012 C386     		strh	r3, [r0, #54]	@ movhi
2882:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2872              		.loc 1 2882 0
 2873 0014 C38E     		ldrh	r3, [r0, #54]
 2874 0016 9BB2     		uxth	r3, r3
 2875 0018 2BB9     		cbnz	r3, .L339
 2876              	.LVL175:
 2877              	.LBB60:
 2878              	.LBB61:
2885:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2879              		.loc 1 2885 0
 2880 001a 836A     		ldr	r3, [r0, #40]
 2881 001c B3F5005F 		cmp	r3, #8192
 2882 0020 02D0     		beq	.L342
2891:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2883              		.loc 1 2891 0
 2884 0022 FFF7FEBF 		b	SPI_CloseTx_ISR
 2885              	.LVL176:
 2886              	.L339:
 2887 0026 7047     		bx	lr
 2888              	.LVL177:
 2889              	.L342:
2888:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 2890              		.loc 1 2888 0
 2891 0028 0268     		ldr	r2, [r0]
 2892 002a 1368     		ldr	r3, [r2]
 2893 002c 43F48053 		orr	r3, r3, #4096
 2894 0030 1360     		str	r3, [r2]
2891:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2895              		.loc 1 2891 0
 2896 0032 FFF7FEBF 		b	SPI_CloseTx_ISR
 2897              	.LVL178:
 2898              	.LBE61:
 2899              	.LBE60:
 2900              		.cfi_endproc
 2901              	.LFE113:
 2903 0036 00BF     		.section	.text.SPI_TxISR_16BIT,"ax",%progbits
 2904              		.align	1
 2905              		.p2align 2,,3
 2906              		.syntax unified
 2907              		.thumb
 2908              		.thumb_func
 2909              		.fpu softvfp
 2911              	SPI_TxISR_16BIT:
 2912              	.LFB114:
2902:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 2913              		.loc 1 2902 0
 2914              		.cfi_startproc
 2915              		@ args = 0, pretend = 0, frame = 0
 2916              		@ frame_needed = 0, uses_anonymous_args = 0
 2917              		@ link register save eliminated.
 2918              	.LVL179:
ARM GAS  /tmp/ccHWpE7O.s 			page 118


2904:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 2919              		.loc 1 2904 0
 2920 0000 026B     		ldr	r2, [r0, #48]
 2921 0002 0168     		ldr	r1, [r0]
 2922 0004 32F8023B 		ldrh	r3, [r2], #2
 2923 0008 CB60     		str	r3, [r1, #12]
2906:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2924              		.loc 1 2906 0
 2925 000a C38E     		ldrh	r3, [r0, #54]
2905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 2926              		.loc 1 2905 0
 2927 000c 0263     		str	r2, [r0, #48]
2906:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2928              		.loc 1 2906 0
 2929 000e 013B     		subs	r3, r3, #1
 2930 0010 9BB2     		uxth	r3, r3
 2931 0012 C386     		strh	r3, [r0, #54]	@ movhi
2908:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2932              		.loc 1 2908 0
 2933 0014 C38E     		ldrh	r3, [r0, #54]
 2934 0016 9BB2     		uxth	r3, r3
 2935 0018 2BB9     		cbnz	r3, .L343
2911:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2936              		.loc 1 2911 0
 2937 001a 836A     		ldr	r3, [r0, #40]
 2938 001c B3F5005F 		cmp	r3, #8192
 2939 0020 02D0     		beq	.L346
2917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2940              		.loc 1 2917 0
 2941 0022 FFF7FEBF 		b	SPI_CloseTx_ISR
 2942              	.LVL180:
 2943              	.L343:
 2944 0026 7047     		bx	lr
 2945              	.L346:
2914:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 2946              		.loc 1 2914 0
 2947 0028 0B68     		ldr	r3, [r1]
 2948 002a 43F48053 		orr	r3, r3, #4096
 2949 002e 0B60     		str	r3, [r1]
2917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2950              		.loc 1 2917 0
 2951 0030 FFF7FEBF 		b	SPI_CloseTx_ISR
 2952              	.LVL181:
 2953              		.cfi_endproc
 2954              	.LFE114:
 2956              		.section	.text.SPI_DMAError,"ax",%progbits
 2957              		.align	1
 2958              		.p2align 2,,3
 2959              		.syntax unified
 2960              		.thumb
 2961              		.thumb_func
 2962              		.fpu softvfp
 2964              	SPI_DMAError:
 2965              	.LFB99:
2450:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = (SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2966              		.loc 1 2450 0
 2967              		.cfi_startproc
ARM GAS  /tmp/ccHWpE7O.s 			page 119


 2968              		@ args = 0, pretend = 0, frame = 0
 2969              		@ frame_needed = 0, uses_anonymous_args = 0
 2970              	.LVL182:
 2971 0000 10B5     		push	{r4, lr}
 2972              		.cfi_def_cfa_offset 8
 2973              		.cfi_offset 4, -8
 2974              		.cfi_offset 14, -4
2457:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 2975              		.loc 1 2457 0
 2976 0002 0124     		movs	r4, #1
2451:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2977              		.loc 1 2451 0
 2978 0004 436A     		ldr	r3, [r0, #36]
 2979              	.LVL183:
2454:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2980              		.loc 1 2454 0
 2981 0006 1968     		ldr	r1, [r3]
2458:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2982              		.loc 1 2458 0
 2983 0008 1846     		mov	r0, r3
 2984              	.LVL184:
2454:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2985              		.loc 1 2454 0
 2986 000a 4A68     		ldr	r2, [r1, #4]
 2987 000c 22F00302 		bic	r2, r2, #3
 2988 0010 4A60     		str	r2, [r1, #4]
2456:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 2989              		.loc 1 2456 0
 2990 0012 5A6D     		ldr	r2, [r3, #84]
 2991 0014 42F01002 		orr	r2, r2, #16
 2992 0018 5A65     		str	r2, [r3, #84]
2457:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 2993              		.loc 1 2457 0
 2994 001a 83F85140 		strb	r4, [r3, #81]
2458:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2995              		.loc 1 2458 0
 2996 001e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 2997              	.LVL185:
 2998 0022 10BD     		pop	{r4, pc}
 2999              		.cfi_endproc
 3000              	.LFE99:
 3002              		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 3003              		.align	1
 3004              		.p2align 2,,3
 3005              		.syntax unified
 3006              		.thumb
 3007              		.thumb_func
 3008              		.fpu softvfp
 3010              	SPI_DMATransmitCplt:
 3011              	.LFB93:
2216:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3012              		.loc 1 2216 0
 3013              		.cfi_startproc
 3014              		@ args = 0, pretend = 0, frame = 8
 3015              		@ frame_needed = 0, uses_anonymous_args = 0
 3016              	.LVL186:
 3017 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /tmp/ccHWpE7O.s 			page 120


 3018              		.cfi_def_cfa_offset 12
 3019              		.cfi_offset 4, -12
 3020              		.cfi_offset 5, -8
 3021              		.cfi_offset 14, -4
 3022 0002 0546     		mov	r5, r0
 3023 0004 85B0     		sub	sp, sp, #20
 3024              		.cfi_def_cfa_offset 32
2217:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 3025              		.loc 1 2217 0
 3026 0006 446A     		ldr	r4, [r0, #36]
 3027              	.LVL187:
2221:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3028              		.loc 1 2221 0
 3029 0008 FFF7FEFF 		bl	HAL_GetTick
 3030              	.LVL188:
2224:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3031              		.loc 1 2224 0
 3032 000c 2B68     		ldr	r3, [r5]
 3033 000e 1A68     		ldr	r2, [r3]
 3034 0010 12F02002 		ands	r2, r2, #32
 3035 0014 23D1     		bne	.L350
2227:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3036              		.loc 1 2227 0
 3037 0016 2568     		ldr	r5, [r4]
 3038              	.LVL189:
 3039              	.LBB62:
 3040              	.LBB63:
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3041              		.loc 1 2981 0
 3042 0018 6423     		movs	r3, #100
 3043              	.LBE63:
 3044              	.LBE62:
2227:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3045              		.loc 1 2227 0
 3046 001a 6968     		ldr	r1, [r5, #4]
 3047 001c 21F00201 		bic	r1, r1, #2
 3048 0020 6960     		str	r1, [r5, #4]
 3049              	.LVL190:
 3050              	.LBB65:
 3051              	.LBB64:
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3052              		.loc 1 2981 0
 3053 0022 0090     		str	r0, [sp]
 3054 0024 8021     		movs	r1, #128
 3055 0026 2046     		mov	r0, r4
 3056              	.LVL191:
 3057 0028 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 3058              	.LVL192:
 3059 002c 38B1     		cbz	r0, .L351
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 3060              		.loc 1 2983 0
 3061 002e 636D     		ldr	r3, [r4, #84]
 3062 0030 43F02003 		orr	r3, r3, #32
 3063 0034 6365     		str	r3, [r4, #84]
 3064              	.LVL193:
 3065              	.LBE64:
 3066              	.LBE65:
ARM GAS  /tmp/ccHWpE7O.s 			page 121


2232:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3067              		.loc 1 2232 0
 3068 0036 636D     		ldr	r3, [r4, #84]
 3069 0038 43F02003 		orr	r3, r3, #32
 3070 003c 6365     		str	r3, [r4, #84]
 3071              	.L351:
2236:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3072              		.loc 1 2236 0
 3073 003e A368     		ldr	r3, [r4, #8]
 3074 0040 33B9     		cbnz	r3, .L352
 3075              	.LBB66:
2238:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3076              		.loc 1 2238 0
 3077 0042 2268     		ldr	r2, [r4]
 3078 0044 0393     		str	r3, [sp, #12]
 3079 0046 D368     		ldr	r3, [r2, #12]
 3080 0048 0393     		str	r3, [sp, #12]
 3081 004a 9368     		ldr	r3, [r2, #8]
 3082 004c 0393     		str	r3, [sp, #12]
 3083 004e 039B     		ldr	r3, [sp, #12]
 3084              	.L352:
 3085              	.LBE66:
2242:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3086              		.loc 1 2242 0
 3087 0050 0123     		movs	r3, #1
2241:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 3088              		.loc 1 2241 0
 3089 0052 0022     		movs	r2, #0
 3090 0054 E286     		strh	r2, [r4, #54]	@ movhi
2242:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3091              		.loc 1 2242 0
 3092 0056 84F85130 		strb	r3, [r4, #81]
2244:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3093              		.loc 1 2244 0
 3094 005a 636D     		ldr	r3, [r4, #84]
 3095 005c 23B9     		cbnz	r3, .L361
 3096              	.L350:
2250:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3097              		.loc 1 2250 0
 3098 005e 2046     		mov	r0, r4
 3099 0060 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 3100              	.LVL194:
2251:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3101              		.loc 1 2251 0
 3102 0064 05B0     		add	sp, sp, #20
 3103              		.cfi_remember_state
 3104              		.cfi_def_cfa_offset 12
 3105              		@ sp needed
 3106 0066 30BD     		pop	{r4, r5, pc}
 3107              	.LVL195:
 3108              	.L361:
 3109              		.cfi_restore_state
2246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 3110              		.loc 1 2246 0
 3111 0068 2046     		mov	r0, r4
 3112 006a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3113              	.LVL196:
ARM GAS  /tmp/ccHWpE7O.s 			page 122


2251:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3114              		.loc 1 2251 0
 3115 006e 05B0     		add	sp, sp, #20
 3116              		.cfi_def_cfa_offset 12
 3117              		@ sp needed
 3118 0070 30BD     		pop	{r4, r5, pc}
 3119              		.cfi_endproc
 3120              	.LFE93:
 3122 0072 00BF     		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 3123              		.align	1
 3124              		.p2align 2,,3
 3125              		.global	HAL_SPI_IRQHandler
 3126              		.syntax unified
 3127              		.thumb
 3128              		.thumb_func
 3129              		.fpu softvfp
 3131              	HAL_SPI_IRQHandler:
 3132              	.LFB82:
1948:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 3133              		.loc 1 1948 0
 3134              		.cfi_startproc
 3135              		@ args = 0, pretend = 0, frame = 16
 3136              		@ frame_needed = 0, uses_anonymous_args = 0
 3137              	.LVL197:
1949:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 3138              		.loc 1 1949 0
 3139 0000 0268     		ldr	r2, [r0]
1948:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 3140              		.loc 1 1948 0
 3141 0002 30B5     		push	{r4, r5, lr}
 3142              		.cfi_def_cfa_offset 12
 3143              		.cfi_offset 4, -12
 3144              		.cfi_offset 5, -8
 3145              		.cfi_offset 14, -4
1949:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 3146              		.loc 1 1949 0
 3147 0004 5168     		ldr	r1, [r2, #4]
 3148              	.LVL198:
1950:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3149              		.loc 1 1950 0
 3150 0006 9368     		ldr	r3, [r2, #8]
 3151              	.LVL199:
1948:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 3152              		.loc 1 1948 0
 3153 0008 85B0     		sub	sp, sp, #20
 3154              		.cfi_def_cfa_offset 32
1953:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      ((itflag & SPI_FLAG_RXNE) != RESET) && ((itsource & SPI_IT_RXNE) != RESET))
 3155              		.loc 1 1953 0
 3156 000a 03F04105 		and	r5, r3, #65
 3157 000e 012D     		cmp	r5, #1
1948:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 3158              		.loc 1 1948 0
 3159 0010 0446     		mov	r4, r0
1953:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      ((itflag & SPI_FLAG_RXNE) != RESET) && ((itsource & SPI_IT_RXNE) != RESET))
 3160              		.loc 1 1953 0
 3161 0012 4BD0     		beq	.L401
 3162              	.L363:
ARM GAS  /tmp/ccHWpE7O.s 			page 123


1961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3163              		.loc 1 1961 0
 3164 0014 9807     		lsls	r0, r3, #30
 3165              	.LVL200:
 3166 0016 43D4     		bmi	.L402
 3167              	.L365:
1968:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3168              		.loc 1 1968 0
 3169 0018 13F0600F 		tst	r3, #96
 3170 001c 3ED0     		beq	.L362
1968:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3171              		.loc 1 1968 0 is_stmt 0 discriminator 1
 3172 001e 8806     		lsls	r0, r1, #26
 3173 0020 3CD5     		bpl	.L362
1971:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3174              		.loc 1 1971 0 is_stmt 1
 3175 0022 5D06     		lsls	r5, r3, #25
 3176 0024 0ED5     		bpl	.L368
1973:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3177              		.loc 1 1973 0
 3178 0026 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 3179 002a 0328     		cmp	r0, #3
 3180 002c 47D0     		beq	.L369
 3181              	.LBB67:
1976:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3182              		.loc 1 1976 0
 3183 002e 0025     		movs	r5, #0
 3184              	.LBE67:
1975:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 3185              		.loc 1 1975 0
 3186 0030 606D     		ldr	r0, [r4, #84]
 3187 0032 40F00400 		orr	r0, r0, #4
 3188 0036 6065     		str	r0, [r4, #84]
 3189              	.LBB68:
1976:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3190              		.loc 1 1976 0
 3191 0038 0195     		str	r5, [sp, #4]
 3192 003a D068     		ldr	r0, [r2, #12]
 3193 003c 0190     		str	r0, [sp, #4]
 3194 003e 9068     		ldr	r0, [r2, #8]
 3195 0040 0190     		str	r0, [sp, #4]
 3196 0042 0198     		ldr	r0, [sp, #4]
 3197              	.L368:
 3198              	.LBE68:
1986:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3199              		.loc 1 1986 0
 3200 0044 9806     		lsls	r0, r3, #26
 3201 0046 0CD5     		bpl	.L370
 3202              	.LBB69:
1989:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3203              		.loc 1 1989 0
 3204 0048 0020     		movs	r0, #0
 3205              	.LBE69:
1988:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 3206              		.loc 1 1988 0
 3207 004a 636D     		ldr	r3, [r4, #84]
 3208              	.LVL201:
ARM GAS  /tmp/ccHWpE7O.s 			page 124


 3209 004c 43F00103 		orr	r3, r3, #1
 3210 0050 6365     		str	r3, [r4, #84]
 3211              	.LBB70:
1989:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3212              		.loc 1 1989 0
 3213 0052 0390     		str	r0, [sp, #12]
 3214 0054 9368     		ldr	r3, [r2, #8]
 3215 0056 0393     		str	r3, [sp, #12]
 3216 0058 1368     		ldr	r3, [r2]
 3217 005a 23F04003 		bic	r3, r3, #64
 3218 005e 1360     		str	r3, [r2]
 3219 0060 039B     		ldr	r3, [sp, #12]
 3220              	.L370:
 3221              	.LBE70:
1992:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3222              		.loc 1 1992 0
 3223 0062 636D     		ldr	r3, [r4, #84]
 3224 0064 D3B1     		cbz	r3, .L362
1997:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 3225              		.loc 1 1997 0
 3226 0066 0120     		movs	r0, #1
1995:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3227              		.loc 1 1995 0
 3228 0068 5368     		ldr	r3, [r2, #4]
 3229 006a 23F0E003 		bic	r3, r3, #224
 3230 006e 5360     		str	r3, [r2, #4]
1999:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3231              		.loc 1 1999 0
 3232 0070 8B07     		lsls	r3, r1, #30
1997:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 3233              		.loc 1 1997 0
 3234 0072 84F85100 		strb	r0, [r4, #81]
1999:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3235              		.loc 1 1999 0
 3236 0076 1ED0     		beq	.L371
2001:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3237              		.loc 1 2001 0
 3238 0078 5368     		ldr	r3, [r2, #4]
2004:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3239              		.loc 1 2004 0
 3240 007a E16C     		ldr	r1, [r4, #76]
 3241              	.LVL202:
2001:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3242              		.loc 1 2001 0
 3243 007c 23F00303 		bic	r3, r3, #3
 3244 0080 5360     		str	r3, [r2, #4]
2004:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3245              		.loc 1 2004 0
 3246 0082 21B1     		cbz	r1, .L372
2008:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           HAL_DMA_Abort_IT(hspi->hdmarx);
 3247              		.loc 1 2008 0
 3248 0084 124B     		ldr	r3, .L403
2009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 3249              		.loc 1 2009 0
 3250 0086 0846     		mov	r0, r1
2008:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           HAL_DMA_Abort_IT(hspi->hdmarx);
 3251              		.loc 1 2008 0
ARM GAS  /tmp/ccHWpE7O.s 			page 125


 3252 0088 4B63     		str	r3, [r1, #52]
2009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 3253              		.loc 1 2009 0
 3254 008a FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3255              	.LVL203:
 3256              	.L372:
2012:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3257              		.loc 1 2012 0
 3258 008e A36C     		ldr	r3, [r4, #72]
 3259 0090 23B1     		cbz	r3, .L362
2016:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           HAL_DMA_Abort_IT(hspi->hdmatx);
 3260              		.loc 1 2016 0
 3261 0092 0F4A     		ldr	r2, .L403
2017:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 3262              		.loc 1 2017 0
 3263 0094 1846     		mov	r0, r3
2016:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           HAL_DMA_Abort_IT(hspi->hdmatx);
 3264              		.loc 1 2016 0
 3265 0096 5A63     		str	r2, [r3, #52]
2017:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 3266              		.loc 1 2017 0
 3267 0098 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3268              	.LVL204:
 3269              	.L362:
2028:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3270              		.loc 1 2028 0
 3271 009c 05B0     		add	sp, sp, #20
 3272              		.cfi_remember_state
 3273              		.cfi_def_cfa_offset 12
 3274              		@ sp needed
 3275 009e 30BD     		pop	{r4, r5, pc}
 3276              	.LVL205:
 3277              	.L402:
 3278              		.cfi_restore_state
1961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3279              		.loc 1 1961 0 discriminator 1
 3280 00a0 0D06     		lsls	r5, r1, #24
 3281 00a2 B9D5     		bpl	.L365
1963:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 3282              		.loc 1 1963 0
 3283 00a4 636C     		ldr	r3, [r4, #68]
 3284              	.LVL206:
 3285 00a6 2046     		mov	r0, r4
 3286 00a8 9847     		blx	r3
 3287              	.LVL207:
1964:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3288              		.loc 1 1964 0
 3289 00aa F7E7     		b	.L362
 3290              	.LVL208:
 3291              	.L401:
1954:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3292              		.loc 1 1954 0
 3293 00ac 4D06     		lsls	r5, r1, #25
 3294 00ae B1D5     		bpl	.L363
1956:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 3295              		.loc 1 1956 0
 3296 00b0 036C     		ldr	r3, [r0, #64]
ARM GAS  /tmp/ccHWpE7O.s 			page 126


 3297              	.LVL209:
 3298 00b2 9847     		blx	r3
 3299              	.LVL210:
1957:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3300              		.loc 1 1957 0
 3301 00b4 F2E7     		b	.L362
 3302              	.LVL211:
 3303              	.L371:
2023:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3304              		.loc 1 2023 0
 3305 00b6 2046     		mov	r0, r4
 3306 00b8 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3307              	.LVL212:
 3308 00bc EEE7     		b	.L362
 3309              	.LVL213:
 3310              	.L369:
 3311              	.LBB71:
1980:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 3312              		.loc 1 1980 0
 3313 00be 0023     		movs	r3, #0
 3314              	.LVL214:
 3315 00c0 0293     		str	r3, [sp, #8]
 3316 00c2 D368     		ldr	r3, [r2, #12]
 3317 00c4 0293     		str	r3, [sp, #8]
 3318 00c6 9368     		ldr	r3, [r2, #8]
 3319 00c8 0293     		str	r3, [sp, #8]
 3320 00ca 029B     		ldr	r3, [sp, #8]
 3321              	.LBE71:
1981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3322              		.loc 1 1981 0
 3323 00cc E6E7     		b	.L362
 3324              	.L404:
 3325 00ce 00BF     		.align	2
 3326              	.L403:
 3327 00d0 00000000 		.word	SPI_DMAAbortOnError
 3328              		.cfi_endproc
 3329              	.LFE82:
 3331              		.section	.text.SPI_DMAAbortOnError,"ax",%progbits
 3332              		.align	1
 3333              		.p2align 2,,3
 3334              		.syntax unified
 3335              		.thumb
 3336              		.thumb_func
 3337              		.fpu softvfp
 3339              	SPI_DMAAbortOnError:
 3340              	.LFB100:
2468:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3341              		.loc 1 2468 0
 3342              		.cfi_startproc
 3343              		@ args = 0, pretend = 0, frame = 0
 3344              		@ frame_needed = 0, uses_anonymous_args = 0
 3345              	.LVL215:
2470:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3346              		.loc 1 2470 0
 3347 0000 0022     		movs	r2, #0
2468:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3348              		.loc 1 2468 0
ARM GAS  /tmp/ccHWpE7O.s 			page 127


 3349 0002 08B5     		push	{r3, lr}
 3350              		.cfi_def_cfa_offset 8
 3351              		.cfi_offset 3, -8
 3352              		.cfi_offset 14, -4
2469:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 3353              		.loc 1 2469 0
 3354 0004 436A     		ldr	r3, [r0, #36]
 3355              	.LVL216:
2470:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3356              		.loc 1 2470 0
 3357 0006 DA87     		strh	r2, [r3, #62]	@ movhi
2473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3358              		.loc 1 2473 0
 3359 0008 1846     		mov	r0, r3
 3360              	.LVL217:
2471:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3361              		.loc 1 2471 0
 3362 000a DA86     		strh	r2, [r3, #54]	@ movhi
2473:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3363              		.loc 1 2473 0
 3364 000c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3365              	.LVL218:
 3366 0010 08BD     		pop	{r3, pc}
 3367              		.cfi_endproc
 3368              	.LFE100:
 3370 0012 00BF     		.section	.text.HAL_SPI_AbortCpltCallback,"ax",%progbits
 3371              		.align	1
 3372              		.p2align 2,,3
 3373              		.weak	HAL_SPI_AbortCpltCallback
 3374              		.syntax unified
 3375              		.thumb
 3376              		.thumb_func
 3377              		.fpu softvfp
 3379              	HAL_SPI_AbortCpltCallback:
 3380              	.LFB90:
2144:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 3381              		.loc 1 2144 0
 3382              		.cfi_startproc
 3383              		@ args = 0, pretend = 0, frame = 0
 3384              		@ frame_needed = 0, uses_anonymous_args = 0
 3385              		@ link register save eliminated.
 3386              	.LVL219:
 3387 0000 7047     		bx	lr
 3388              		.cfi_endproc
 3389              	.LFE90:
 3391 0002 00BF     		.section	.text.HAL_SPI_Abort_IT,"ax",%progbits
 3392              		.align	1
 3393              		.p2align 2,,3
 3394              		.global	HAL_SPI_Abort_IT
 3395              		.syntax unified
 3396              		.thumb
 3397              		.thumb_func
 3398              		.fpu softvfp
 3400              	HAL_SPI_Abort_IT:
 3401              	.LFB78:
1732:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t abortcplt;
 3402              		.loc 1 1732 0
ARM GAS  /tmp/ccHWpE7O.s 			page 128


 3403              		.cfi_startproc
 3404              		@ args = 0, pretend = 0, frame = 8
 3405              		@ frame_needed = 0, uses_anonymous_args = 0
 3406              	.LVL220:
1732:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t abortcplt;
 3407              		.loc 1 1732 0
 3408 0000 30B5     		push	{r4, r5, lr}
 3409              		.cfi_def_cfa_offset 12
 3410              		.cfi_offset 4, -12
 3411              		.cfi_offset 5, -8
 3412              		.cfi_offset 14, -4
 3413 0002 0446     		mov	r4, r0
1736:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3414              		.loc 1 1736 0
 3415 0004 0368     		ldr	r3, [r0]
1732:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t abortcplt;
 3416              		.loc 1 1732 0
 3417 0006 83B0     		sub	sp, sp, #12
 3418              		.cfi_def_cfa_offset 24
1736:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3419              		.loc 1 1736 0
 3420 0008 5A68     		ldr	r2, [r3, #4]
 3421 000a 1006     		lsls	r0, r2, #24
 3422              	.LVL221:
1738:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3423              		.loc 1 1738 0
 3424 000c 48BF     		it	mi
 3425 000e 3B4A     		ldrmi	r2, .L464
1754:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3426              		.loc 1 1754 0
 3427 0010 A06C     		ldr	r0, [r4, #72]
1738:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3428              		.loc 1 1738 0
 3429 0012 48BF     		it	mi
 3430 0014 6264     		strmi	r2, [r4, #68]
1741:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3431              		.loc 1 1741 0
 3432 0016 5A68     		ldr	r2, [r3, #4]
 3433 0018 5106     		lsls	r1, r2, #25
1743:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3434              		.loc 1 1743 0
 3435 001a 44BF     		itt	mi
 3436 001c 384A     		ldrmi	r2, .L464+4
 3437 001e 2264     		strmi	r2, [r4, #64]
1747:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3438              		.loc 1 1747 0
 3439 0020 5A68     		ldr	r2, [r3, #4]
 3440 0022 22F02002 		bic	r2, r2, #32
 3441 0026 5A60     		str	r2, [r3, #4]
 3442              	.LVL222:
1754:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3443              		.loc 1 1754 0
 3444 0028 28B1     		cbz	r0, .L411
1758:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3445              		.loc 1 1758 0
 3446 002a 5A68     		ldr	r2, [r3, #4]
 3447 002c 12F00202 		ands	r2, r2, #2
ARM GAS  /tmp/ccHWpE7O.s 			page 129


1760:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3448              		.loc 1 1760 0
 3449 0030 18BF     		it	ne
 3450 0032 344A     		ldrne	r2, .L464+8
1764:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3451              		.loc 1 1764 0
 3452 0034 4263     		str	r2, [r0, #52]
 3453              	.L411:
1768:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3454              		.loc 1 1768 0
 3455 0036 E16C     		ldr	r1, [r4, #76]
 3456 0038 29B1     		cbz	r1, .L413
1772:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3457              		.loc 1 1772 0
 3458 003a 5A68     		ldr	r2, [r3, #4]
 3459 003c 12F00102 		ands	r2, r2, #1
1774:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3460              		.loc 1 1774 0
 3461 0040 18BF     		it	ne
 3462 0042 314A     		ldrne	r2, .L464+12
1778:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3463              		.loc 1 1778 0
 3464 0044 4A63     		str	r2, [r1, #52]
 3465              	.L413:
1783:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3466              		.loc 1 1783 0
 3467 0046 5A68     		ldr	r2, [r3, #4]
 3468 0048 9207     		lsls	r2, r2, #30
 3469 004a 02D5     		bpl	.L428
1783:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3470              		.loc 1 1783 0 is_stmt 0 discriminator 1
 3471 004c 5A68     		ldr	r2, [r3, #4]
 3472 004e D507     		lsls	r5, r2, #31
 3473 0050 24D4     		bmi	.L461
 3474              	.L428:
1749:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 3475              		.loc 1 1749 0 is_stmt 1
 3476 0052 0125     		movs	r5, #1
 3477              	.LVL223:
 3478              	.L415:
1815:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3479              		.loc 1 1815 0
 3480 0054 5A68     		ldr	r2, [r3, #4]
 3481 0056 9107     		lsls	r1, r2, #30
 3482 0058 10D5     		bpl	.L420
1818:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3483              		.loc 1 1818 0
 3484 005a A06C     		ldr	r0, [r4, #72]
 3485 005c 70B1     		cbz	r0, .L420
1821:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3486              		.loc 1 1821 0
 3487 005e FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3488              	.LVL224:
 3489 0062 38B9     		cbnz	r0, .L462
 3490              	.LVL225:
1832:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3491              		.loc 1 1832 0
ARM GAS  /tmp/ccHWpE7O.s 			page 130


 3492 0064 2368     		ldr	r3, [r4]
 3493 0066 5B68     		ldr	r3, [r3, #4]
 3494 0068 DB07     		lsls	r3, r3, #31
 3495 006a 14D5     		bpl	.L449
1835:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3496              		.loc 1 1835 0
 3497 006c E36C     		ldr	r3, [r4, #76]
 3498 006e 93B1     		cbz	r3, .L449
1827:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3499              		.loc 1 1827 0
 3500 0070 0546     		mov	r5, r0
 3501 0072 08E0     		b	.L426
 3502              	.LVL226:
 3503              	.L462:
1823:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3504              		.loc 1 1823 0
 3505 0074 0021     		movs	r1, #0
 3506 0076 A26C     		ldr	r2, [r4, #72]
 3507 0078 2368     		ldr	r3, [r4]
 3508 007a 5163     		str	r1, [r2, #52]
 3509              	.L420:
1832:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3510              		.loc 1 1832 0
 3511 007c 5B68     		ldr	r3, [r3, #4]
 3512 007e DA07     		lsls	r2, r3, #31
 3513 0080 08D5     		bpl	.L422
1835:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3514              		.loc 1 1835 0
 3515 0082 E36C     		ldr	r3, [r4, #76]
 3516 0084 33B1     		cbz	r3, .L422
 3517              	.LVL227:
 3518              	.L426:
1838:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3519              		.loc 1 1838 0
 3520 0086 1846     		mov	r0, r3
 3521 0088 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3522              	.LVL228:
 3523 008c 18B1     		cbz	r0, .L449
1840:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3524              		.loc 1 1840 0
 3525 008e 0022     		movs	r2, #0
 3526 0090 E36C     		ldr	r3, [r4, #76]
 3527 0092 5A63     		str	r2, [r3, #52]
 3528              	.L422:
 3529              	.LVL229:
1849:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3530              		.loc 1 1849 0
 3531 0094 95B9     		cbnz	r5, .L463
 3532              	.LVL230:
 3533              	.L449:
1868:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3534              		.loc 1 1868 0
 3535 0096 0020     		movs	r0, #0
 3536 0098 03B0     		add	sp, sp, #12
 3537              		.cfi_remember_state
 3538              		.cfi_def_cfa_offset 12
 3539              		@ sp needed
ARM GAS  /tmp/ccHWpE7O.s 			page 131


 3540 009a 30BD     		pop	{r4, r5, pc}
 3541              	.LVL231:
 3542              	.L461:
 3543              		.cfi_restore_state
1786:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3544              		.loc 1 1786 0
 3545 009c 60B1     		cbz	r0, .L429
1789:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3546              		.loc 1 1789 0
 3547 009e FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3548              	.LVL232:
 3549 00a2 F0B9     		cbnz	r0, .L417
1795:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3550              		.loc 1 1795 0
 3551 00a4 0546     		mov	r5, r0
 3552 00a6 E16C     		ldr	r1, [r4, #76]
 3553              	.L416:
 3554              	.LVL233:
1799:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3555              		.loc 1 1799 0
 3556 00a8 21B1     		cbz	r1, .L460
1802:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3557              		.loc 1 1802 0
 3558 00aa 0846     		mov	r0, r1
 3559 00ac FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3560              	.LVL234:
 3561 00b0 E8B9     		cbnz	r0, .L419
1809:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3562              		.loc 1 1809 0
 3563 00b2 0546     		mov	r5, r0
 3564              	.LVL235:
 3565              	.L460:
 3566 00b4 2368     		ldr	r3, [r4]
 3567 00b6 CDE7     		b	.L415
 3568              	.LVL236:
 3569              	.L429:
1749:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 3570              		.loc 1 1749 0
 3571 00b8 0125     		movs	r5, #1
 3572 00ba F5E7     		b	.L416
 3573              	.LVL237:
 3574              	.L463:
1852:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 3575              		.loc 1 1852 0
 3576 00bc 0023     		movs	r3, #0
 3577              	.LBB72:
1859:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3578              		.loc 1 1859 0
 3579 00be 2268     		ldr	r2, [r4]
 3580              	.LBE72:
1852:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 3581              		.loc 1 1852 0
 3582 00c0 E387     		strh	r3, [r4, #62]	@ movhi
1853:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3583              		.loc 1 1853 0
 3584 00c2 E386     		strh	r3, [r4, #54]	@ movhi
1856:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 132


 3585              		.loc 1 1856 0
 3586 00c4 6365     		str	r3, [r4, #84]
 3587              	.LBB73:
1859:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3588              		.loc 1 1859 0
 3589 00c6 0193     		str	r3, [sp, #4]
 3590 00c8 D368     		ldr	r3, [r2, #12]
 3591              	.LBE73:
1865:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3592              		.loc 1 1865 0
 3593 00ca 2046     		mov	r0, r4
 3594              	.LBB74:
1859:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3595              		.loc 1 1859 0
 3596 00cc 0193     		str	r3, [sp, #4]
 3597 00ce 9368     		ldr	r3, [r2, #8]
 3598 00d0 0193     		str	r3, [sp, #4]
 3599 00d2 019B     		ldr	r3, [sp, #4]
 3600              	.LBE74:
1862:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3601              		.loc 1 1862 0
 3602 00d4 84F85150 		strb	r5, [r4, #81]
1865:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3603              		.loc 1 1865 0
 3604 00d8 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 3605              	.LVL238:
1868:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3606              		.loc 1 1868 0
 3607 00dc 0020     		movs	r0, #0
 3608 00de 03B0     		add	sp, sp, #12
 3609              		.cfi_remember_state
 3610              		.cfi_def_cfa_offset 12
 3611              		@ sp needed
 3612 00e0 30BD     		pop	{r4, r5, pc}
 3613              	.LVL239:
 3614              	.L417:
 3615              		.cfi_restore_state
1791:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3616              		.loc 1 1791 0
 3617 00e2 0022     		movs	r2, #0
 3618 00e4 A36C     		ldr	r3, [r4, #72]
 3619 00e6 E16C     		ldr	r1, [r4, #76]
1749:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 3620              		.loc 1 1749 0
 3621 00e8 0125     		movs	r5, #1
1791:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3622              		.loc 1 1791 0
 3623 00ea 5A63     		str	r2, [r3, #52]
 3624 00ec DCE7     		b	.L416
 3625              	.LVL240:
 3626              	.L419:
1804:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 1U;
 3627              		.loc 1 1804 0
 3628 00ee 0021     		movs	r1, #0
 3629 00f0 E26C     		ldr	r2, [r4, #76]
 3630 00f2 2368     		ldr	r3, [r4]
1805:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
ARM GAS  /tmp/ccHWpE7O.s 			page 133


 3631              		.loc 1 1805 0
 3632 00f4 0125     		movs	r5, #1
 3633              	.LVL241:
1804:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 1U;
 3634              		.loc 1 1804 0
 3635 00f6 5163     		str	r1, [r2, #52]
 3636              	.LVL242:
 3637 00f8 ACE7     		b	.L415
 3638              	.L465:
 3639 00fa 00BF     		.align	2
 3640              	.L464:
 3641 00fc 00000000 		.word	SPI_AbortTx_ISR
 3642 0100 00000000 		.word	SPI_AbortRx_ISR
 3643 0104 00000000 		.word	SPI_DMATxAbortCallback
 3644 0108 00000000 		.word	SPI_DMARxAbortCallback
 3645              		.cfi_endproc
 3646              	.LFE78:
 3648              		.section	.text.SPI_DMARxAbortCallback,"ax",%progbits
 3649              		.align	1
 3650              		.p2align 2,,3
 3651              		.syntax unified
 3652              		.thumb
 3653              		.thumb_func
 3654              		.fpu softvfp
 3656              	SPI_DMARxAbortCallback:
 3657              	.LFB102:
2537:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3658              		.loc 1 2537 0
 3659              		.cfi_startproc
 3660              		@ args = 0, pretend = 0, frame = 8
 3661              		@ frame_needed = 0, uses_anonymous_args = 0
 3662              	.LVL243:
 3663 0000 30B5     		push	{r4, r5, lr}
 3664              		.cfi_def_cfa_offset 12
 3665              		.cfi_offset 4, -12
 3666              		.cfi_offset 5, -8
 3667              		.cfi_offset 14, -4
2543:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3668              		.loc 1 2543 0
 3669 0002 0025     		movs	r5, #0
2538:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3670              		.loc 1 2538 0
 3671 0004 426A     		ldr	r2, [r0, #36]
 3672              	.LVL244:
2537:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3673              		.loc 1 2537 0
 3674 0006 83B0     		sub	sp, sp, #12
 3675              		.cfi_def_cfa_offset 24
2541:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3676              		.loc 1 2541 0
 3677 0008 1368     		ldr	r3, [r2]
2543:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3678              		.loc 1 2543 0
 3679 000a D46C     		ldr	r4, [r2, #76]
2541:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3680              		.loc 1 2541 0
 3681 000c 1968     		ldr	r1, [r3]
ARM GAS  /tmp/ccHWpE7O.s 			page 134


2549:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3682              		.loc 1 2549 0
 3683 000e 906C     		ldr	r0, [r2, #72]
 3684              	.LVL245:
2541:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3685              		.loc 1 2541 0
 3686 0010 21F04001 		bic	r1, r1, #64
 3687 0014 1960     		str	r1, [r3]
2546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3688              		.loc 1 2546 0
 3689 0016 5968     		ldr	r1, [r3, #4]
2543:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3690              		.loc 1 2543 0
 3691 0018 6563     		str	r5, [r4, #52]
2546:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3692              		.loc 1 2546 0
 3693 001a 21F00101 		bic	r1, r1, #1
 3694 001e 5960     		str	r1, [r3, #4]
2549:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3695              		.loc 1 2549 0
 3696 0020 18B1     		cbz	r0, .L467
2551:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3697              		.loc 1 2551 0
 3698 0022 416B     		ldr	r1, [r0, #52]
 3699 0024 09B1     		cbz	r1, .L467
2572:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3700              		.loc 1 2572 0
 3701 0026 03B0     		add	sp, sp, #12
 3702              		.cfi_remember_state
 3703              		.cfi_def_cfa_offset 12
 3704              		@ sp needed
 3705 0028 30BD     		pop	{r4, r5, pc}
 3706              	.L467:
 3707              		.cfi_restore_state
2558:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3708              		.loc 1 2558 0
 3709 002a 0021     		movs	r1, #0
2568:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3710              		.loc 1 2568 0
 3711 002c 0124     		movs	r4, #1
2558:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3712              		.loc 1 2558 0
 3713 002e D187     		strh	r1, [r2, #62]	@ movhi
2559:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3714              		.loc 1 2559 0
 3715 0030 D186     		strh	r1, [r2, #54]	@ movhi
2562:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3716              		.loc 1 2562 0
 3717 0032 5165     		str	r1, [r2, #84]
 3718              	.LBB75:
2565:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3719              		.loc 1 2565 0
 3720 0034 0191     		str	r1, [sp, #4]
 3721 0036 D968     		ldr	r1, [r3, #12]
 3722              	.LBE75:
2571:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3723              		.loc 1 2571 0
ARM GAS  /tmp/ccHWpE7O.s 			page 135


 3724 0038 1046     		mov	r0, r2
 3725              	.LBB76:
2565:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3726              		.loc 1 2565 0
 3727 003a 0191     		str	r1, [sp, #4]
 3728 003c 9B68     		ldr	r3, [r3, #8]
 3729 003e 0193     		str	r3, [sp, #4]
 3730 0040 019B     		ldr	r3, [sp, #4]
 3731              	.LBE76:
2568:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3732              		.loc 1 2568 0
 3733 0042 82F85140 		strb	r4, [r2, #81]
2571:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3734              		.loc 1 2571 0
 3735 0046 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 3736              	.LVL246:
2572:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3737              		.loc 1 2572 0
 3738 004a 03B0     		add	sp, sp, #12
 3739              		.cfi_def_cfa_offset 12
 3740              		@ sp needed
 3741 004c 30BD     		pop	{r4, r5, pc}
 3742              		.cfi_endproc
 3743              	.LFE102:
 3745 004e 00BF     		.section	.text.SPI_DMATxAbortCallback,"ax",%progbits
 3746              		.align	1
 3747              		.p2align 2,,3
 3748              		.syntax unified
 3749              		.thumb
 3750              		.thumb_func
 3751              		.fpu softvfp
 3753              	SPI_DMATxAbortCallback:
 3754              	.LFB101:
2485:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 3755              		.loc 1 2485 0
 3756              		.cfi_startproc
 3757              		@ args = 0, pretend = 0, frame = 8
 3758              		@ frame_needed = 0, uses_anonymous_args = 0
 3759              	.LVL247:
2486:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3760              		.loc 1 2486 0
 3761 0000 6422     		movs	r2, #100
2485:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 3762              		.loc 1 2485 0
 3763 0002 30B5     		push	{r4, r5, lr}
 3764              		.cfi_def_cfa_offset 12
 3765              		.cfi_offset 4, -12
 3766              		.cfi_offset 5, -8
 3767              		.cfi_offset 14, -4
2489:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3768              		.loc 1 2489 0
 3769 0004 0025     		movs	r5, #0
2486:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3770              		.loc 1 2486 0
 3771 0006 184B     		ldr	r3, .L485
 3772 0008 1849     		ldr	r1, .L485+4
 3773 000a 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccHWpE7O.s 			page 136


2487:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3774              		.loc 1 2487 0
 3775 000c 446A     		ldr	r4, [r0, #36]
 3776              	.LVL248:
2486:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3777              		.loc 1 2486 0
 3778 000e A1FB0313 		umull	r1, r3, r1, r3
 3779 0012 5B0A     		lsrs	r3, r3, #9
 3780 0014 02FB03F3 		mul	r3, r2, r3
2492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3781              		.loc 1 2492 0
 3782 0018 2168     		ldr	r1, [r4]
2485:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 3783              		.loc 1 2485 0
 3784 001a 83B0     		sub	sp, sp, #12
 3785              		.cfi_def_cfa_offset 24
2486:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 3786              		.loc 1 2486 0
 3787 001c 0193     		str	r3, [sp, #4]
2492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3788              		.loc 1 2492 0
 3789 001e 4B68     		ldr	r3, [r1, #4]
2489:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3790              		.loc 1 2489 0
 3791 0020 A26C     		ldr	r2, [r4, #72]
2492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3792              		.loc 1 2492 0
 3793 0022 23F00203 		bic	r3, r3, #2
2489:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3794              		.loc 1 2489 0
 3795 0026 5563     		str	r5, [r2, #52]
2492:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3796              		.loc 1 2492 0
 3797 0028 4B60     		str	r3, [r1, #4]
 3798 002a 02E0     		b	.L476
 3799              	.L474:
2503:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3800              		.loc 1 2503 0
 3801 002c 8B68     		ldr	r3, [r1, #8]
 3802 002e 9B07     		lsls	r3, r3, #30
 3803 0030 08D4     		bmi	.L475
 3804              	.L476:
2497:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3805              		.loc 1 2497 0
 3806 0032 019B     		ldr	r3, [sp, #4]
 3807 0034 5A1E     		subs	r2, r3, #1
 3808 0036 0192     		str	r2, [sp, #4]
 3809 0038 002B     		cmp	r3, #0
 3810 003a F7D1     		bne	.L474
2499:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 3811              		.loc 1 2499 0
 3812 003c 636D     		ldr	r3, [r4, #84]
 3813 003e 43F02003 		orr	r3, r3, #32
 3814 0042 6365     		str	r3, [r4, #84]
 3815              	.L475:
2506:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3816              		.loc 1 2506 0
ARM GAS  /tmp/ccHWpE7O.s 			page 137


 3817 0044 E36C     		ldr	r3, [r4, #76]
 3818 0046 1BB1     		cbz	r3, .L477
2508:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3819              		.loc 1 2508 0
 3820 0048 5B6B     		ldr	r3, [r3, #52]
 3821 004a 0BB1     		cbz	r3, .L477
2526:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3822              		.loc 1 2526 0
 3823 004c 03B0     		add	sp, sp, #12
 3824              		.cfi_remember_state
 3825              		.cfi_def_cfa_offset 12
 3826              		@ sp needed
 3827 004e 30BD     		pop	{r4, r5, pc}
 3828              	.LVL249:
 3829              	.L477:
 3830              		.cfi_restore_state
2515:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3831              		.loc 1 2515 0
 3832 0050 0023     		movs	r3, #0
2522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3833              		.loc 1 2522 0
 3834 0052 0122     		movs	r2, #1
2515:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3835              		.loc 1 2515 0
 3836 0054 E387     		strh	r3, [r4, #62]	@ movhi
2525:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3837              		.loc 1 2525 0
 3838 0056 2046     		mov	r0, r4
 3839              	.LVL250:
2516:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3840              		.loc 1 2516 0
 3841 0058 E386     		strh	r3, [r4, #54]	@ movhi
2519:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3842              		.loc 1 2519 0
 3843 005a 6365     		str	r3, [r4, #84]
2522:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3844              		.loc 1 2522 0
 3845 005c 84F85120 		strb	r2, [r4, #81]
2525:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3846              		.loc 1 2525 0
 3847 0060 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 3848              	.LVL251:
2526:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3849              		.loc 1 2526 0
 3850 0064 03B0     		add	sp, sp, #12
 3851              		.cfi_def_cfa_offset 12
 3852              		@ sp needed
 3853 0066 30BD     		pop	{r4, r5, pc}
 3854              	.LVL252:
 3855              	.L486:
 3856              		.align	2
 3857              	.L485:
 3858 0068 00000000 		.word	SystemCoreClock
 3859 006c F1197605 		.word	91625969
 3860              		.cfi_endproc
 3861              	.LFE101:
 3863              		.section	.text.HAL_SPI_GetState,"ax",%progbits
ARM GAS  /tmp/ccHWpE7O.s 			page 138


 3864              		.align	1
 3865              		.p2align 2,,3
 3866              		.global	HAL_SPI_GetState
 3867              		.syntax unified
 3868              		.thumb
 3869              		.thumb_func
 3870              		.fpu softvfp
 3872              	HAL_SPI_GetState:
 3873              	.LFB91:
2179:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI handle state */
 3874              		.loc 1 2179 0
 3875              		.cfi_startproc
 3876              		@ args = 0, pretend = 0, frame = 0
 3877              		@ frame_needed = 0, uses_anonymous_args = 0
 3878              		@ link register save eliminated.
 3879              	.LVL253:
2181:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3880              		.loc 1 2181 0
 3881 0000 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 3882              	.LVL254:
2182:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3883              		.loc 1 2182 0
 3884 0004 7047     		bx	lr
 3885              		.cfi_endproc
 3886              	.LFE91:
 3888 0006 00BF     		.section	.text.HAL_SPI_GetError,"ax",%progbits
 3889              		.align	1
 3890              		.p2align 2,,3
 3891              		.global	HAL_SPI_GetError
 3892              		.syntax unified
 3893              		.thumb
 3894              		.thumb_func
 3895              		.fpu softvfp
 3897              	HAL_SPI_GetError:
 3898              	.LFB92:
2191:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI ErrorCode */
 3899              		.loc 1 2191 0
 3900              		.cfi_startproc
 3901              		@ args = 0, pretend = 0, frame = 0
 3902              		@ frame_needed = 0, uses_anonymous_args = 0
 3903              		@ link register save eliminated.
 3904              	.LVL255:
2193:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3905              		.loc 1 2193 0
 3906 0000 406D     		ldr	r0, [r0, #84]
 3907              	.LVL256:
2194:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3908              		.loc 1 2194 0
 3909 0002 7047     		bx	lr
 3910              		.cfi_endproc
 3911              	.LFE92:
 3913              		.section	.text.SPI_ISCRCErrorValid,"ax",%progbits
 3914              		.align	1
 3915              		.p2align 2,,3
 3916              		.weak	SPI_ISCRCErrorValid
 3917              		.syntax unified
 3918              		.thumb
ARM GAS  /tmp/ccHWpE7O.s 			page 139


 3919              		.thumb_func
 3920              		.fpu softvfp
 3922              	SPI_ISCRCErrorValid:
 3923              	.LFB122:
3237:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3238:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3239:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3240:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Checks if encountered CRC error could be corresponding to wrongly detected errors 
3241:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         according to SPI instance, Device type, and revision ID.
3242:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi: pointer to a SPI_HandleTypeDef structure that contains
3243:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3244:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval CRC error validity (SPI_INVALID_CRC_ERROR or SPI_VALID_CRC_ERROR).  
3245:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** */
3246:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak uint8_t SPI_ISCRCErrorValid(SPI_HandleTypeDef *hspi)
3247:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 3924              		.loc 1 3247 0
 3925              		.cfi_startproc
 3926              		@ args = 0, pretend = 0, frame = 0
 3927              		@ frame_needed = 0, uses_anonymous_args = 0
 3928              		@ link register save eliminated.
 3929              	.LVL257:
3248:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
3249:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
3250:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
3251:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return (SPI_VALID_CRC_ERROR);
3252:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3930              		.loc 1 3252 0
 3931 0000 0120     		movs	r0, #1
 3932              	.LVL258:
 3933 0002 7047     		bx	lr
 3934              		.cfi_endproc
 3935              	.LFE122:
 3937              		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 3938              		.align	1
 3939              		.p2align 2,,3
 3940              		.global	HAL_SPI_TransmitReceive
 3941              		.syntax unified
 3942              		.thumb
 3943              		.thumb_func
 3944              		.fpu softvfp
 3946              	HAL_SPI_TransmitReceive:
 3947              	.LFB70:
 824:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 3948              		.loc 1 824 0
 3949              		.cfi_startproc
 3950              		@ args = 4, pretend = 0, frame = 8
 3951              		@ frame_needed = 0, uses_anonymous_args = 0
 3952              	.LVL259:
 3953 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3954              		.cfi_def_cfa_offset 28
 3955              		.cfi_offset 4, -28
 3956              		.cfi_offset 5, -24
 3957              		.cfi_offset 6, -20
 3958              		.cfi_offset 7, -16
 3959              		.cfi_offset 8, -12
 3960              		.cfi_offset 9, -8
 3961              		.cfi_offset 14, -4
ARM GAS  /tmp/ccHWpE7O.s 			page 140


 827:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 3962              		.loc 1 827 0
 3963 0004 0025     		movs	r5, #0
 824:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 3964              		.loc 1 824 0
 3965 0006 0446     		mov	r4, r0
 838:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3966              		.loc 1 838 0
 3967 0008 90F85000 		ldrb	r0, [r0, #80]	@ zero_extendqisi2
 3968              	.LVL260:
 824:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 3969              		.loc 1 824 0
 3970 000c 85B0     		sub	sp, sp, #20
 3971              		.cfi_def_cfa_offset 48
 838:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3972              		.loc 1 838 0
 3973 000e 0128     		cmp	r0, #1
 827:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 3974              		.loc 1 827 0
 3975 0010 ADF80A50 		strh	r5, [sp, #10]	@ movhi
 3976              	.LVL261:
 824:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp = 0U, tmp1 = 0U;
 3977              		.loc 1 824 0
 3978 0014 0C9D     		ldr	r5, [sp, #48]
 838:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3979              		.loc 1 838 0
 3980 0016 04D1     		bne	.L580
 3981 0018 0226     		movs	r6, #2
1045:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3982              		.loc 1 1045 0
 3983 001a 3046     		mov	r0, r6
 3984 001c 05B0     		add	sp, sp, #20
 3985              		.cfi_remember_state
 3986              		.cfi_def_cfa_offset 28
 3987              		@ sp needed
 3988 001e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3989              	.LVL262:
 3990              	.L580:
 3991              		.cfi_restore_state
 3992 0022 9946     		mov	r9, r3
 838:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3993              		.loc 1 838 0 discriminator 2
 3994 0024 0123     		movs	r3, #1
 3995              	.LVL263:
 3996 0026 84F85030 		strb	r3, [r4, #80]
 3997 002a 0E46     		mov	r6, r1
 3998 002c 9046     		mov	r8, r2
 841:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 3999              		.loc 1 841 0 discriminator 2
 4000 002e FFF7FEFF 		bl	HAL_GetTick
 4001              	.LVL264:
 843:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 4002              		.loc 1 843 0 discriminator 2
 4003 0032 94F85120 		ldrb	r2, [r4, #81]	@ zero_extendqisi2
 841:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 4004              		.loc 1 841 0 discriminator 2
 4005 0036 0746     		mov	r7, r0
ARM GAS  /tmp/ccHWpE7O.s 			page 141


 4006              	.LVL265:
 843:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp1 = hspi->Init.Mode;
 4007              		.loc 1 843 0 discriminator 2
 4008 0038 D2B2     		uxtb	r2, r2
 4009              	.LVL266:
 846:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_SPI
 4010              		.loc 1 846 0 discriminator 2
 4011 003a 012A     		cmp	r2, #1
 844:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 4012              		.loc 1 844 0 discriminator 2
 4013 003c 6168     		ldr	r1, [r4, #4]
 4014              	.LVL267:
 846:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_SPI
 4015              		.loc 1 846 0 discriminator 2
 4016 003e 12D0     		beq	.L492
 846:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     ((tmp1 == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp == HAL_SPI
 4017              		.loc 1 846 0 is_stmt 0 discriminator 1
 4018 0040 B1F5827F 		cmp	r1, #260
 4019 0044 0AD0     		beq	.L581
 4020              	.L528:
 849:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 4021              		.loc 1 849 0 is_stmt 1
 4022 0046 0226     		movs	r6, #2
 4023              	.LVL268:
 4024              	.L493:
1042:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4025              		.loc 1 1042 0
 4026 0048 0122     		movs	r2, #1
1043:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 4027              		.loc 1 1043 0
 4028 004a 0023     		movs	r3, #0
1045:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4029              		.loc 1 1045 0
 4030 004c 3046     		mov	r0, r6
1042:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4031              		.loc 1 1042 0
 4032 004e 84F85120 		strb	r2, [r4, #81]
1043:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 4033              		.loc 1 1043 0
 4034 0052 84F85030 		strb	r3, [r4, #80]
1045:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4035              		.loc 1 1045 0
 4036 0056 05B0     		add	sp, sp, #20
 4037              		.cfi_remember_state
 4038              		.cfi_def_cfa_offset 28
 4039              		@ sp needed
 4040 0058 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4041              	.LVL269:
 4042              	.L581:
 4043              		.cfi_restore_state
 847:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4044              		.loc 1 847 0
 4045 005c A368     		ldr	r3, [r4, #8]
 4046 005e 002B     		cmp	r3, #0
 4047 0060 F1D1     		bne	.L528
 847:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4048              		.loc 1 847 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccHWpE7O.s 			page 142


 4049 0062 042A     		cmp	r2, #4
 4050 0064 EFD1     		bne	.L528
 4051              	.L492:
 853:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4052              		.loc 1 853 0 is_stmt 1
 4053 0066 002E     		cmp	r6, #0
 4054 0068 72D0     		beq	.L531
 853:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4055              		.loc 1 853 0 is_stmt 0 discriminator 1
 4056 006a B8F1000F 		cmp	r8, #0
 4057 006e 6FD0     		beq	.L531
 853:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4058              		.loc 1 853 0 discriminator 2
 4059 0070 B9F1000F 		cmp	r9, #0
 4060 0074 6CD0     		beq	.L531
 860:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4061              		.loc 1 860 0 is_stmt 1
 4062 0076 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 880:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4063              		.loc 1 880 0
 4064 007a A26A     		ldr	r2, [r4, #40]
 4065              	.LVL270:
 860:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4066              		.loc 1 860 0
 4067 007c 012B     		cmp	r3, #1
 862:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4068              		.loc 1 862 0
 4069 007e 04BF     		itt	eq
 4070 0080 0523     		moveq	r3, #5
 4071 0082 84F85130 		strbeq	r3, [r4, #81]
 866:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 4072              		.loc 1 866 0
 4073 0086 0023     		movs	r3, #0
 880:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4074              		.loc 1 880 0
 4075 0088 B2F5005F 		cmp	r2, #8192
 866:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 4076              		.loc 1 866 0
 4077 008c 6365     		str	r3, [r4, #84]
 867:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 4078              		.loc 1 867 0
 4079 008e C4F83880 		str	r8, [r4, #56]
 868:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 4080              		.loc 1 868 0
 4081 0092 A4F83E90 		strh	r9, [r4, #62]	@ movhi
 869:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 4082              		.loc 1 869 0
 4083 0096 A4F83C90 		strh	r9, [r4, #60]	@ movhi
 870:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 4084              		.loc 1 870 0
 4085 009a 2663     		str	r6, [r4, #48]
 872:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4086              		.loc 1 872 0
 4087 009c A4F83490 		strh	r9, [r4, #52]	@ movhi
 875:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 4088              		.loc 1 875 0
 4089 00a0 2364     		str	r3, [r4, #64]
ARM GAS  /tmp/ccHWpE7O.s 			page 143


 876:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4090              		.loc 1 876 0
 4091 00a2 6364     		str	r3, [r4, #68]
 871:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 4092              		.loc 1 871 0
 4093 00a4 A4F83690 		strh	r9, [r4, #54]	@ movhi
 880:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4094              		.loc 1 880 0
 4095 00a8 00F0C980 		beq	.L495
 4096 00ac 2368     		ldr	r3, [r4]
 4097              	.LVL271:
 4098              	.L496:
 887:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4099              		.loc 1 887 0
 4100 00ae 1A68     		ldr	r2, [r3]
 4101 00b0 5006     		lsls	r0, r2, #25
 4102 00b2 03D4     		bmi	.L497
 890:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4103              		.loc 1 890 0
 4104 00b4 1A68     		ldr	r2, [r3]
 4105 00b6 42F04002 		orr	r2, r2, #64
 4106 00ba 1A60     		str	r2, [r3]
 4107              	.L497:
 894:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4108              		.loc 1 894 0
 4109 00bc E268     		ldr	r2, [r4, #12]
 4110 00be B2F5006F 		cmp	r2, #2048
 4111 00c2 47D0     		beq	.L582
 941:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4112              		.loc 1 941 0
 4113 00c4 0029     		cmp	r1, #0
 4114 00c6 7CD0     		beq	.L509
 941:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4115              		.loc 1 941 0 is_stmt 0 discriminator 1
 4116 00c8 E28E     		ldrh	r2, [r4, #54]
 4117 00ca 92B2     		uxth	r2, r2
 4118 00cc 012A     		cmp	r2, #1
 4119 00ce 78D0     		beq	.L509
 4120              	.L510:
 972:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4121              		.loc 1 972 0 is_stmt 1
 4122 00d0 4FF00109 		mov	r9, #1
 4123              	.LVL272:
 4124              	.L511:
 947:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4125              		.loc 1 947 0
 4126 00d4 E38E     		ldrh	r3, [r4, #54]
 4127 00d6 9BB2     		uxth	r3, r3
 4128 00d8 1BB9     		cbnz	r3, .L517
 947:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4129              		.loc 1 947 0 is_stmt 0 discriminator 1
 4130 00da E38F     		ldrh	r3, [r4, #62]
 4131 00dc 9BB2     		uxth	r3, r3
 4132 00de 002B     		cmp	r3, #0
 4133 00e0 48D0     		beq	.L518
 4134              	.L517:
 950:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
ARM GAS  /tmp/ccHWpE7O.s 			page 144


 4135              		.loc 1 950 0 is_stmt 1
 4136 00e2 B9F1000F 		cmp	r9, #0
 4137 00e6 19D0     		beq	.L512
 950:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4138              		.loc 1 950 0 is_stmt 0 discriminator 1
 4139 00e8 E38E     		ldrh	r3, [r4, #54]
 4140 00ea 9BB2     		uxth	r3, r3
 4141 00ec B3B1     		cbz	r3, .L512
 950:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4142              		.loc 1 950 0 discriminator 2
 4143 00ee 2368     		ldr	r3, [r4]
 4144 00f0 9A68     		ldr	r2, [r3, #8]
 4145 00f2 9107     		lsls	r1, r2, #30
 4146 00f4 12D5     		bpl	.L512
 952:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 4147              		.loc 1 952 0 is_stmt 1
 4148 00f6 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 4149 00f8 0136     		adds	r6, r6, #1
 4150              	.LVL273:
 4151 00fa 1A73     		strb	r2, [r3, #12]
 953:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */ 
 4152              		.loc 1 953 0
 4153 00fc E38E     		ldrh	r3, [r4, #54]
 4154 00fe 013B     		subs	r3, r3, #1
 4155 0100 9BB2     		uxth	r3, r3
 4156 0102 E386     		strh	r3, [r4, #54]	@ movhi
 4157              	.LVL274:
 959:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4158              		.loc 1 959 0
 4159 0104 B4F83690 		ldrh	r9, [r4, #54]
 4160 0108 1FFA89F3 		uxth	r3, r9
 4161 010c 002B     		cmp	r3, #0
 4162 010e 55D1     		bne	.L534
 959:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4163              		.loc 1 959 0 is_stmt 0 discriminator 1
 4164 0110 A26A     		ldr	r2, [r4, #40]
 4165 0112 B2F5005F 		cmp	r2, #8192
 4166 0116 00F09D80 		beq	.L583
 955:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4167              		.loc 1 955 0 is_stmt 1
 4168 011a 9946     		mov	r9, r3
 4169              	.LVL275:
 4170              	.L512:
 967:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4171              		.loc 1 967 0
 4172 011c E38F     		ldrh	r3, [r4, #62]
 4173 011e 9BB2     		uxth	r3, r3
 4174 0120 6BB1     		cbz	r3, .L513
 967:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4175              		.loc 1 967 0 is_stmt 0 discriminator 1
 4176 0122 2368     		ldr	r3, [r4]
 4177 0124 9A68     		ldr	r2, [r3, #8]
 4178 0126 D207     		lsls	r2, r2, #31
 4179 0128 09D5     		bpl	.L513
 4180              	.LVL276:
 972:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4181              		.loc 1 972 0 is_stmt 1
ARM GAS  /tmp/ccHWpE7O.s 			page 145


 4182 012a 4FF00109 		mov	r9, #1
 4183              	.LVL277:
 969:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 4184              		.loc 1 969 0
 4185 012e DB68     		ldr	r3, [r3, #12]
 4186 0130 88F80030 		strb	r3, [r8]
 970:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */ 
 4187              		.loc 1 970 0
 4188 0134 E38F     		ldrh	r3, [r4, #62]
 969:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 4189              		.loc 1 969 0
 4190 0136 C844     		add	r8, r8, r9
 4191              	.LVL278:
 970:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */ 
 4192              		.loc 1 970 0
 4193 0138 013B     		subs	r3, r3, #1
 4194 013a 9BB2     		uxth	r3, r3
 4195 013c E387     		strh	r3, [r4, #62]	@ movhi
 4196              	.LVL279:
 4197              	.L513:
 974:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4198              		.loc 1 974 0
 4199 013e 6B1C     		adds	r3, r5, #1
 4200 0140 C8D0     		beq	.L511
 974:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4201              		.loc 1 974 0 is_stmt 0 discriminator 1
 4202 0142 FFF7FEFF 		bl	HAL_GetTick
 4203              	.LVL280:
 4204 0146 C01B     		subs	r0, r0, r7
 4205 0148 8542     		cmp	r5, r0
 4206 014a C3D8     		bhi	.L511
 4207              	.LVL281:
 4208              	.L515:
 933:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         goto error;
 4209              		.loc 1 933 0 is_stmt 1
 4210 014c 0326     		movs	r6, #3
 4211 014e 7BE7     		b	.L493
 4212              	.LVL282:
 4213              	.L531:
 855:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 4214              		.loc 1 855 0
 4215 0150 0126     		movs	r6, #1
 4216              	.LVL283:
 4217 0152 79E7     		b	.L493
 4218              	.LVL284:
 4219              	.L582:
 896:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4220              		.loc 1 896 0
 4221 0154 0029     		cmp	r1, #0
 4222 0156 00F08480 		beq	.L499
 896:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4223              		.loc 1 896 0 is_stmt 0 discriminator 1
 4224 015a E28E     		ldrh	r2, [r4, #54]
 4225 015c 92B2     		uxth	r2, r2
 4226 015e 012A     		cmp	r2, #1
 4227 0160 7FD0     		beq	.L499
 4228              	.L500:
ARM GAS  /tmp/ccHWpE7O.s 			page 146


 929:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4229              		.loc 1 929 0 is_stmt 1
 4230 0162 4FF00109 		mov	r9, #1
 4231              	.LVL285:
 4232              	.L501:
 902:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4233              		.loc 1 902 0
 4234 0166 E38E     		ldrh	r3, [r4, #54]
 4235 0168 9BB2     		uxth	r3, r3
 4236 016a 002B     		cmp	r3, #0
 4237 016c 31D1     		bne	.L506
 902:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4238              		.loc 1 902 0 is_stmt 0 discriminator 1
 4239 016e E38F     		ldrh	r3, [r4, #62]
 4240 0170 9BB2     		uxth	r3, r3
 4241 0172 73BB     		cbnz	r3, .L506
 4242              	.L518:
 984:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4243              		.loc 1 984 0 is_stmt 1
 4244 0174 A36A     		ldr	r3, [r4, #40]
 4245 0176 B3F5005F 		cmp	r3, #8192
 4246 017a 00F08B80 		beq	.L584
 4247 017e 2368     		ldr	r3, [r4]
 4248              	.L519:
1001:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4249              		.loc 1 1001 0
 4250 0180 9E68     		ldr	r6, [r3, #8]
 4251              	.LVL286:
 4252 0182 16F01006 		ands	r6, r6, #16
 4253 0186 74D1     		bne	.L585
 4254              	.LVL287:
 4255              	.L521:
1021:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4256              		.loc 1 1021 0
 4257 0188 0097     		str	r7, [sp]
 4258 018a 2B46     		mov	r3, r5
 4259 018c 0122     		movs	r2, #1
 4260 018e 0221     		movs	r1, #2
 4261 0190 2046     		mov	r0, r4
 4262 0192 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 4263              	.LVL288:
 4264 0196 0028     		cmp	r0, #0
 4265 0198 D8D1     		bne	.L515
 4266              	.LVL289:
 4267              	.LBB77:
 4268              	.LBB78:
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4269              		.loc 1 2981 0
 4270 019a 0246     		mov	r2, r0
 4271 019c 0097     		str	r7, [sp]
 4272 019e 2B46     		mov	r3, r5
 4273 01a0 8021     		movs	r1, #128
 4274 01a2 2046     		mov	r0, r4
 4275 01a4 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 4276              	.LVL290:
 4277 01a8 0028     		cmp	r0, #0
 4278 01aa 00F08180 		beq	.L523
ARM GAS  /tmp/ccHWpE7O.s 			page 147


 4279              	.LBE78:
 4280              	.LBE77:
1031:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 4281              		.loc 1 1031 0
 4282 01ae 2022     		movs	r2, #32
 4283              	.LBB81:
 4284              	.LBB79:
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 4285              		.loc 1 2983 0
 4286 01b0 636D     		ldr	r3, [r4, #84]
 4287              	.LBE79:
 4288              	.LBE81:
1030:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 4289              		.loc 1 1030 0
 4290 01b2 0126     		movs	r6, #1
 4291              	.LVL291:
 4292              	.LBB82:
 4293              	.LBB80:
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 4294              		.loc 1 2983 0
 4295 01b4 1343     		orrs	r3, r3, r2
 4296 01b6 6365     		str	r3, [r4, #84]
 4297              	.LVL292:
 4298              	.LBE80:
 4299              	.LBE82:
1031:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 4300              		.loc 1 1031 0
 4301 01b8 6265     		str	r2, [r4, #84]
1032:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4302              		.loc 1 1032 0
 4303 01ba 45E7     		b	.L493
 4304              	.LVL293:
 4305              	.L534:
 955:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4306              		.loc 1 955 0
 4307 01bc 4FF00009 		mov	r9, #0
 4308 01c0 ACE7     		b	.L512
 4309              	.LVL294:
 4310              	.L509:
 943:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       pTxData += sizeof(uint8_t);
 4311              		.loc 1 943 0
 4312 01c2 16F8012B 		ldrb	r2, [r6], #1	@ zero_extendqisi2
 4313              	.LVL295:
 4314 01c6 1A73     		strb	r2, [r3, #12]
 4315              	.LVL296:
 945:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4316              		.loc 1 945 0
 4317 01c8 E38E     		ldrh	r3, [r4, #54]
 4318 01ca 013B     		subs	r3, r3, #1
 4319 01cc 9BB2     		uxth	r3, r3
 4320 01ce E386     		strh	r3, [r4, #54]	@ movhi
 4321 01d0 7EE7     		b	.L510
 4322              	.LVL297:
 4323              	.L506:
 905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4324              		.loc 1 905 0
 4325 01d2 B9F1000F 		cmp	r9, #0
ARM GAS  /tmp/ccHWpE7O.s 			page 148


 4326 01d6 17D0     		beq	.L502
 905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4327              		.loc 1 905 0 is_stmt 0 discriminator 1
 4328 01d8 E38E     		ldrh	r3, [r4, #54]
 4329 01da 9BB2     		uxth	r3, r3
 4330 01dc A3B1     		cbz	r3, .L502
 905:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4331              		.loc 1 905 0 discriminator 2
 4332 01de 2268     		ldr	r2, [r4]
 4333 01e0 9368     		ldr	r3, [r2, #8]
 4334 01e2 9907     		lsls	r1, r3, #30
 4335 01e4 10D5     		bpl	.L502
 907:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pTxData += sizeof(uint16_t);
 4336              		.loc 1 907 0 is_stmt 1
 4337 01e6 36F8023B 		ldrh	r3, [r6], #2
 4338              	.LVL298:
 4339 01ea D360     		str	r3, [r2, #12]
 4340              	.LVL299:
 909:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */ 
 4341              		.loc 1 909 0
 4342 01ec E38E     		ldrh	r3, [r4, #54]
 4343 01ee 013B     		subs	r3, r3, #1
 4344 01f0 9BB2     		uxth	r3, r3
 4345 01f2 E386     		strh	r3, [r4, #54]	@ movhi
 4346              	.LVL300:
 915:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4347              		.loc 1 915 0
 4348 01f4 B4F83690 		ldrh	r9, [r4, #54]
 4349 01f8 1FFA89F3 		uxth	r3, r9
 4350 01fc E3B9     		cbnz	r3, .L532
 915:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4351              		.loc 1 915 0 is_stmt 0 discriminator 1
 4352 01fe A16A     		ldr	r1, [r4, #40]
 4353 0200 B1F5005F 		cmp	r1, #8192
 4354 0204 40D0     		beq	.L586
 911:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4355              		.loc 1 911 0 is_stmt 1
 4356 0206 9946     		mov	r9, r3
 4357              	.LVL301:
 4358              	.L502:
 923:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4359              		.loc 1 923 0
 4360 0208 E38F     		ldrh	r3, [r4, #62]
 4361 020a 9BB2     		uxth	r3, r3
 4362 020c 63B1     		cbz	r3, .L503
 923:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4363              		.loc 1 923 0 is_stmt 0 discriminator 1
 4364 020e 2368     		ldr	r3, [r4]
 4365 0210 9A68     		ldr	r2, [r3, #8]
 4366 0212 D207     		lsls	r2, r2, #31
 4367 0214 08D5     		bpl	.L503
 929:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4368              		.loc 1 929 0 is_stmt 1
 4369 0216 4FF00109 		mov	r9, #1
 4370              	.LVL302:
 925:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pRxData += sizeof(uint16_t);
 4371              		.loc 1 925 0
ARM GAS  /tmp/ccHWpE7O.s 			page 149


 4372 021a DB68     		ldr	r3, [r3, #12]
 4373 021c 28F8023B 		strh	r3, [r8], #2	@ movhi
 4374              	.LVL303:
 927:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */ 
 4375              		.loc 1 927 0
 4376 0220 E38F     		ldrh	r3, [r4, #62]
 4377 0222 013B     		subs	r3, r3, #1
 4378 0224 9BB2     		uxth	r3, r3
 4379 0226 E387     		strh	r3, [r4, #62]	@ movhi
 4380              	.LVL304:
 4381              	.L503:
 931:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4382              		.loc 1 931 0
 4383 0228 681C     		adds	r0, r5, #1
 4384 022a 9CD0     		beq	.L501
 931:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4385              		.loc 1 931 0 is_stmt 0 discriminator 1
 4386 022c FFF7FEFF 		bl	HAL_GetTick
 4387              	.LVL305:
 4388 0230 C01B     		subs	r0, r0, r7
 4389 0232 8542     		cmp	r5, r0
 4390 0234 97D8     		bhi	.L501
 4391 0236 89E7     		b	.L515
 4392              	.LVL306:
 4393              	.L532:
 911:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4394              		.loc 1 911 0 is_stmt 1
 4395 0238 4FF00009 		mov	r9, #0
 4396 023c E4E7     		b	.L502
 4397              	.LVL307:
 4398              	.L495:
 882:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4399              		.loc 1 882 0
 4400 023e 4DF6FF70 		movw	r0, #57343
 4401              	.LVL308:
 4402 0242 2368     		ldr	r3, [r4]
 4403 0244 1A68     		ldr	r2, [r3]
 4404 0246 0240     		ands	r2, r2, r0
 4405 0248 1A60     		str	r2, [r3]
 4406 024a 1A68     		ldr	r2, [r3]
 4407 024c 42F40052 		orr	r2, r2, #8192
 4408 0250 1A60     		str	r2, [r3]
 4409 0252 2CE7     		b	.L496
 4410              	.LVL309:
 4411              	.L583:
 961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 4412              		.loc 1 961 0
 4413 0254 2168     		ldr	r1, [r4]
 955:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4414              		.loc 1 955 0
 4415 0256 9946     		mov	r9, r3
 961:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 4416              		.loc 1 961 0
 4417 0258 0A68     		ldr	r2, [r1]
 4418 025a 42F48052 		orr	r2, r2, #4096
 4419 025e 0A60     		str	r2, [r1]
 4420 0260 5CE7     		b	.L512
ARM GAS  /tmp/ccHWpE7O.s 			page 150


 4421              	.LVL310:
 4422              	.L499:
 898:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       pTxData += sizeof(uint16_t);
 4423              		.loc 1 898 0
 4424 0262 36F8022B 		ldrh	r2, [r6], #2
 4425              	.LVL311:
 4426 0266 DA60     		str	r2, [r3, #12]
 4427              	.LVL312:
 900:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4428              		.loc 1 900 0
 4429 0268 E38E     		ldrh	r3, [r4, #54]
 4430 026a 013B     		subs	r3, r3, #1
 4431 026c 9BB2     		uxth	r3, r3
 4432 026e E386     		strh	r3, [r4, #54]	@ movhi
 4433 0270 77E7     		b	.L500
 4434              	.LVL313:
 4435              	.L585:
1004:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4436              		.loc 1 1004 0
 4437 0272 2046     		mov	r0, r4
 4438 0274 FFF7FEFF 		bl	SPI_ISCRCErrorValid
 4439              	.LVL314:
 4440 0278 0128     		cmp	r0, #1
 4441 027a 25D0     		beq	.L587
1015:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4442              		.loc 1 1015 0
 4443 027c 4FF6EF72 		movw	r2, #65519
 4444 0280 2368     		ldr	r3, [r4]
 832:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4445              		.loc 1 832 0
 4446 0282 0026     		movs	r6, #0
1015:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4447              		.loc 1 1015 0
 4448 0284 9A60     		str	r2, [r3, #8]
 4449 0286 7FE7     		b	.L521
 4450              	.LVL315:
 4451              	.L586:
 917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 4452              		.loc 1 917 0
 4453 0288 1168     		ldr	r1, [r2]
 911:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4454              		.loc 1 911 0
 4455 028a 9946     		mov	r9, r3
 917:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 4456              		.loc 1 917 0
 4457 028c 41F48051 		orr	r1, r1, #4096
 4458 0290 1160     		str	r1, [r2]
 4459 0292 B9E7     		b	.L502
 4460              	.LVL316:
 4461              	.L584:
 987:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4462              		.loc 1 987 0
 4463 0294 0122     		movs	r2, #1
 4464 0296 0097     		str	r7, [sp]
 4465 0298 1146     		mov	r1, r2
 4466 029a 2B46     		mov	r3, r5
 4467 029c 2046     		mov	r0, r4
ARM GAS  /tmp/ccHWpE7O.s 			page 151


 4468 029e FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 4469              	.LVL317:
 4470 02a2 08B3     		cbz	r0, .L520
 990:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 4471              		.loc 1 990 0
 4472 02a4 636D     		ldr	r3, [r4, #84]
 991:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       goto error;
 4473              		.loc 1 991 0
 4474 02a6 0326     		movs	r6, #3
 4475              	.LVL318:
 990:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 4476              		.loc 1 990 0
 4477 02a8 43F00203 		orr	r3, r3, #2
 4478 02ac 6365     		str	r3, [r4, #84]
 4479              	.LVL319:
 992:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4480              		.loc 1 992 0
 4481 02ae CBE6     		b	.L493
 4482              	.LVL320:
 4483              	.L523:
1036:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4484              		.loc 1 1036 0
 4485 02b0 A368     		ldr	r3, [r4, #8]
 4486 02b2 002B     		cmp	r3, #0
 4487 02b4 7FF4C8AE 		bne	.L493
 4488              	.LBB83:
1038:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4489              		.loc 1 1038 0
 4490 02b8 2268     		ldr	r2, [r4]
 4491 02ba 0393     		str	r3, [sp, #12]
 4492 02bc D368     		ldr	r3, [r2, #12]
 4493 02be 0393     		str	r3, [sp, #12]
 4494 02c0 9368     		ldr	r3, [r2, #8]
 4495 02c2 0393     		str	r3, [sp, #12]
 4496 02c4 039B     		ldr	r3, [sp, #12]
 4497 02c6 BFE6     		b	.L493
 4498              	.LVL321:
 4499              	.L587:
 4500              	.LBE83:
1009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4501              		.loc 1 1009 0
 4502 02c8 4DF6FF71 		movw	r1, #57343
1006:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4503              		.loc 1 1006 0
 4504 02cc 626D     		ldr	r2, [r4, #84]
1009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4505              		.loc 1 1009 0
 4506 02ce 2368     		ldr	r3, [r4]
1006:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4507              		.loc 1 1006 0
 4508 02d0 42F00202 		orr	r2, r2, #2
 4509 02d4 6265     		str	r2, [r4, #84]
1009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4510              		.loc 1 1009 0
 4511 02d6 1A68     		ldr	r2, [r3]
1011:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4512              		.loc 1 1011 0
ARM GAS  /tmp/ccHWpE7O.s 			page 152


 4513 02d8 0646     		mov	r6, r0
1009:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4514              		.loc 1 1009 0
 4515 02da 0A40     		ands	r2, r2, r1
 4516 02dc 1A60     		str	r2, [r3]
 4517 02de 1A68     		ldr	r2, [r3]
 4518 02e0 42F40052 		orr	r2, r2, #8192
 4519 02e4 1A60     		str	r2, [r3]
 4520              	.LVL322:
 4521 02e6 4FE7     		b	.L521
 4522              	.LVL323:
 4523              	.L520:
 995:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* To avoid GCC warning */
 4524              		.loc 1 995 0
 4525 02e8 2368     		ldr	r3, [r4]
 4526 02ea DA68     		ldr	r2, [r3, #12]
 4527 02ec 92B2     		uxth	r2, r2
 4528 02ee ADF80A20 		strh	r2, [sp, #10]	@ movhi
 997:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4529              		.loc 1 997 0
 4530 02f2 BDF80A20 		ldrh	r2, [sp, #10]
 4531 02f6 43E7     		b	.L519
 4532              		.cfi_endproc
 4533              	.LFE70:
 4535              		.section	.text.HAL_SPI_Receive,"ax",%progbits
 4536              		.align	1
 4537              		.p2align 2,,3
 4538              		.global	HAL_SPI_Receive
 4539              		.syntax unified
 4540              		.thumb
 4541              		.thumb_func
 4542              		.fpu softvfp
 4544              	HAL_SPI_Receive:
 4545              	.LFB69:
 617:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 4546              		.loc 1 617 0
 4547              		.cfi_startproc
 4548              		@ args = 0, pretend = 0, frame = 8
 4549              		@ frame_needed = 0, uses_anonymous_args = 0
 4550              	.LVL324:
 4551 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4552              		.cfi_def_cfa_offset 24
 4553              		.cfi_offset 4, -24
 4554              		.cfi_offset 5, -20
 4555              		.cfi_offset 6, -16
 4556              		.cfi_offset 7, -12
 4557              		.cfi_offset 8, -8
 4558              		.cfi_offset 14, -4
 619:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 4559              		.loc 1 619 0
 4560 0004 0026     		movs	r6, #0
 624:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4561              		.loc 1 624 0
 4562 0006 4568     		ldr	r5, [r0, #4]
 617:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 4563              		.loc 1 617 0
 4564 0008 84B0     		sub	sp, sp, #16
ARM GAS  /tmp/ccHWpE7O.s 			page 153


 4565              		.cfi_def_cfa_offset 40
 624:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4566              		.loc 1 624 0
 4567 000a B5F5827F 		cmp	r5, #260
 619:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 4568              		.loc 1 619 0
 4569 000e ADF80E60 		strh	r6, [sp, #14]	@ movhi
 4570              	.LVL325:
 617:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 4571              		.loc 1 617 0
 4572 0012 0446     		mov	r4, r0
 4573 0014 9046     		mov	r8, r2
 4574 0016 1F46     		mov	r7, r3
 4575 0018 0E46     		mov	r6, r1
 624:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4576              		.loc 1 624 0
 4577 001a 1CD0     		beq	.L637
 4578              	.LVL326:
 4579              	.L589:
 632:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4580              		.loc 1 632 0
 4581 001c 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 4582 0020 012B     		cmp	r3, #1
 4583 0022 03D1     		bne	.L638
 4584 0024 0220     		movs	r0, #2
 4585              	.LVL327:
 4586              	.L590:
 811:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4587              		.loc 1 811 0
 4588 0026 04B0     		add	sp, sp, #16
 4589              		.cfi_remember_state
 4590              		.cfi_def_cfa_offset 24
 4591              		@ sp needed
 4592 0028 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4593              	.LVL328:
 4594              	.L638:
 4595              		.cfi_restore_state
 632:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4596              		.loc 1 632 0 discriminator 2
 4597 002c 0123     		movs	r3, #1
 4598 002e 84F85030 		strb	r3, [r4, #80]
 635:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4599              		.loc 1 635 0 discriminator 2
 4600 0032 FFF7FEFF 		bl	HAL_GetTick
 4601              	.LVL329:
 4602 0036 0546     		mov	r5, r0
 4603              	.LVL330:
 637:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4604              		.loc 1 637 0 discriminator 2
 4605 0038 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 4606              	.LVL331:
 4607 003c C0B2     		uxtb	r0, r0
 4608 003e 0128     		cmp	r0, #1
 4609 0040 15D0     		beq	.L639
 639:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 4610              		.loc 1 639 0
 4611 0042 0220     		movs	r0, #2
ARM GAS  /tmp/ccHWpE7O.s 			page 154


 4612              	.LVL332:
 4613              	.L591:
 808:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4614              		.loc 1 808 0
 4615 0044 0122     		movs	r2, #1
 809:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 4616              		.loc 1 809 0
 4617 0046 0023     		movs	r3, #0
 808:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4618              		.loc 1 808 0
 4619 0048 84F85120 		strb	r2, [r4, #81]
 809:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 4620              		.loc 1 809 0
 4621 004c 84F85030 		strb	r3, [r4, #80]
 811:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4622              		.loc 1 811 0
 4623 0050 04B0     		add	sp, sp, #16
 4624              		.cfi_remember_state
 4625              		.cfi_def_cfa_offset 24
 4626              		@ sp needed
 4627 0052 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4628              	.LVL333:
 4629              	.L637:
 4630              		.cfi_restore_state
 624:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4631              		.loc 1 624 0 discriminator 1
 4632 0056 8368     		ldr	r3, [r0, #8]
 4633              	.LVL334:
 4634 0058 002B     		cmp	r3, #0
 4635 005a DFD1     		bne	.L589
 626:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
 4636              		.loc 1 626 0
 4637 005c 0425     		movs	r5, #4
 628:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4638              		.loc 1 628 0
 4639 005e 0097     		str	r7, [sp]
 4640 0060 1346     		mov	r3, r2
 626:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line
 4641              		.loc 1 626 0
 4642 0062 80F85150 		strb	r5, [r0, #81]
 628:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4643              		.loc 1 628 0
 4644 0066 0A46     		mov	r2, r1
 4645              	.LVL335:
 4646 0068 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 4647              	.LVL336:
 4648 006c DBE7     		b	.L590
 4649              	.LVL337:
 4650              	.L639:
 643:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4651              		.loc 1 643 0
 4652 006e 002E     		cmp	r6, #0
 4653 0070 E8D0     		beq	.L591
 643:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4654              		.loc 1 643 0 is_stmt 0 discriminator 1
 4655 0072 B8F1000F 		cmp	r8, #0
 4656 0076 E5D0     		beq	.L591
ARM GAS  /tmp/ccHWpE7O.s 			page 155


 651:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 4657              		.loc 1 651 0 is_stmt 1
 4658 0078 0023     		movs	r3, #0
 650:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 4659              		.loc 1 650 0
 4660 007a 0421     		movs	r1, #4
 665:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4661              		.loc 1 665 0
 4662 007c A26A     		ldr	r2, [r4, #40]
 650:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 4663              		.loc 1 650 0
 4664 007e 84F85110 		strb	r1, [r4, #81]
 665:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4665              		.loc 1 665 0
 4666 0082 B2F5005F 		cmp	r2, #8192
 651:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 4667              		.loc 1 651 0
 4668 0086 6365     		str	r3, [r4, #84]
 652:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 4669              		.loc 1 652 0
 4670 0088 A663     		str	r6, [r4, #56]
 654:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4671              		.loc 1 654 0
 4672 008a A4F83E80 		strh	r8, [r4, #62]	@ movhi
 653:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 4673              		.loc 1 653 0
 4674 008e A4F83C80 		strh	r8, [r4, #60]	@ movhi
 657:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 4675              		.loc 1 657 0
 4676 0092 2363     		str	r3, [r4, #48]
 658:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 4677              		.loc 1 658 0
 4678 0094 A386     		strh	r3, [r4, #52]	@ movhi
 660:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 4679              		.loc 1 660 0
 4680 0096 2364     		str	r3, [r4, #64]
 661:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4681              		.loc 1 661 0
 4682 0098 6364     		str	r3, [r4, #68]
 659:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 4683              		.loc 1 659 0
 4684 009a E386     		strh	r3, [r4, #54]	@ movhi
 665:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4685              		.loc 1 665 0
 4686 009c 5DD0     		beq	.L592
 4687 009e 2368     		ldr	r3, [r4]
 4688              	.L593:
 674:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4689              		.loc 1 674 0
 4690 00a0 A268     		ldr	r2, [r4, #8]
 4691 00a2 B2F5004F 		cmp	r2, #32768
 4692 00a6 53D0     		beq	.L640
 4693              	.L594:
 680:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4694              		.loc 1 680 0
 4695 00a8 1A68     		ldr	r2, [r3]
 4696 00aa 5106     		lsls	r1, r2, #25
ARM GAS  /tmp/ccHWpE7O.s 			page 156


 4697 00ac 03D4     		bmi	.L595
 683:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4698              		.loc 1 683 0
 4699 00ae 1A68     		ldr	r2, [r3]
 4700 00b0 42F04002 		orr	r2, r2, #64
 4701 00b4 1A60     		str	r2, [r3]
 4702              	.L595:
 687:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4703              		.loc 1 687 0
 4704 00b6 E268     		ldr	r2, [r4, #12]
 4705 00b8 002A     		cmp	r2, #0
 4706 00ba 2AD1     		bne	.L597
 4707              	.L598:
 690:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4708              		.loc 1 690 0
 4709 00bc E28F     		ldrh	r2, [r4, #62]
 4710 00be 92B2     		uxth	r2, r2
 4711 00c0 72B1     		cbz	r2, .L604
 4712              	.L603:
 693:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4713              		.loc 1 693 0
 4714 00c2 9A68     		ldr	r2, [r3, #8]
 4715 00c4 D207     		lsls	r2, r2, #31
 4716 00c6 37D5     		bpl	.L599
 696:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pData += sizeof(uint8_t);
 4717              		.loc 1 696 0
 4718 00c8 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4719 00ca 06F8013B 		strb	r3, [r6], #1
 4720              	.LVL338:
 698:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4721              		.loc 1 698 0
 4722 00ce E28F     		ldrh	r2, [r4, #62]
 4723 00d0 2368     		ldr	r3, [r4]
 4724 00d2 013A     		subs	r2, r2, #1
 4725 00d4 92B2     		uxth	r2, r2
 4726 00d6 E287     		strh	r2, [r4, #62]	@ movhi
 690:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4727              		.loc 1 690 0
 4728 00d8 E28F     		ldrh	r2, [r4, #62]
 4729 00da 92B2     		uxth	r2, r2
 4730 00dc 002A     		cmp	r2, #0
 4731 00de F0D1     		bne	.L603
 4732              	.L604:
 737:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4733              		.loc 1 737 0
 4734 00e0 A26A     		ldr	r2, [r4, #40]
 4735 00e2 B2F5005F 		cmp	r2, #8192
 4736 00e6 5DD0     		beq	.L641
 4737              	.L608:
 777:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4738              		.loc 1 777 0
 4739 00e8 6268     		ldr	r2, [r4, #4]
 4740 00ea B2F5827F 		cmp	r2, #260
 4741 00ee 4DD0     		beq	.L642
 4742              	.L612:
 785:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4743              		.loc 1 785 0
ARM GAS  /tmp/ccHWpE7O.s 			page 157


 4744 00f0 9B68     		ldr	r3, [r3, #8]
 4745 00f2 DB06     		lsls	r3, r3, #27
 4746 00f4 40D4     		bmi	.L643
 4747              	.L614:
 802:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4748              		.loc 1 802 0
 4749 00f6 606D     		ldr	r0, [r4, #84]
 639:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     goto error;
 4750              		.loc 1 639 0
 4751 00f8 0030     		adds	r0, r0, #0
 4752 00fa 18BF     		it	ne
 4753 00fc 0120     		movne	r0, #1
 4754 00fe A1E7     		b	.L591
 4755              	.L605:
 726:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4756              		.loc 1 726 0
 4757 0100 27B3     		cbz	r7, .L602
 726:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4758              		.loc 1 726 0 is_stmt 0 discriminator 1
 4759 0102 7A1C     		adds	r2, r7, #1
 4760 0104 05D0     		beq	.L597
 726:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4761              		.loc 1 726 0 discriminator 2
 4762 0106 FFF7FEFF 		bl	HAL_GetTick
 4763              	.LVL339:
 4764 010a 401B     		subs	r0, r0, r5
 4765 010c 8742     		cmp	r7, r0
 4766 010e 1DD9     		bls	.L602
 4767 0110 2368     		ldr	r3, [r4]
 4768              	.L597:
 714:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4769              		.loc 1 714 0 is_stmt 1
 4770 0112 E28F     		ldrh	r2, [r4, #62]
 4771 0114 92B2     		uxth	r2, r2
 4772 0116 002A     		cmp	r2, #0
 4773 0118 E2D0     		beq	.L604
 4774              	.L607:
 717:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4775              		.loc 1 717 0
 4776 011a 9A68     		ldr	r2, [r3, #8]
 4777 011c D107     		lsls	r1, r2, #31
 4778 011e EFD5     		bpl	.L605
 719:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         pData += sizeof(uint16_t);
 4779              		.loc 1 719 0
 4780 0120 DA68     		ldr	r2, [r3, #12]
 4781 0122 26F8022B 		strh	r2, [r6], #2	@ movhi
 4782              	.LVL340:
 721:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4783              		.loc 1 721 0
 4784 0126 E28F     		ldrh	r2, [r4, #62]
 4785 0128 013A     		subs	r2, r2, #1
 4786 012a 92B2     		uxth	r2, r2
 4787 012c E287     		strh	r2, [r4, #62]	@ movhi
 714:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4788              		.loc 1 714 0
 4789 012e E28F     		ldrh	r2, [r4, #62]
 4790 0130 92B2     		uxth	r2, r2
ARM GAS  /tmp/ccHWpE7O.s 			page 158


 4791 0132 002A     		cmp	r2, #0
 4792 0134 F1D1     		bne	.L607
 4793 0136 D3E7     		b	.L604
 4794              	.L599:
 703:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4795              		.loc 1 703 0
 4796 0138 47B1     		cbz	r7, .L602
 703:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4797              		.loc 1 703 0 is_stmt 0 discriminator 1
 4798 013a 781C     		adds	r0, r7, #1
 4799 013c BED0     		beq	.L598
 703:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 4800              		.loc 1 703 0 discriminator 2
 4801 013e FFF7FEFF 		bl	HAL_GetTick
 4802              	.LVL341:
 4803 0142 401B     		subs	r0, r0, r5
 4804 0144 8742     		cmp	r7, r0
 4805 0146 01D9     		bls	.L602
 4806 0148 2368     		ldr	r3, [r4]
 4807 014a B7E7     		b	.L598
 4808              	.L602:
 705:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           goto error;
 4809              		.loc 1 705 0 is_stmt 1
 4810 014c 0320     		movs	r0, #3
 4811 014e 79E7     		b	.L591
 4812              	.L640:
 676:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4813              		.loc 1 676 0
 4814 0150 1A68     		ldr	r2, [r3]
 4815 0152 22F48042 		bic	r2, r2, #16384
 4816 0156 1A60     		str	r2, [r3]
 4817 0158 A6E7     		b	.L594
 4818              	.L592:
 667:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
 4819              		.loc 1 667 0
 4820 015a 4DF6FF71 		movw	r1, #57343
 4821 015e 2368     		ldr	r3, [r4]
 4822 0160 1A68     		ldr	r2, [r3]
 4823 0162 0A40     		ands	r2, r2, r1
 4824 0164 1A60     		str	r2, [r3]
 4825 0166 1A68     		ldr	r2, [r3]
 4826 0168 42F40052 		orr	r2, r2, #8192
 4827 016c 1A60     		str	r2, [r3]
 669:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4828              		.loc 1 669 0
 4829 016e E28F     		ldrh	r2, [r4, #62]
 4830 0170 013A     		subs	r2, r2, #1
 4831 0172 92B2     		uxth	r2, r2
 4832 0174 E287     		strh	r2, [r4, #62]	@ movhi
 4833 0176 93E7     		b	.L593
 4834              	.L643:
 788:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4835              		.loc 1 788 0
 4836 0178 2046     		mov	r0, r4
 4837 017a FFF7FEFF 		bl	SPI_ISCRCErrorValid
 4838              	.LVL342:
 4839 017e 0128     		cmp	r0, #1
ARM GAS  /tmp/ccHWpE7O.s 			page 159


 4840 0180 34D0     		beq	.L644
 797:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4841              		.loc 1 797 0
 4842 0182 4FF6EF72 		movw	r2, #65519
 4843 0186 2368     		ldr	r3, [r4]
 4844 0188 9A60     		str	r2, [r3, #8]
 4845 018a B4E7     		b	.L614
 4846              	.L642:
 777:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4847              		.loc 1 777 0 discriminator 1
 4848 018c A268     		ldr	r2, [r4, #8]
 4849 018e B2F5004F 		cmp	r2, #32768
 4850 0192 02D0     		beq	.L613
 777:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4851              		.loc 1 777 0 is_stmt 0 discriminator 2
 4852 0194 B2F5806F 		cmp	r2, #1024
 4853 0198 AAD1     		bne	.L612
 4854              	.L613:
 780:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4855              		.loc 1 780 0 is_stmt 1
 4856 019a 1A68     		ldr	r2, [r3]
 4857 019c 22F04002 		bic	r2, r2, #64
 4858 01a0 1A60     		str	r2, [r3]
 4859 01a2 A5E7     		b	.L612
 4860              	.L641:
 743:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4861              		.loc 1 743 0
 4862 01a4 0122     		movs	r2, #1
 740:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4863              		.loc 1 740 0
 4864 01a6 1868     		ldr	r0, [r3]
 743:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4865              		.loc 1 743 0
 4866 01a8 1146     		mov	r1, r2
 740:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4867              		.loc 1 740 0
 4868 01aa 40F48050 		orr	r0, r0, #4096
 4869 01ae 1860     		str	r0, [r3]
 743:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4870              		.loc 1 743 0
 4871 01b0 3B46     		mov	r3, r7
 4872 01b2 0095     		str	r5, [sp]
 4873 01b4 2046     		mov	r0, r4
 4874 01b6 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 4875              	.LVL343:
 4876 01ba 0028     		cmp	r0, #0
 4877 01bc C6D1     		bne	.L602
 762:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4878              		.loc 1 762 0
 4879 01be 0122     		movs	r2, #1
 751:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4880              		.loc 1 751 0
 4881 01c0 E368     		ldr	r3, [r4, #12]
 762:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4882              		.loc 1 762 0
 4883 01c2 1146     		mov	r1, r2
 751:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/ccHWpE7O.s 			page 160


 4884              		.loc 1 751 0
 4885 01c4 B3F5006F 		cmp	r3, #2048
 753:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4886              		.loc 1 753 0
 4887 01c8 2368     		ldr	r3, [r4]
 762:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4888              		.loc 1 762 0
 4889 01ca 2046     		mov	r0, r4
 753:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4890              		.loc 1 753 0
 4891 01cc 0BBF     		itete	eq
 4892 01ce DB68     		ldreq	r3, [r3, #12]
 758:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4893              		.loc 1 758 0
 4894 01d0 1B7B     		ldrbne	r3, [r3, #12]	@ zero_extendqisi2
 753:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4895              		.loc 1 753 0
 4896 01d2 3380     		strheq	r3, [r6]	@ movhi
 758:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4897              		.loc 1 758 0
 4898 01d4 3370     		strbne	r3, [r6]
 762:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4899              		.loc 1 762 0
 4900 01d6 0095     		str	r5, [sp]
 4901 01d8 3B46     		mov	r3, r7
 4902 01da FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 4903              	.LVL344:
 4904 01de A0B1     		cbz	r0, .L611
 764:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 4905              		.loc 1 764 0
 4906 01e0 636D     		ldr	r3, [r4, #84]
 765:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       goto error;
 4907              		.loc 1 765 0
 4908 01e2 0320     		movs	r0, #3
 764:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
 4909              		.loc 1 764 0
 4910 01e4 43F00203 		orr	r3, r3, #2
 4911 01e8 6365     		str	r3, [r4, #84]
 4912              	.LVL345:
 766:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4913              		.loc 1 766 0
 4914 01ea 2BE7     		b	.L591
 4915              	.LVL346:
 4916              	.L644:
 793:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4917              		.loc 1 793 0
 4918 01ec 4DF6FF71 		movw	r1, #57343
 790:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4919              		.loc 1 790 0
 4920 01f0 626D     		ldr	r2, [r4, #84]
 793:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4921              		.loc 1 793 0
 4922 01f2 2368     		ldr	r3, [r4]
 790:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4923              		.loc 1 790 0
 4924 01f4 42F00202 		orr	r2, r2, #2
 4925 01f8 6265     		str	r2, [r4, #84]
ARM GAS  /tmp/ccHWpE7O.s 			page 161


 793:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 4926              		.loc 1 793 0
 4927 01fa 1A68     		ldr	r2, [r3]
 4928 01fc 0A40     		ands	r2, r2, r1
 4929 01fe 1A60     		str	r2, [r3]
 4930 0200 1A68     		ldr	r2, [r3]
 4931 0202 42F40052 		orr	r2, r2, #8192
 4932 0206 1A60     		str	r2, [r3]
 4933 0208 75E7     		b	.L614
 4934              	.L611:
 770:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* To avoid GCC warning */
 4935              		.loc 1 770 0
 4936 020a 2368     		ldr	r3, [r4]
 4937 020c DA68     		ldr	r2, [r3, #12]
 4938 020e 92B2     		uxth	r2, r2
 4939 0210 ADF80E20 		strh	r2, [sp, #14]	@ movhi
 772:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4940              		.loc 1 772 0
 4941 0214 BDF80E20 		ldrh	r2, [sp, #14]
 4942 0218 66E7     		b	.L608
 4943              		.cfi_endproc
 4944              	.LFE69:
 4946 021a 00BF     		.section	.text.SPI_CloseRx_ISR,"ax",%progbits
 4947              		.align	1
 4948              		.p2align 2,,3
 4949              		.syntax unified
 4950              		.thumb
 4951              		.thumb_func
 4952              		.fpu softvfp
 4954              	SPI_CloseRx_ISR:
 4955              	.LFB118:
3081:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE and ERR interrupt */
 4956              		.loc 1 3081 0
 4957              		.cfi_startproc
 4958              		@ args = 0, pretend = 0, frame = 8
 4959              		@ frame_needed = 0, uses_anonymous_args = 0
 4960              	.LVL347:
 4961 0000 30B5     		push	{r4, r5, lr}
 4962              		.cfi_def_cfa_offset 12
 4963              		.cfi_offset 4, -12
 4964              		.cfi_offset 5, -8
 4965              		.cfi_offset 14, -4
3083:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4966              		.loc 1 3083 0
 4967 0002 0368     		ldr	r3, [r0]
3086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4968              		.loc 1 3086 0
 4969 0004 4168     		ldr	r1, [r0, #4]
3083:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4970              		.loc 1 3083 0
 4971 0006 5A68     		ldr	r2, [r3, #4]
3086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4972              		.loc 1 3086 0
 4973 0008 B1F5827F 		cmp	r1, #260
3083:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4974              		.loc 1 3083 0
 4975 000c 22F06002 		bic	r2, r2, #96
ARM GAS  /tmp/ccHWpE7O.s 			page 162


 4976 0010 5A60     		str	r2, [r3, #4]
3081:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE and ERR interrupt */
 4977              		.loc 1 3081 0
 4978 0012 83B0     		sub	sp, sp, #12
 4979              		.cfi_def_cfa_offset 24
3081:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE and ERR interrupt */
 4980              		.loc 1 3081 0
 4981 0014 0446     		mov	r4, r0
3086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4982              		.loc 1 3086 0
 4983 0016 8268     		ldr	r2, [r0, #8]
 4984 0018 13D0     		beq	.L658
 4985              	.L647:
3093:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4986              		.loc 1 3093 0
 4987 001a 2AB9     		cbnz	r2, .L649
 4988              	.LBB84:
3095:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4989              		.loc 1 3095 0
 4990 001c 0192     		str	r2, [sp, #4]
 4991 001e DA68     		ldr	r2, [r3, #12]
 4992 0020 0192     		str	r2, [sp, #4]
 4993 0022 9A68     		ldr	r2, [r3, #8]
 4994 0024 0192     		str	r2, [sp, #4]
 4995 0026 019A     		ldr	r2, [sp, #4]
 4996              	.L649:
 4997              	.LBE84:
3097:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4998              		.loc 1 3097 0
 4999 0028 0122     		movs	r2, #1
 5000 002a 84F85120 		strb	r2, [r4, #81]
3101:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5001              		.loc 1 3101 0
 5002 002e 9B68     		ldr	r3, [r3, #8]
 5003 0030 DB06     		lsls	r3, r3, #27
 5004 0032 15D4     		bmi	.L659
3121:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5005              		.loc 1 3121 0
 5006 0034 636D     		ldr	r3, [r4, #84]
3123:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5007              		.loc 1 3123 0
 5008 0036 2046     		mov	r0, r4
 5009              	.LVL348:
3121:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5010              		.loc 1 3121 0
 5011 0038 73B1     		cbz	r3, .L660
 5012              	.LVL349:
3127:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5013              		.loc 1 3127 0
 5014 003a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5015              	.LVL350:
 5016              	.L645:
3132:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5017              		.loc 1 3132 0
 5018 003e 03B0     		add	sp, sp, #12
 5019              		.cfi_remember_state
 5020              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/ccHWpE7O.s 			page 163


 5021              		@ sp needed
 5022 0040 30BD     		pop	{r4, r5, pc}
 5023              	.LVL351:
 5024              	.L658:
 5025              		.cfi_restore_state
3086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5026              		.loc 1 3086 0 discriminator 1
 5027 0042 B2F5004F 		cmp	r2, #32768
 5028 0046 02D0     		beq	.L648
3086:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5029              		.loc 1 3086 0 is_stmt 0 discriminator 2
 5030 0048 B2F5806F 		cmp	r2, #1024
 5031 004c E5D1     		bne	.L647
 5032              	.L648:
3089:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5033              		.loc 1 3089 0 is_stmt 1
 5034 004e 1968     		ldr	r1, [r3]
 5035 0050 21F04001 		bic	r1, r1, #64
 5036 0054 1960     		str	r1, [r3]
 5037 0056 E0E7     		b	.L647
 5038              	.L660:
3123:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5039              		.loc 1 3123 0
 5040 0058 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 5041              	.LVL352:
3132:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5042              		.loc 1 3132 0
 5043 005c 03B0     		add	sp, sp, #12
 5044              		.cfi_remember_state
 5045              		.cfi_def_cfa_offset 12
 5046              		@ sp needed
 5047 005e 30BD     		pop	{r4, r5, pc}
 5048              	.LVL353:
 5049              	.L659:
 5050              		.cfi_restore_state
3104:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5051              		.loc 1 3104 0
 5052 0060 2046     		mov	r0, r4
 5053              	.LVL354:
 5054 0062 FFF7FEFF 		bl	SPI_ISCRCErrorValid
 5055              	.LVL355:
 5056 0066 0128     		cmp	r0, #1
 5057 0068 05D0     		beq	.L661
3115:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5058              		.loc 1 3115 0
 5059 006a 4FF6EF72 		movw	r2, #65519
 5060 006e 2368     		ldr	r3, [r4]
 5061 0070 9A60     		str	r2, [r3, #8]
3132:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5062              		.loc 1 3132 0
 5063 0072 03B0     		add	sp, sp, #12
 5064              		.cfi_remember_state
 5065              		.cfi_def_cfa_offset 12
 5066              		@ sp needed
 5067 0074 30BD     		pop	{r4, r5, pc}
 5068              	.LVL356:
 5069              	.L661:
ARM GAS  /tmp/ccHWpE7O.s 			page 164


 5070              		.cfi_restore_state
3109:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5071              		.loc 1 3109 0
 5072 0076 4DF6FF75 		movw	r5, #57343
3106:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5073              		.loc 1 3106 0
 5074 007a 616D     		ldr	r1, [r4, #84]
3109:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5075              		.loc 1 3109 0
 5076 007c 2368     		ldr	r3, [r4]
3106:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5077              		.loc 1 3106 0
 5078 007e 41F00201 		orr	r1, r1, #2
 5079 0082 6165     		str	r1, [r4, #84]
3109:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5080              		.loc 1 3109 0
 5081 0084 1A68     		ldr	r2, [r3]
3111:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5082              		.loc 1 3111 0
 5083 0086 2046     		mov	r0, r4
3109:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5084              		.loc 1 3109 0
 5085 0088 2A40     		ands	r2, r2, r5
 5086 008a 1A60     		str	r2, [r3]
 5087 008c 1A68     		ldr	r2, [r3]
 5088 008e 42F40052 		orr	r2, r2, #8192
 5089 0092 1A60     		str	r2, [r3]
3111:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5090              		.loc 1 3111 0
 5091 0094 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5092              	.LVL357:
 5093 0098 D1E7     		b	.L645
 5094              		.cfi_endproc
 5095              	.LFE118:
 5097 009a 00BF     		.section	.text.SPI_RxISR_8BIT,"ax",%progbits
 5098              		.align	1
 5099              		.p2align 2,,3
 5100              		.syntax unified
 5101              		.thumb
 5102              		.thumb_func
 5103              		.fpu softvfp
 5105              	SPI_RxISR_8BIT:
 5106              	.LFB110:
2789:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr++ = (*(__IO uint8_t *)&hspi->Instance->DR);
 5107              		.loc 1 2789 0
 5108              		.cfi_startproc
 5109              		@ args = 0, pretend = 0, frame = 0
 5110              		@ frame_needed = 0, uses_anonymous_args = 0
 5111              		@ link register save eliminated.
 5112              	.LVL358:
2790:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5113              		.loc 1 2790 0
 5114 0000 836B     		ldr	r3, [r0, #56]
 5115 0002 0268     		ldr	r2, [r0]
 5116 0004 591C     		adds	r1, r3, #1
 5117 0006 8163     		str	r1, [r0, #56]
 5118 0008 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
ARM GAS  /tmp/ccHWpE7O.s 			page 165


 5119 000a 1A70     		strb	r2, [r3]
2791:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5120              		.loc 1 2791 0
 5121 000c C38F     		ldrh	r3, [r0, #62]
 5122 000e 013B     		subs	r3, r3, #1
 5123 0010 9BB2     		uxth	r3, r3
 5124 0012 C387     		strh	r3, [r0, #62]	@ movhi
2795:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5125              		.loc 1 2795 0
 5126 0014 C38F     		ldrh	r3, [r0, #62]
 5127 0016 9BB2     		uxth	r3, r3
 5128 0018 012B     		cmp	r3, #1
 5129 001a 08D0     		beq	.L678
2801:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5130              		.loc 1 2801 0
 5131 001c C38F     		ldrh	r3, [r0, #62]
 5132 001e 9BB2     		uxth	r3, r3
 5133 0020 6BB9     		cbnz	r3, .L662
 5134              	.LVL359:
 5135              	.LBB87:
 5136              	.LBB88:
2804:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5137              		.loc 1 2804 0
 5138 0022 836A     		ldr	r3, [r0, #40]
 5139 0024 B3F5005F 		cmp	r3, #8192
 5140 0028 13D0     		beq	.L665
 5141              	.LVL360:
 5142              	.L668:
2810:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5143              		.loc 1 2810 0
 5144 002a FFF7FEBF 		b	SPI_CloseRx_ISR
 5145              	.LVL361:
 5146              	.L678:
 5147              	.LBE88:
 5148              	.LBE87:
2795:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5149              		.loc 1 2795 0 discriminator 1
 5150 002e 836A     		ldr	r3, [r0, #40]
 5151 0030 B3F5005F 		cmp	r3, #8192
 5152 0034 04D0     		beq	.L679
2801:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5153              		.loc 1 2801 0
 5154 0036 C38F     		ldrh	r3, [r0, #62]
 5155 0038 9BB2     		uxth	r3, r3
 5156 003a 002B     		cmp	r3, #0
 5157 003c F5D0     		beq	.L668
 5158              	.L662:
 5159 003e 7047     		bx	lr
 5160              	.L679:
2797:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5161              		.loc 1 2797 0
 5162 0040 0268     		ldr	r2, [r0]
 5163 0042 1368     		ldr	r3, [r2]
 5164 0044 43F48053 		orr	r3, r3, #4096
 5165 0048 1360     		str	r3, [r2]
2801:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5166              		.loc 1 2801 0
ARM GAS  /tmp/ccHWpE7O.s 			page 166


 5167 004a C38F     		ldrh	r3, [r0, #62]
 5168 004c 9BB2     		uxth	r3, r3
 5169 004e 002B     		cmp	r3, #0
 5170 0050 F5D1     		bne	.L662
 5171              	.L665:
 5172              	.LVL362:
 5173              	.LBB90:
 5174              	.LBB89:
2806:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 5175              		.loc 1 2806 0
 5176 0052 014B     		ldr	r3, .L680
 5177 0054 0364     		str	r3, [r0, #64]
 5178 0056 7047     		bx	lr
 5179              	.L681:
 5180              		.align	2
 5181              	.L680:
 5182 0058 00000000 		.word	SPI_RxISR_8BITCRC
 5183              	.LBE89:
 5184              	.LBE90:
 5185              		.cfi_endproc
 5186              	.LFE110:
 5188              		.section	.text.SPI_RxISR_8BITCRC,"ax",%progbits
 5189              		.align	1
 5190              		.p2align 2,,3
 5191              		.syntax unified
 5192              		.thumb
 5193              		.thumb_func
 5194              		.fpu softvfp
 5196              	SPI_RxISR_8BITCRC:
 5197              	.LFB109:
2769:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
 5198              		.loc 1 2769 0
 5199              		.cfi_startproc
 5200              		@ args = 0, pretend = 0, frame = 8
 5201              		@ frame_needed = 0, uses_anonymous_args = 0
 5202              	.LVL363:
2770:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5203              		.loc 1 2770 0
 5204 0000 0022     		movs	r2, #0
2769:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
 5205              		.loc 1 2769 0
 5206 0002 00B5     		push	{lr}
 5207              		.cfi_def_cfa_offset 4
 5208              		.cfi_offset 14, -4
2773:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5209              		.loc 1 2773 0
 5210 0004 0368     		ldr	r3, [r0]
2769:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
 5211              		.loc 1 2769 0
 5212 0006 83B0     		sub	sp, sp, #12
 5213              		.cfi_def_cfa_offset 16
2770:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5214              		.loc 1 2770 0
 5215 0008 8DF80720 		strb	r2, [sp, #7]
2773:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5216              		.loc 1 2773 0
 5217 000c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
ARM GAS  /tmp/ccHWpE7O.s 			page 167


 5218 000e DBB2     		uxtb	r3, r3
 5219 0010 8DF80730 		strb	r3, [sp, #7]
2776:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5220              		.loc 1 2776 0
 5221 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
2778:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 5222              		.loc 1 2778 0
 5223 0018 FFF7FEFF 		bl	SPI_CloseRx_ISR
 5224              	.LVL364:
2779:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 5225              		.loc 1 2779 0
 5226 001c 03B0     		add	sp, sp, #12
 5227              		.cfi_def_cfa_offset 4
 5228              		@ sp needed
 5229 001e 5DF804FB 		ldr	pc, [sp], #4
 5230              		.cfi_endproc
 5231              	.LFE109:
 5233 0022 00BF     		.section	.text.SPI_RxISR_16BIT,"ax",%progbits
 5234              		.align	1
 5235              		.p2align 2,,3
 5236              		.syntax unified
 5237              		.thumb
 5238              		.thumb_func
 5239              		.fpu softvfp
 5241              	SPI_RxISR_16BIT:
 5242              	.LFB112:
2845:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = hspi->Instance->DR;
 5243              		.loc 1 2845 0
 5244              		.cfi_startproc
 5245              		@ args = 0, pretend = 0, frame = 0
 5246              		@ frame_needed = 0, uses_anonymous_args = 0
 5247              		@ link register save eliminated.
 5248              	.LVL365:
2846:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5249              		.loc 1 2846 0
 5250 0000 0168     		ldr	r1, [r0]
 5251 0002 826B     		ldr	r2, [r0, #56]
 5252 0004 CB68     		ldr	r3, [r1, #12]
 5253 0006 22F8023B 		strh	r3, [r2], #2	@ movhi
2848:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5254              		.loc 1 2848 0
 5255 000a C38F     		ldrh	r3, [r0, #62]
2847:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5256              		.loc 1 2847 0
 5257 000c 8263     		str	r2, [r0, #56]
2848:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5258              		.loc 1 2848 0
 5259 000e 013B     		subs	r3, r3, #1
 5260 0010 9BB2     		uxth	r3, r3
 5261 0012 C387     		strh	r3, [r0, #62]	@ movhi
2852:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5262              		.loc 1 2852 0
 5263 0014 C38F     		ldrh	r3, [r0, #62]
 5264 0016 9BB2     		uxth	r3, r3
 5265 0018 012B     		cmp	r3, #1
 5266 001a 08D0     		beq	.L700
2858:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccHWpE7O.s 			page 168


 5267              		.loc 1 2858 0
 5268 001c C38F     		ldrh	r3, [r0, #62]
 5269 001e 9BB2     		uxth	r3, r3
 5270 0020 6BB9     		cbnz	r3, .L684
 5271              	.LVL366:
 5272              	.LBB93:
 5273              	.LBB94:
2861:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5274              		.loc 1 2861 0
 5275 0022 836A     		ldr	r3, [r0, #40]
 5276 0024 B3F5005F 		cmp	r3, #8192
 5277 0028 12D0     		beq	.L687
 5278              	.LVL367:
 5279              	.L690:
2867:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5280              		.loc 1 2867 0
 5281 002a FFF7FEBF 		b	SPI_CloseRx_ISR
 5282              	.LVL368:
 5283              	.L700:
 5284              	.LBE94:
 5285              	.LBE93:
2852:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5286              		.loc 1 2852 0 discriminator 1
 5287 002e 836A     		ldr	r3, [r0, #40]
 5288 0030 B3F5005F 		cmp	r3, #8192
 5289 0034 04D0     		beq	.L701
2858:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5290              		.loc 1 2858 0
 5291 0036 C38F     		ldrh	r3, [r0, #62]
 5292 0038 9BB2     		uxth	r3, r3
 5293 003a 002B     		cmp	r3, #0
 5294 003c F5D0     		beq	.L690
 5295              	.L684:
 5296 003e 7047     		bx	lr
 5297              	.L701:
2854:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5298              		.loc 1 2854 0
 5299 0040 0B68     		ldr	r3, [r1]
 5300 0042 43F48053 		orr	r3, r3, #4096
 5301 0046 0B60     		str	r3, [r1]
2858:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5302              		.loc 1 2858 0
 5303 0048 C38F     		ldrh	r3, [r0, #62]
 5304 004a 9BB2     		uxth	r3, r3
 5305 004c 002B     		cmp	r3, #0
 5306 004e F6D1     		bne	.L684
 5307              	.L687:
 5308              	.LVL369:
 5309              	.LBB96:
 5310              	.LBB95:
2863:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 5311              		.loc 1 2863 0
 5312 0050 014B     		ldr	r3, .L702
 5313 0052 0364     		str	r3, [r0, #64]
 5314 0054 7047     		bx	lr
 5315              	.L703:
 5316 0056 00BF     		.align	2
ARM GAS  /tmp/ccHWpE7O.s 			page 169


 5317              	.L702:
 5318 0058 00000000 		.word	SPI_RxISR_16BITCRC
 5319              	.LBE95:
 5320              	.LBE96:
 5321              		.cfi_endproc
 5322              	.LFE112:
 5324              		.section	.text.SPI_RxISR_16BITCRC,"ax",%progbits
 5325              		.align	1
 5326              		.p2align 2,,3
 5327              		.syntax unified
 5328              		.thumb
 5329              		.thumb_func
 5330              		.fpu softvfp
 5332              	SPI_RxISR_16BITCRC:
 5333              	.LFB111:
2822:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
 5334              		.loc 1 2822 0
 5335              		.cfi_startproc
 5336              		@ args = 0, pretend = 0, frame = 8
 5337              		@ frame_needed = 0, uses_anonymous_args = 0
 5338              	.LVL370:
2823:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5339              		.loc 1 2823 0
 5340 0000 0022     		movs	r2, #0
2822:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
 5341              		.loc 1 2822 0
 5342 0002 00B5     		push	{lr}
 5343              		.cfi_def_cfa_offset 4
 5344              		.cfi_offset 14, -4
2826:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5345              		.loc 1 2826 0
 5346 0004 0368     		ldr	r3, [r0]
2822:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint16_t tmpreg = 0U;
 5347              		.loc 1 2822 0
 5348 0006 83B0     		sub	sp, sp, #12
 5349              		.cfi_def_cfa_offset 16
2823:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5350              		.loc 1 2823 0
 5351 0008 ADF80620 		strh	r2, [sp, #6]	@ movhi
2826:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5352              		.loc 1 2826 0
 5353 000c DA68     		ldr	r2, [r3, #12]
 5354 000e 92B2     		uxth	r2, r2
 5355 0010 ADF80620 		strh	r2, [sp, #6]	@ movhi
2829:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5356              		.loc 1 2829 0
 5357 0014 BDF80620 		ldrh	r2, [sp, #6]
2832:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5358              		.loc 1 2832 0
 5359 0018 5A68     		ldr	r2, [r3, #4]
 5360 001a 22F06002 		bic	r2, r2, #96
 5361 001e 5A60     		str	r2, [r3, #4]
2834:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 5362              		.loc 1 2834 0
 5363 0020 FFF7FEFF 		bl	SPI_CloseRx_ISR
 5364              	.LVL371:
2835:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
ARM GAS  /tmp/ccHWpE7O.s 			page 170


 5365              		.loc 1 2835 0
 5366 0024 03B0     		add	sp, sp, #12
 5367              		.cfi_def_cfa_offset 4
 5368              		@ sp needed
 5369 0026 5DF804FB 		ldr	pc, [sp], #4
 5370              		.cfi_endproc
 5371              	.LFE111:
 5373 002a 00BF     		.section	.text.SPI_CloseRxTx_ISR,"ax",%progbits
 5374              		.align	1
 5375              		.p2align 2,,3
 5376              		.syntax unified
 5377              		.thumb
 5378              		.thumb_func
 5379              		.fpu softvfp
 5381              	SPI_CloseRxTx_ISR:
 5382              	.LFB117:
2996:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 5383              		.loc 1 2996 0
 5384              		.cfi_startproc
 5385              		@ args = 0, pretend = 0, frame = 8
 5386              		@ frame_needed = 0, uses_anonymous_args = 0
 5387              	.LVL372:
2998:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout managment*/
 5388              		.loc 1 2998 0
 5389 0000 6422     		movs	r2, #100
2996:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 5390              		.loc 1 2996 0
 5391 0002 10B5     		push	{r4, lr}
 5392              		.cfi_def_cfa_offset 8
 5393              		.cfi_offset 4, -8
 5394              		.cfi_offset 14, -4
 5395 0004 0446     		mov	r4, r0
2998:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout managment*/
 5396              		.loc 1 2998 0
 5397 0006 3A4B     		ldr	r3, .L727
 5398 0008 3A49     		ldr	r1, .L727+4
 5399 000a 1B68     		ldr	r3, [r3]
2996:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 5400              		.loc 1 2996 0
 5401 000c 84B0     		sub	sp, sp, #16
 5402              		.cfi_def_cfa_offset 24
2998:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout managment*/
 5403              		.loc 1 2998 0
 5404 000e A1FB0313 		umull	r1, r3, r1, r3
 5405 0012 5B0A     		lsrs	r3, r3, #9
 5406 0014 02FB03F3 		mul	r3, r2, r3
 5407 0018 0293     		str	r3, [sp, #8]
3000:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5408              		.loc 1 3000 0
 5409 001a FFF7FEFF 		bl	HAL_GetTick
 5410              	.LVL373:
3003:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5411              		.loc 1 3003 0
 5412 001e 2168     		ldr	r1, [r4]
 5413 0020 4B68     		ldr	r3, [r1, #4]
 5414 0022 23F02003 		bic	r3, r3, #32
 5415 0026 4B60     		str	r3, [r1, #4]
ARM GAS  /tmp/ccHWpE7O.s 			page 171


 5416 0028 02E0     		b	.L709
 5417              	.L707:
3014:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   
 5418              		.loc 1 3014 0
 5419 002a 8B68     		ldr	r3, [r1, #8]
 5420 002c 9A07     		lsls	r2, r3, #30
 5421 002e 08D4     		bmi	.L708
 5422              	.L709:
3008:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5423              		.loc 1 3008 0
 5424 0030 029B     		ldr	r3, [sp, #8]
 5425 0032 5A1E     		subs	r2, r3, #1
 5426 0034 0292     		str	r2, [sp, #8]
 5427 0036 002B     		cmp	r3, #0
 5428 0038 F7D1     		bne	.L707
3010:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 5429              		.loc 1 3010 0
 5430 003a 636D     		ldr	r3, [r4, #84]
 5431 003c 43F02003 		orr	r3, r3, #32
 5432 0040 6365     		str	r3, [r4, #84]
 5433              	.L708:
 5434              	.LVL374:
 5435              	.LBB97:
 5436              	.LBB98:
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5437              		.loc 1 2981 0
 5438 0042 0090     		str	r0, [sp]
 5439 0044 6423     		movs	r3, #100
 5440 0046 0022     		movs	r2, #0
 5441 0048 8021     		movs	r1, #128
 5442 004a 2046     		mov	r0, r4
 5443              	.LVL375:
 5444 004c FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 5445              	.LVL376:
 5446 0050 38B1     		cbz	r0, .L710
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 5447              		.loc 1 2983 0
 5448 0052 636D     		ldr	r3, [r4, #84]
 5449 0054 43F02003 		orr	r3, r3, #32
 5450 0058 6365     		str	r3, [r4, #84]
 5451              	.LVL377:
 5452              	.LBE98:
 5453              	.LBE97:
3019:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5454              		.loc 1 3019 0
 5455 005a 636D     		ldr	r3, [r4, #84]
 5456 005c 43F02003 		orr	r3, r3, #32
 5457 0060 6365     		str	r3, [r4, #84]
 5458              	.L710:
3023:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5459              		.loc 1 3023 0
 5460 0062 A268     		ldr	r2, [r4, #8]
 5461              	.LBB99:
3025:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5462              		.loc 1 3025 0
 5463 0064 2368     		ldr	r3, [r4]
 5464              	.LBE99:
ARM GAS  /tmp/ccHWpE7O.s 			page 172


3023:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5465              		.loc 1 3023 0
 5466 0066 2AB9     		cbnz	r2, .L712
 5467              	.LBB100:
3025:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5468              		.loc 1 3025 0
 5469 0068 0392     		str	r2, [sp, #12]
 5470 006a DA68     		ldr	r2, [r3, #12]
 5471 006c 0392     		str	r2, [sp, #12]
 5472 006e 9A68     		ldr	r2, [r3, #8]
 5473 0070 0392     		str	r2, [sp, #12]
 5474 0072 039A     		ldr	r2, [sp, #12]
 5475              	.L712:
 5476              	.LBE100:
3030:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5477              		.loc 1 3030 0
 5478 0074 9B68     		ldr	r3, [r3, #8]
 5479 0076 DB06     		lsls	r3, r3, #27
 5480 0078 0ED4     		bmi	.L724
3051:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5481              		.loc 1 3051 0
 5482 007a 636D     		ldr	r3, [r4, #84]
 5483 007c BBB9     		cbnz	r3, .L716
3053:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5484              		.loc 1 3053 0
 5485 007e 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
3056:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5486              		.loc 1 3056 0
 5487 0082 2046     		mov	r0, r4
3053:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5488              		.loc 1 3053 0
 5489 0084 042B     		cmp	r3, #4
3055:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
 5490              		.loc 1 3055 0
 5491 0086 4FF00103 		mov	r3, #1
 5492 008a 84F85130 		strb	r3, [r4, #81]
3053:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5493              		.loc 1 3053 0
 5494 008e 16D0     		beq	.L725
 5495              	.LVL378:
3061:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5496              		.loc 1 3061 0
 5497 0090 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 5498              	.LVL379:
 5499              	.L706:
3072:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5500              		.loc 1 3072 0
 5501 0094 04B0     		add	sp, sp, #16
 5502              		.cfi_remember_state
 5503              		.cfi_def_cfa_offset 8
 5504              		@ sp needed
 5505 0096 10BD     		pop	{r4, pc}
 5506              	.LVL380:
 5507              	.L724:
 5508              		.cfi_restore_state
3033:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5509              		.loc 1 3033 0
ARM GAS  /tmp/ccHWpE7O.s 			page 173


 5510 0098 2046     		mov	r0, r4
 5511 009a FFF7FEFF 		bl	SPI_ISCRCErrorValid
 5512              	.LVL381:
 5513 009e 0128     		cmp	r0, #1
 5514 00a0 11D0     		beq	.L726
3045:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5515              		.loc 1 3045 0
 5516 00a2 4FF6EF72 		movw	r2, #65519
 5517 00a6 2368     		ldr	r3, [r4]
 5518 00a8 9A60     		str	r2, [r3, #8]
3072:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5519              		.loc 1 3072 0
 5520 00aa 04B0     		add	sp, sp, #16
 5521              		.cfi_remember_state
 5522              		.cfi_def_cfa_offset 8
 5523              		@ sp needed
 5524 00ac 10BD     		pop	{r4, pc}
 5525              	.LVL382:
 5526              	.L716:
 5527              		.cfi_restore_state
3066:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 5528              		.loc 1 3066 0
 5529 00ae 0123     		movs	r3, #1
3067:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5530              		.loc 1 3067 0
 5531 00b0 2046     		mov	r0, r4
3066:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 5532              		.loc 1 3066 0
 5533 00b2 84F85130 		strb	r3, [r4, #81]
3067:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5534              		.loc 1 3067 0
 5535 00b6 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5536              	.LVL383:
3072:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5537              		.loc 1 3072 0
 5538 00ba 04B0     		add	sp, sp, #16
 5539              		.cfi_remember_state
 5540              		.cfi_def_cfa_offset 8
 5541              		@ sp needed
 5542 00bc 10BD     		pop	{r4, pc}
 5543              	.LVL384:
 5544              	.L725:
 5545              		.cfi_restore_state
3056:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5546              		.loc 1 3056 0
 5547 00be FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 5548              	.LVL385:
3072:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5549              		.loc 1 3072 0
 5550 00c2 04B0     		add	sp, sp, #16
 5551              		.cfi_remember_state
 5552              		.cfi_def_cfa_offset 8
 5553              		@ sp needed
 5554 00c4 10BD     		pop	{r4, pc}
 5555              	.LVL386:
 5556              	.L726:
 5557              		.cfi_restore_state
ARM GAS  /tmp/ccHWpE7O.s 			page 174


3039:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5558              		.loc 1 3039 0
 5559 00c6 4DF6FF71 		movw	r1, #57343
3035:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 5560              		.loc 1 3035 0
 5561 00ca 84F85100 		strb	r0, [r4, #81]
3036:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5562              		.loc 1 3036 0
 5563 00ce 626D     		ldr	r2, [r4, #84]
3039:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5564              		.loc 1 3039 0
 5565 00d0 2368     		ldr	r3, [r4]
3036:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5566              		.loc 1 3036 0
 5567 00d2 42F00202 		orr	r2, r2, #2
 5568 00d6 6265     		str	r2, [r4, #84]
3039:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5569              		.loc 1 3039 0
 5570 00d8 1A68     		ldr	r2, [r3]
3041:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5571              		.loc 1 3041 0
 5572 00da 2046     		mov	r0, r4
3039:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5573              		.loc 1 3039 0
 5574 00dc 0A40     		ands	r2, r2, r1
 5575 00de 1A60     		str	r2, [r3]
 5576 00e0 1A68     		ldr	r2, [r3]
 5577 00e2 42F40052 		orr	r2, r2, #8192
 5578 00e6 1A60     		str	r2, [r3]
3041:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5579              		.loc 1 3041 0
 5580 00e8 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5581              	.LVL387:
 5582 00ec D2E7     		b	.L706
 5583              	.L728:
 5584 00ee 00BF     		.align	2
 5585              	.L727:
 5586 00f0 00000000 		.word	SystemCoreClock
 5587 00f4 F1197605 		.word	91625969
 5588              		.cfi_endproc
 5589              	.LFE117:
 5591              		.section	.text.SPI_2linesTxISR_8BIT,"ax",%progbits
 5592              		.align	1
 5593              		.p2align 2,,3
 5594              		.syntax unified
 5595              		.thumb
 5596              		.thumb_func
 5597              		.fpu softvfp
 5599              	SPI_2linesTxISR_8BIT:
 5600              	.LFB105:
2642:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr++);
 5601              		.loc 1 2642 0
 5602              		.cfi_startproc
 5603              		@ args = 0, pretend = 0, frame = 0
 5604              		@ frame_needed = 0, uses_anonymous_args = 0
 5605              		@ link register save eliminated.
 5606              	.LVL388:
ARM GAS  /tmp/ccHWpE7O.s 			page 175


 5607 0000 10B4     		push	{r4}
 5608              		.cfi_def_cfa_offset 4
 5609              		.cfi_offset 4, -4
2643:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5610              		.loc 1 2643 0
 5611 0002 026B     		ldr	r2, [r0, #48]
 5612 0004 0168     		ldr	r1, [r0]
 5613 0006 541C     		adds	r4, r2, #1
 5614 0008 0463     		str	r4, [r0, #48]
 5615 000a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 5616 000c 0A73     		strb	r2, [r1, #12]
2644:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5617              		.loc 1 2644 0
 5618 000e C28E     		ldrh	r2, [r0, #54]
 5619 0010 013A     		subs	r2, r2, #1
 5620 0012 92B2     		uxth	r2, r2
 5621 0014 C286     		strh	r2, [r0, #54]	@ movhi
2647:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5622              		.loc 1 2647 0
 5623 0016 C28E     		ldrh	r2, [r0, #54]
 5624 0018 92B2     		uxth	r2, r2
 5625 001a 5AB9     		cbnz	r2, .L729
2650:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5626              		.loc 1 2650 0
 5627 001c 826A     		ldr	r2, [r0, #40]
 5628 001e B2F5005F 		cmp	r2, #8192
 5629 0022 0CD0     		beq	.L735
2659:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5630              		.loc 1 2659 0
 5631 0024 0168     		ldr	r1, [r0]
 5632 0026 4A68     		ldr	r2, [r1, #4]
 5633 0028 22F08002 		bic	r2, r2, #128
 5634 002c 4A60     		str	r2, [r1, #4]
2661:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5635              		.loc 1 2661 0
 5636 002e C38F     		ldrh	r3, [r0, #62]
 5637 0030 9BB2     		uxth	r3, r3
 5638 0032 0BB1     		cbz	r3, .L736
 5639              	.L729:
2666:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5640              		.loc 1 2666 0
 5641 0034 10BC     		pop	{r4}
 5642              		.cfi_remember_state
 5643              		.cfi_restore 4
 5644              		.cfi_def_cfa_offset 0
 5645 0036 7047     		bx	lr
 5646              	.L736:
 5647              		.cfi_restore_state
 5648 0038 10BC     		pop	{r4}
 5649              		.cfi_remember_state
 5650              		.cfi_restore 4
 5651              		.cfi_def_cfa_offset 0
2663:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5652              		.loc 1 2663 0
 5653 003a FFF7FEBF 		b	SPI_CloseRxTx_ISR
 5654              	.LVL389:
 5655              	.L735:
ARM GAS  /tmp/ccHWpE7O.s 			page 176


 5656              		.cfi_restore_state
 5657              	.LBB103:
 5658              	.LBB104:
2652:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 5659              		.loc 1 2652 0
 5660 003e 0368     		ldr	r3, [r0]
 5661              	.LBE104:
 5662              	.LBE103:
2666:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5663              		.loc 1 2666 0
 5664 0040 10BC     		pop	{r4}
 5665              		.cfi_restore 4
 5666              		.cfi_def_cfa_offset 0
 5667              	.LBB106:
 5668              	.LBB105:
2652:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 5669              		.loc 1 2652 0
 5670 0042 1A68     		ldr	r2, [r3]
 5671 0044 42F48052 		orr	r2, r2, #4096
 5672 0048 1A60     		str	r2, [r3]
2653:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 5673              		.loc 1 2653 0
 5674 004a 5A68     		ldr	r2, [r3, #4]
 5675 004c 22F08002 		bic	r2, r2, #128
 5676 0050 5A60     		str	r2, [r3, #4]
 5677              	.LBE105:
 5678              	.LBE106:
2666:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5679              		.loc 1 2666 0
 5680 0052 7047     		bx	lr
 5681              		.cfi_endproc
 5682              	.LFE105:
 5684              		.section	.text.SPI_2linesRxISR_8BIT,"ax",%progbits
 5685              		.align	1
 5686              		.p2align 2,,3
 5687              		.syntax unified
 5688              		.thumb
 5689              		.thumb_func
 5690              		.fpu softvfp
 5692              	SPI_2linesRxISR_8BIT:
 5693              	.LFB103:
2581:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8bit mode */
 5694              		.loc 1 2581 0
 5695              		.cfi_startproc
 5696              		@ args = 0, pretend = 0, frame = 0
 5697              		@ frame_needed = 0, uses_anonymous_args = 0
 5698              		@ link register save eliminated.
 5699              	.LVL390:
 5700 0000 10B4     		push	{r4}
 5701              		.cfi_def_cfa_offset 4
 5702              		.cfi_offset 4, -4
2583:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5703              		.loc 1 2583 0
 5704 0002 826B     		ldr	r2, [r0, #56]
 5705 0004 0168     		ldr	r1, [r0]
 5706 0006 541C     		adds	r4, r2, #1
 5707 0008 8463     		str	r4, [r0, #56]
ARM GAS  /tmp/ccHWpE7O.s 			page 177


 5708 000a 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 5709 000c 1170     		strb	r1, [r2]
2584:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5710              		.loc 1 2584 0
 5711 000e C28F     		ldrh	r2, [r0, #62]
 5712 0010 013A     		subs	r2, r2, #1
 5713 0012 92B2     		uxth	r2, r2
 5714 0014 C287     		strh	r2, [r0, #62]	@ movhi
2587:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5715              		.loc 1 2587 0
 5716 0016 C28F     		ldrh	r2, [r0, #62]
 5717 0018 92B2     		uxth	r2, r2
 5718 001a 5AB9     		cbnz	r2, .L737
2590:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5719              		.loc 1 2590 0
 5720 001c 826A     		ldr	r2, [r0, #40]
 5721 001e B2F5005F 		cmp	r2, #8192
 5722 0022 0CD0     		beq	.L743
 5723              	.LVL391:
 5724              	.LBB109:
 5725              	.LBB110:
2598:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5726              		.loc 1 2598 0
 5727 0024 0168     		ldr	r1, [r0]
 5728 0026 4A68     		ldr	r2, [r1, #4]
 5729 0028 22F06002 		bic	r2, r2, #96
 5730 002c 4A60     		str	r2, [r1, #4]
2600:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5731              		.loc 1 2600 0
 5732 002e C38E     		ldrh	r3, [r0, #54]
 5733 0030 9BB2     		uxth	r3, r3
 5734 0032 0BB1     		cbz	r3, .L744
 5735              	.LVL392:
 5736              	.L737:
 5737              	.LBE110:
 5738              	.LBE109:
2605:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5739              		.loc 1 2605 0
 5740 0034 10BC     		pop	{r4}
 5741              		.cfi_remember_state
 5742              		.cfi_restore 4
 5743              		.cfi_def_cfa_offset 0
 5744 0036 7047     		bx	lr
 5745              	.LVL393:
 5746              	.L744:
 5747              		.cfi_restore_state
 5748 0038 10BC     		pop	{r4}
 5749              		.cfi_remember_state
 5750              		.cfi_restore 4
 5751              		.cfi_def_cfa_offset 0
 5752              	.LBB112:
 5753              	.LBB111:
2602:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5754              		.loc 1 2602 0
 5755 003a FFF7FEBF 		b	SPI_CloseRxTx_ISR
 5756              	.LVL394:
 5757              	.L743:
ARM GAS  /tmp/ccHWpE7O.s 			page 178


 5758              		.cfi_restore_state
 5759              	.LBE111:
 5760              	.LBE112:
2592:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 5761              		.loc 1 2592 0
 5762 003e 024A     		ldr	r2, .L745
2605:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5763              		.loc 1 2605 0
 5764 0040 10BC     		pop	{r4}
 5765              		.cfi_restore 4
 5766              		.cfi_def_cfa_offset 0
2592:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 5767              		.loc 1 2592 0
 5768 0042 0264     		str	r2, [r0, #64]
2605:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5769              		.loc 1 2605 0
 5770 0044 7047     		bx	lr
 5771              	.L746:
 5772 0046 00BF     		.align	2
 5773              	.L745:
 5774 0048 00000000 		.word	SPI_2linesRxISR_8BITCRC
 5775              		.cfi_endproc
 5776              	.LFE103:
 5778              		.section	.text.SPI_2linesRxISR_8BITCRC,"ax",%progbits
 5779              		.align	1
 5780              		.p2align 2,,3
 5781              		.syntax unified
 5782              		.thumb
 5783              		.thumb_func
 5784              		.fpu softvfp
 5786              	SPI_2linesRxISR_8BITCRC:
 5787              	.LFB104:
2615:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
 5788              		.loc 1 2615 0
 5789              		.cfi_startproc
 5790              		@ args = 0, pretend = 0, frame = 8
 5791              		@ frame_needed = 0, uses_anonymous_args = 0
 5792              	.LVL395:
2616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5793              		.loc 1 2616 0
 5794 0000 0022     		movs	r2, #0
2615:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
 5795              		.loc 1 2615 0
 5796 0002 00B5     		push	{lr}
 5797              		.cfi_def_cfa_offset 4
 5798              		.cfi_offset 14, -4
2619:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5799              		.loc 1 2619 0
 5800 0004 0368     		ldr	r3, [r0]
2615:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t tmpreg = 0U;
 5801              		.loc 1 2615 0
 5802 0006 83B0     		sub	sp, sp, #12
 5803              		.cfi_def_cfa_offset 16
2616:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5804              		.loc 1 2616 0
 5805 0008 8DF80720 		strb	r2, [sp, #7]
2619:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 179


 5806              		.loc 1 2619 0
 5807 000c 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
 5808 000e D2B2     		uxtb	r2, r2
 5809 0010 8DF80720 		strb	r2, [sp, #7]
2623:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5810              		.loc 1 2623 0
 5811 0014 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
2626:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5812              		.loc 1 2626 0
 5813 0018 5A68     		ldr	r2, [r3, #4]
 5814 001a 22F06002 		bic	r2, r2, #96
 5815 001e 5A60     		str	r2, [r3, #4]
2628:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5816              		.loc 1 2628 0
 5817 0020 C38E     		ldrh	r3, [r0, #54]
 5818 0022 9BB2     		uxth	r3, r3
 5819 0024 0BB9     		cbnz	r3, .L747
2630:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5820              		.loc 1 2630 0
 5821 0026 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5822              	.LVL396:
 5823              	.L747:
2632:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 5824              		.loc 1 2632 0
 5825 002a 03B0     		add	sp, sp, #12
 5826              		.cfi_def_cfa_offset 4
 5827              		@ sp needed
 5828 002c 5DF804FB 		ldr	pc, [sp], #4
 5829              		.cfi_endproc
 5830              	.LFE104:
 5832              		.section	.text.SPI_2linesTxISR_16BIT,"ax",%progbits
 5833              		.align	1
 5834              		.p2align 2,,3
 5835              		.syntax unified
 5836              		.thumb
 5837              		.thumb_func
 5838              		.fpu softvfp
 5840              	SPI_2linesTxISR_16BIT:
 5841              	.LFB108:
2733:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 5842              		.loc 1 2733 0
 5843              		.cfi_startproc
 5844              		@ args = 0, pretend = 0, frame = 0
 5845              		@ frame_needed = 0, uses_anonymous_args = 0
 5846              		@ link register save eliminated.
 5847              	.LVL397:
2735:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5848              		.loc 1 2735 0
 5849 0000 016B     		ldr	r1, [r0, #48]
2733:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 5850              		.loc 1 2733 0
 5851 0002 10B4     		push	{r4}
 5852              		.cfi_def_cfa_offset 4
 5853              		.cfi_offset 4, -4
2735:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5854              		.loc 1 2735 0
 5855 0004 31F8022B 		ldrh	r2, [r1], #2
ARM GAS  /tmp/ccHWpE7O.s 			page 180


 5856 0008 0468     		ldr	r4, [r0]
 5857 000a E260     		str	r2, [r4, #12]
2737:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5858              		.loc 1 2737 0
 5859 000c C28E     		ldrh	r2, [r0, #54]
2736:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5860              		.loc 1 2736 0
 5861 000e 0163     		str	r1, [r0, #48]
2737:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5862              		.loc 1 2737 0
 5863 0010 013A     		subs	r2, r2, #1
 5864 0012 92B2     		uxth	r2, r2
 5865 0014 C286     		strh	r2, [r0, #54]	@ movhi
2740:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5866              		.loc 1 2740 0
 5867 0016 C28E     		ldrh	r2, [r0, #54]
 5868 0018 92B2     		uxth	r2, r2
 5869 001a 52B9     		cbnz	r2, .L750
2743:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5870              		.loc 1 2743 0
 5871 001c 826A     		ldr	r2, [r0, #40]
 5872 001e B2F5005F 		cmp	r2, #8192
 5873 0022 0BD0     		beq	.L756
2752:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5874              		.loc 1 2752 0
 5875 0024 6268     		ldr	r2, [r4, #4]
 5876 0026 22F08002 		bic	r2, r2, #128
 5877 002a 6260     		str	r2, [r4, #4]
2754:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5878              		.loc 1 2754 0
 5879 002c C38F     		ldrh	r3, [r0, #62]
 5880 002e 9BB2     		uxth	r3, r3
 5881 0030 0BB1     		cbz	r3, .L757
 5882              	.L750:
2759:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5883              		.loc 1 2759 0
 5884 0032 10BC     		pop	{r4}
 5885              		.cfi_remember_state
 5886              		.cfi_restore 4
 5887              		.cfi_def_cfa_offset 0
 5888 0034 7047     		bx	lr
 5889              	.L757:
 5890              		.cfi_restore_state
 5891 0036 10BC     		pop	{r4}
 5892              		.cfi_remember_state
 5893              		.cfi_restore 4
 5894              		.cfi_def_cfa_offset 0
2756:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5895              		.loc 1 2756 0
 5896 0038 FFF7FEBF 		b	SPI_CloseRxTx_ISR
 5897              	.LVL398:
 5898              	.L756:
 5899              		.cfi_restore_state
2745:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 5900              		.loc 1 2745 0
 5901 003c 2368     		ldr	r3, [r4]
 5902 003e 43F48053 		orr	r3, r3, #4096
ARM GAS  /tmp/ccHWpE7O.s 			page 181


 5903 0042 2360     		str	r3, [r4]
2746:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 5904              		.loc 1 2746 0
 5905 0044 6368     		ldr	r3, [r4, #4]
 5906 0046 23F08003 		bic	r3, r3, #128
 5907 004a 6360     		str	r3, [r4, #4]
2759:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5908              		.loc 1 2759 0
 5909 004c 10BC     		pop	{r4}
 5910              		.cfi_restore 4
 5911              		.cfi_def_cfa_offset 0
 5912 004e 7047     		bx	lr
 5913              		.cfi_endproc
 5914              	.LFE108:
 5916              		.section	.text.SPI_2linesRxISR_16BIT,"ax",%progbits
 5917              		.align	1
 5918              		.p2align 2,,3
 5919              		.syntax unified
 5920              		.thumb
 5921              		.thumb_func
 5922              		.fpu softvfp
 5924              	SPI_2linesRxISR_16BIT:
 5925              	.LFB106:
2675:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 5926              		.loc 1 2675 0
 5927              		.cfi_startproc
 5928              		@ args = 0, pretend = 0, frame = 0
 5929              		@ frame_needed = 0, uses_anonymous_args = 0
 5930              		@ link register save eliminated.
 5931              	.LVL399:
 5932 0000 10B4     		push	{r4}
 5933              		.cfi_def_cfa_offset 4
 5934              		.cfi_offset 4, -4
2677:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5935              		.loc 1 2677 0
 5936 0002 0468     		ldr	r4, [r0]
 5937 0004 816B     		ldr	r1, [r0, #56]
 5938 0006 E268     		ldr	r2, [r4, #12]
 5939 0008 21F8022B 		strh	r2, [r1], #2	@ movhi
2679:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5940              		.loc 1 2679 0
 5941 000c C28F     		ldrh	r2, [r0, #62]
2678:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5942              		.loc 1 2678 0
 5943 000e 8163     		str	r1, [r0, #56]
2679:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5944              		.loc 1 2679 0
 5945 0010 013A     		subs	r2, r2, #1
 5946 0012 92B2     		uxth	r2, r2
 5947 0014 C287     		strh	r2, [r0, #62]	@ movhi
2681:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5948              		.loc 1 2681 0
 5949 0016 C28F     		ldrh	r2, [r0, #62]
 5950 0018 92B2     		uxth	r2, r2
 5951 001a 52B9     		cbnz	r2, .L758
2684:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5952              		.loc 1 2684 0
ARM GAS  /tmp/ccHWpE7O.s 			page 182


 5953 001c 826A     		ldr	r2, [r0, #40]
 5954 001e B2F5005F 		cmp	r2, #8192
 5955 0022 0BD0     		beq	.L764
2692:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5956              		.loc 1 2692 0
 5957 0024 6268     		ldr	r2, [r4, #4]
 5958 0026 22F04002 		bic	r2, r2, #64
 5959 002a 6260     		str	r2, [r4, #4]
2694:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5960              		.loc 1 2694 0
 5961 002c C38E     		ldrh	r3, [r0, #54]
 5962 002e 9BB2     		uxth	r3, r3
 5963 0030 0BB1     		cbz	r3, .L765
 5964              	.L758:
2699:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5965              		.loc 1 2699 0
 5966 0032 10BC     		pop	{r4}
 5967              		.cfi_remember_state
 5968              		.cfi_restore 4
 5969              		.cfi_def_cfa_offset 0
 5970 0034 7047     		bx	lr
 5971              	.L765:
 5972              		.cfi_restore_state
 5973 0036 10BC     		pop	{r4}
 5974              		.cfi_remember_state
 5975              		.cfi_restore 4
 5976              		.cfi_def_cfa_offset 0
2696:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5977              		.loc 1 2696 0
 5978 0038 FFF7FEBF 		b	SPI_CloseRxTx_ISR
 5979              	.LVL400:
 5980              	.L764:
 5981              		.cfi_restore_state
2686:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 5982              		.loc 1 2686 0
 5983 003c 014A     		ldr	r2, .L766
2699:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5984              		.loc 1 2699 0
 5985 003e 10BC     		pop	{r4}
 5986              		.cfi_restore 4
 5987              		.cfi_def_cfa_offset 0
2686:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 5988              		.loc 1 2686 0
 5989 0040 0264     		str	r2, [r0, #64]
2699:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5990              		.loc 1 2699 0
 5991 0042 7047     		bx	lr
 5992              	.L767:
 5993              		.align	2
 5994              	.L766:
 5995 0044 00000000 		.word	SPI_2linesRxISR_16BITCRC
 5996              		.cfi_endproc
 5997              	.LFE106:
 5999              		.section	.text.SPI_2linesRxISR_16BITCRC,"ax",%progbits
 6000              		.align	1
 6001              		.p2align 2,,3
 6002              		.syntax unified
ARM GAS  /tmp/ccHWpE7O.s 			page 183


 6003              		.thumb
 6004              		.thumb_func
 6005              		.fpu softvfp
 6007              	SPI_2linesRxISR_16BITCRC:
 6008              	.LFB107:
2709:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 6009              		.loc 1 2709 0
 6010              		.cfi_startproc
 6011              		@ args = 0, pretend = 0, frame = 8
 6012              		@ frame_needed = 0, uses_anonymous_args = 0
 6013              	.LVL401:
2711:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6014              		.loc 1 2711 0
 6015 0000 0022     		movs	r2, #0
2709:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 6016              		.loc 1 2709 0
 6017 0002 00B5     		push	{lr}
 6018              		.cfi_def_cfa_offset 4
 6019              		.cfi_offset 14, -4
2714:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6020              		.loc 1 2714 0
 6021 0004 0368     		ldr	r3, [r0]
2709:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 6022              		.loc 1 2709 0
 6023 0006 83B0     		sub	sp, sp, #12
 6024              		.cfi_def_cfa_offset 16
2711:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6025              		.loc 1 2711 0
 6026 0008 ADF80620 		strh	r2, [sp, #6]	@ movhi
2714:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6027              		.loc 1 2714 0
 6028 000c DA68     		ldr	r2, [r3, #12]
 6029 000e 92B2     		uxth	r2, r2
 6030 0010 ADF80620 		strh	r2, [sp, #6]	@ movhi
2717:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6031              		.loc 1 2717 0
 6032 0014 BDF80620 		ldrh	r2, [sp, #6]
2720:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6033              		.loc 1 2720 0
 6034 0018 5A68     		ldr	r2, [r3, #4]
 6035 001a 22F04002 		bic	r2, r2, #64
 6036 001e 5A60     		str	r2, [r3, #4]
2722:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6037              		.loc 1 2722 0
 6038 0020 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 6039              	.LVL402:
2723:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 6040              		.loc 1 2723 0
 6041 0024 03B0     		add	sp, sp, #12
 6042              		.cfi_def_cfa_offset 4
 6043              		@ sp needed
 6044 0026 5DF804FB 		ldr	pc, [sp], #4
 6045              		.cfi_endproc
 6046              	.LFE107:
 6048 002a 00BF     		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
 6049              		.align	1
 6050              		.p2align 2,,3
ARM GAS  /tmp/ccHWpE7O.s 			page 184


 6051              		.syntax unified
 6052              		.thumb
 6053              		.thumb_func
 6054              		.fpu softvfp
 6056              	SPI_DMAReceiveCplt:
 6057              	.LFB94:
2260:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 6058              		.loc 1 2260 0
 6059              		.cfi_startproc
 6060              		@ args = 0, pretend = 0, frame = 8
 6061              		@ frame_needed = 0, uses_anonymous_args = 0
 6062              	.LVL403:
 6063 0000 30B5     		push	{r4, r5, lr}
 6064              		.cfi_def_cfa_offset 12
 6065              		.cfi_offset 4, -12
 6066              		.cfi_offset 5, -8
 6067              		.cfi_offset 14, -4
2264:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6068              		.loc 1 2264 0
 6069 0002 0023     		movs	r3, #0
2260:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 6070              		.loc 1 2260 0
 6071 0004 0546     		mov	r5, r0
 6072 0006 85B0     		sub	sp, sp, #20
 6073              		.cfi_def_cfa_offset 32
2264:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6074              		.loc 1 2264 0
 6075 0008 ADF80E30 		strh	r3, [sp, #14]	@ movhi
2261:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 6076              		.loc 1 2261 0
 6077 000c 446A     		ldr	r4, [r0, #36]
 6078              	.LVL404:
2267:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 6079              		.loc 1 2267 0
 6080 000e FFF7FEFF 		bl	HAL_GetTick
 6081              	.LVL405:
2270:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6082              		.loc 1 2270 0
 6083 0012 2B68     		ldr	r3, [r5]
 6084 0014 1B68     		ldr	r3, [r3]
 6085 0016 9A06     		lsls	r2, r3, #26
 6086 0018 16D4     		bmi	.L771
2274:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6087              		.loc 1 2274 0
 6088 001a A36A     		ldr	r3, [r4, #40]
 6089 001c B3F5005F 		cmp	r3, #8192
 6090 0020 43D0     		beq	.L772
 6091 0022 2368     		ldr	r3, [r4]
 6092              	.LVL406:
 6093              	.L773:
2290:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6094              		.loc 1 2290 0
 6095 0024 5A68     		ldr	r2, [r3, #4]
2293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6096              		.loc 1 2293 0
 6097 0026 6168     		ldr	r1, [r4, #4]
2290:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccHWpE7O.s 			page 185


 6098              		.loc 1 2290 0
 6099 0028 22F00302 		bic	r2, r2, #3
2293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6100              		.loc 1 2293 0
 6101 002c B1F5827F 		cmp	r1, #260
2290:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6102              		.loc 1 2290 0
 6103 0030 5A60     		str	r2, [r3, #4]
2293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6104              		.loc 1 2293 0
 6105 0032 2ED0     		beq	.L793
 6106              	.L775:
2299:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6107              		.loc 1 2299 0
 6108 0034 0021     		movs	r1, #0
2300:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6109              		.loc 1 2300 0
 6110 0036 0122     		movs	r2, #1
2299:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6111              		.loc 1 2299 0
 6112 0038 E187     		strh	r1, [r4, #62]	@ movhi
2300:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6113              		.loc 1 2300 0
 6114 003a 84F85120 		strb	r2, [r4, #81]
2304:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6115              		.loc 1 2304 0
 6116 003e 9B68     		ldr	r3, [r3, #8]
 6117 0040 DB06     		lsls	r3, r3, #27
 6118 0042 06D4     		bmi	.L794
 6119              	.L777:
2321:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6120              		.loc 1 2321 0
 6121 0044 636D     		ldr	r3, [r4, #84]
 6122 0046 83B9     		cbnz	r3, .L795
 6123              	.L771:
2327:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6124              		.loc 1 2327 0
 6125 0048 2046     		mov	r0, r4
 6126 004a FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 6127              	.LVL407:
2328:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6128              		.loc 1 2328 0
 6129 004e 05B0     		add	sp, sp, #20
 6130              		.cfi_remember_state
 6131              		.cfi_def_cfa_offset 12
 6132              		@ sp needed
 6133 0050 30BD     		pop	{r4, r5, pc}
 6134              	.LVL408:
 6135              	.L794:
 6136              		.cfi_restore_state
2307:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6137              		.loc 1 2307 0
 6138 0052 2046     		mov	r0, r4
 6139 0054 FFF7FEFF 		bl	SPI_ISCRCErrorValid
 6140              	.LVL409:
 6141 0058 0128     		cmp	r0, #1
 6142 005a 0BD0     		beq	.L796
ARM GAS  /tmp/ccHWpE7O.s 			page 186


2316:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6143              		.loc 1 2316 0
 6144 005c 4FF6EF72 		movw	r2, #65519
 6145 0060 2368     		ldr	r3, [r4]
 6146 0062 9A60     		str	r2, [r3, #8]
2321:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6147              		.loc 1 2321 0
 6148 0064 636D     		ldr	r3, [r4, #84]
 6149 0066 002B     		cmp	r3, #0
 6150 0068 EED0     		beq	.L771
 6151              	.L795:
2323:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 6152              		.loc 1 2323 0
 6153 006a 2046     		mov	r0, r4
 6154 006c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6155              	.LVL410:
2328:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6156              		.loc 1 2328 0
 6157 0070 05B0     		add	sp, sp, #20
 6158              		.cfi_remember_state
 6159              		.cfi_def_cfa_offset 12
 6160              		@ sp needed
 6161 0072 30BD     		pop	{r4, r5, pc}
 6162              	.LVL411:
 6163              	.L796:
 6164              		.cfi_restore_state
2312:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6165              		.loc 1 2312 0
 6166 0074 4DF6FF70 		movw	r0, #57343
2309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6167              		.loc 1 2309 0
 6168 0078 616D     		ldr	r1, [r4, #84]
2312:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6169              		.loc 1 2312 0
 6170 007a 2368     		ldr	r3, [r4]
2309:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6171              		.loc 1 2309 0
 6172 007c 41F00201 		orr	r1, r1, #2
 6173 0080 6165     		str	r1, [r4, #84]
2312:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6174              		.loc 1 2312 0
 6175 0082 1A68     		ldr	r2, [r3]
 6176 0084 0240     		ands	r2, r2, r0
 6177 0086 1A60     		str	r2, [r3]
 6178 0088 1A68     		ldr	r2, [r3]
 6179 008a 42F40052 		orr	r2, r2, #8192
 6180 008e 1A60     		str	r2, [r3]
 6181 0090 D8E7     		b	.L777
 6182              	.L793:
2293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6183              		.loc 1 2293 0 discriminator 1
 6184 0092 A268     		ldr	r2, [r4, #8]
 6185 0094 B2F5004F 		cmp	r2, #32768
 6186 0098 02D0     		beq	.L776
2293:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6187              		.loc 1 2293 0 is_stmt 0 discriminator 2
 6188 009a B2F5806F 		cmp	r2, #1024
ARM GAS  /tmp/ccHWpE7O.s 			page 187


 6189 009e C9D1     		bne	.L775
 6190              	.L776:
2296:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6191              		.loc 1 2296 0 is_stmt 1
 6192 00a0 1A68     		ldr	r2, [r3]
 6193 00a2 22F04002 		bic	r2, r2, #64
 6194 00a6 1A60     		str	r2, [r3]
 6195 00a8 C4E7     		b	.L775
 6196              	.LVL412:
 6197              	.L772:
2277:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6198              		.loc 1 2277 0
 6199 00aa 0122     		movs	r2, #1
 6200 00ac 0090     		str	r0, [sp]
 6201 00ae 1146     		mov	r1, r2
 6202 00b0 6423     		movs	r3, #100
 6203 00b2 2046     		mov	r0, r4
 6204              	.LVL413:
 6205 00b4 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 6206              	.LVL414:
 6207 00b8 18B1     		cbz	r0, .L774
2280:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6208              		.loc 1 2280 0
 6209 00ba 636D     		ldr	r3, [r4, #84]
 6210 00bc 43F00203 		orr	r3, r3, #2
 6211 00c0 6365     		str	r3, [r4, #84]
 6212              	.L774:
2283:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* To avoid GCC warning */
 6213              		.loc 1 2283 0
 6214 00c2 2368     		ldr	r3, [r4]
 6215 00c4 DA68     		ldr	r2, [r3, #12]
 6216 00c6 92B2     		uxth	r2, r2
 6217 00c8 ADF80E20 		strh	r2, [sp, #14]	@ movhi
2285:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6218              		.loc 1 2285 0
 6219 00cc BDF80E20 		ldrh	r2, [sp, #14]
 6220 00d0 A8E7     		b	.L773
 6221              		.cfi_endproc
 6222              	.LFE94:
 6224 00d2 00BF     		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 6225              		.align	1
 6226              		.p2align 2,,3
 6227              		.syntax unified
 6228              		.thumb
 6229              		.thumb_func
 6230              		.fpu softvfp
 6232              	SPI_DMATransmitReceiveCplt:
 6233              	.LFB95:
2337:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 6234              		.loc 1 2337 0
 6235              		.cfi_startproc
 6236              		@ args = 0, pretend = 0, frame = 8
 6237              		@ frame_needed = 0, uses_anonymous_args = 0
 6238              	.LVL415:
 6239 0000 70B5     		push	{r4, r5, r6, lr}
 6240              		.cfi_def_cfa_offset 16
 6241              		.cfi_offset 4, -16
ARM GAS  /tmp/ccHWpE7O.s 			page 188


 6242              		.cfi_offset 5, -12
 6243              		.cfi_offset 6, -8
 6244              		.cfi_offset 14, -4
2341:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 6245              		.loc 1 2341 0
 6246 0002 0023     		movs	r3, #0
2337:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef* hspi = ( SPI_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 6247              		.loc 1 2337 0
 6248 0004 0546     		mov	r5, r0
 6249 0006 84B0     		sub	sp, sp, #16
 6250              		.cfi_def_cfa_offset 32
2341:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 6251              		.loc 1 2341 0
 6252 0008 ADF80E30 		strh	r3, [sp, #14]	@ movhi
2338:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart = 0U;
 6253              		.loc 1 2338 0
 6254 000c 446A     		ldr	r4, [r0, #36]
 6255              	.LVL416:
2344:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6256              		.loc 1 2344 0
 6257 000e FFF7FEFF 		bl	HAL_GetTick
 6258              	.LVL417:
2346:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6259              		.loc 1 2346 0
 6260 0012 2B68     		ldr	r3, [r5]
 6261 0014 1B68     		ldr	r3, [r3]
 6262 0016 9A06     		lsls	r2, r3, #26
 6263 0018 1CD4     		bmi	.L798
2350:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6264              		.loc 1 2350 0
 6265 001a A36A     		ldr	r3, [r4, #40]
 6266 001c 0646     		mov	r6, r0
 6267 001e B3F5005F 		cmp	r3, #8192
 6268 0022 45D0     		beq	.L818
 6269              	.LVL418:
 6270              	.L799:
 6271              	.LBB113:
 6272              	.LBB114:
2981:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6273              		.loc 1 2981 0
 6274 0024 0096     		str	r6, [sp]
 6275 0026 6423     		movs	r3, #100
 6276 0028 0022     		movs	r2, #0
 6277 002a 8021     		movs	r1, #128
 6278 002c 2046     		mov	r0, r4
 6279 002e FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 6280              	.LVL419:
 6281 0032 A0B9     		cbnz	r0, .L819
 6282              	.LVL420:
 6283              	.L801:
 6284              	.LBE114:
 6285              	.LBE113:
2372:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 6286              		.loc 1 2372 0
 6287 0034 0021     		movs	r1, #0
2374:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6288              		.loc 1 2374 0
ARM GAS  /tmp/ccHWpE7O.s 			page 189


 6289 0036 0120     		movs	r0, #1
2370:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6290              		.loc 1 2370 0
 6291 0038 2368     		ldr	r3, [r4]
 6292 003a 5A68     		ldr	r2, [r3, #4]
 6293 003c 22F00302 		bic	r2, r2, #3
 6294 0040 5A60     		str	r2, [r3, #4]
2372:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 6295              		.loc 1 2372 0
 6296 0042 E186     		strh	r1, [r4, #54]	@ movhi
2373:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6297              		.loc 1 2373 0
 6298 0044 E187     		strh	r1, [r4, #62]	@ movhi
2374:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6299              		.loc 1 2374 0
 6300 0046 84F85100 		strb	r0, [r4, #81]
2378:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6301              		.loc 1 2378 0
 6302 004a 9B68     		ldr	r3, [r3, #8]
 6303 004c DB06     		lsls	r3, r3, #27
 6304 004e 0FD4     		bmi	.L820
 6305              	.L802:
2395:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6306              		.loc 1 2395 0
 6307 0050 636D     		ldr	r3, [r4, #84]
 6308 0052 CBB9     		cbnz	r3, .L821
 6309              	.LVL421:
 6310              	.L798:
2401:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6311              		.loc 1 2401 0
 6312 0054 2046     		mov	r0, r4
 6313 0056 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 6314              	.LVL422:
2402:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6315              		.loc 1 2402 0
 6316 005a 04B0     		add	sp, sp, #16
 6317              		.cfi_remember_state
 6318              		.cfi_def_cfa_offset 16
 6319              		@ sp needed
 6320 005c 70BD     		pop	{r4, r5, r6, pc}
 6321              	.LVL423:
 6322              	.L819:
 6323              		.cfi_restore_state
 6324              	.LBB116:
 6325              	.LBB115:
2983:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 6326              		.loc 1 2983 0
 6327 005e 636D     		ldr	r3, [r4, #84]
 6328 0060 43F02003 		orr	r3, r3, #32
 6329 0064 6365     		str	r3, [r4, #84]
 6330              	.LVL424:
 6331              	.LBE115:
 6332              	.LBE116:
2366:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6333              		.loc 1 2366 0
 6334 0066 636D     		ldr	r3, [r4, #84]
 6335 0068 43F02003 		orr	r3, r3, #32
ARM GAS  /tmp/ccHWpE7O.s 			page 190


 6336 006c 6365     		str	r3, [r4, #84]
 6337 006e E1E7     		b	.L801
 6338              	.L820:
2381:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6339              		.loc 1 2381 0
 6340 0070 2046     		mov	r0, r4
 6341 0072 FFF7FEFF 		bl	SPI_ISCRCErrorValid
 6342              	.LVL425:
 6343 0076 0128     		cmp	r0, #1
 6344 0078 0BD0     		beq	.L822
2390:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6345              		.loc 1 2390 0
 6346 007a 4FF6EF72 		movw	r2, #65519
 6347 007e 2368     		ldr	r3, [r4]
 6348 0080 9A60     		str	r2, [r3, #8]
2395:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6349              		.loc 1 2395 0
 6350 0082 636D     		ldr	r3, [r4, #84]
 6351 0084 002B     		cmp	r3, #0
 6352 0086 E5D0     		beq	.L798
 6353              	.L821:
2397:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
 6354              		.loc 1 2397 0
 6355 0088 2046     		mov	r0, r4
 6356 008a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6357              	.LVL426:
2402:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6358              		.loc 1 2402 0
 6359 008e 04B0     		add	sp, sp, #16
 6360              		.cfi_remember_state
 6361              		.cfi_def_cfa_offset 16
 6362              		@ sp needed
 6363 0090 70BD     		pop	{r4, r5, r6, pc}
 6364              	.LVL427:
 6365              	.L822:
 6366              		.cfi_restore_state
2386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6367              		.loc 1 2386 0
 6368 0092 4DF6FF70 		movw	r0, #57343
2383:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6369              		.loc 1 2383 0
 6370 0096 616D     		ldr	r1, [r4, #84]
2386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6371              		.loc 1 2386 0
 6372 0098 2368     		ldr	r3, [r4]
2383:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6373              		.loc 1 2383 0
 6374 009a 41F00201 		orr	r1, r1, #2
 6375 009e 6165     		str	r1, [r4, #84]
2386:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6376              		.loc 1 2386 0
 6377 00a0 1A68     		ldr	r2, [r3]
 6378 00a2 0240     		ands	r2, r2, r0
 6379 00a4 1A60     		str	r2, [r3]
 6380 00a6 1A68     		ldr	r2, [r3]
 6381 00a8 42F40052 		orr	r2, r2, #8192
 6382 00ac 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccHWpE7O.s 			page 191


 6383 00ae CFE7     		b	.L802
 6384              	.LVL428:
 6385              	.L818:
2353:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6386              		.loc 1 2353 0
 6387 00b0 0122     		movs	r2, #1
 6388 00b2 0090     		str	r0, [sp]
 6389 00b4 1146     		mov	r1, r2
 6390 00b6 6423     		movs	r3, #100
 6391 00b8 2046     		mov	r0, r4
 6392              	.LVL429:
 6393 00ba FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 6394              	.LVL430:
 6395 00be 18B1     		cbz	r0, .L800
2355:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6396              		.loc 1 2355 0
 6397 00c0 636D     		ldr	r3, [r4, #84]
 6398 00c2 43F00203 		orr	r3, r3, #2
 6399 00c6 6365     		str	r3, [r4, #84]
 6400              	.L800:
2358:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* To avoid GCC warning */
 6401              		.loc 1 2358 0
 6402 00c8 2368     		ldr	r3, [r4]
 6403 00ca DB68     		ldr	r3, [r3, #12]
 6404 00cc 1BB2     		sxth	r3, r3
 6405 00ce ADF80E30 		strh	r3, [sp, #14]	@ movhi
2360:drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6406              		.loc 1 2360 0
 6407 00d2 BDF80E30 		ldrh	r3, [sp, #14]
 6408 00d6 A5E7     		b	.L799
 6409              		.cfi_endproc
 6410              	.LFE95:
 6412              		.text
 6413              	.Letext0:
 6414              		.file 2 "/home/vdykyy/Install/STM-32/gcc-arm-none-eabi-6-2017-q2-update/lib/gcc/arm-none-eabi/6.3.
 6415              		.file 3 "drivers/CMSIS/Include/core_cm3.h"
 6416              		.file 4 "drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 6417              		.file 5 "drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 6418              		.file 6 "/home/vdykyy/Install/STM-32/gcc-arm-none-eabi-6-2017-q2-update/arm-none-eabi/include/sys/
 6419              		.file 7 "/home/vdykyy/Install/STM-32/gcc-arm-none-eabi-6-2017-q2-update/arm-none-eabi/include/sys/
 6420              		.file 8 "/home/vdykyy/Install/STM-32/gcc-arm-none-eabi-6-2017-q2-update/lib/gcc/arm-none-eabi/6.3.
 6421              		.file 9 "/home/vdykyy/Install/STM-32/gcc-arm-none-eabi-6-2017-q2-update/arm-none-eabi/include/sys/
 6422              		.file 10 "drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 6423              		.file 11 "drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 6424              		.file 12 "drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 6425              		.file 13 "drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 6426              		.file 14 "drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  /tmp/ccHWpE7O.s 			page 192


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f1xx_hal_spi.c
     /tmp/ccHWpE7O.s:16     .text.SPI_AbortRx_ISR:0000000000000000 $t
     /tmp/ccHWpE7O.s:23     .text.SPI_AbortRx_ISR:0000000000000000 SPI_AbortRx_ISR
     /tmp/ccHWpE7O.s:100    .text.SPI_AbortRx_ISR:0000000000000054 $d
     /tmp/ccHWpE7O.s:106    .text.SPI_AbortTx_ISR:0000000000000000 $t
     /tmp/ccHWpE7O.s:113    .text.SPI_AbortTx_ISR:0000000000000000 SPI_AbortTx_ISR
     /tmp/ccHWpE7O.s:135    .text.SPI_WaitFlagStateUntilTimeout:0000000000000000 $t
     /tmp/ccHWpE7O.s:142    .text.SPI_WaitFlagStateUntilTimeout:0000000000000000 SPI_WaitFlagStateUntilTimeout
     /tmp/ccHWpE7O.s:258    .text.HAL_SPI_TransmitReceive_IT.part.1:0000000000000000 $t
     /tmp/ccHWpE7O.s:265    .text.HAL_SPI_TransmitReceive_IT.part.1:0000000000000000 HAL_SPI_TransmitReceive_IT.part.1
     /tmp/ccHWpE7O.s:438    .text.HAL_SPI_TransmitReceive_IT.part.1:00000000000000b8 $d
     /tmp/ccHWpE7O.s:5924   .text.SPI_2linesRxISR_16BIT:0000000000000000 SPI_2linesRxISR_16BIT
     /tmp/ccHWpE7O.s:5840   .text.SPI_2linesTxISR_16BIT:0000000000000000 SPI_2linesTxISR_16BIT
     /tmp/ccHWpE7O.s:5692   .text.SPI_2linesRxISR_8BIT:0000000000000000 SPI_2linesRxISR_8BIT
     /tmp/ccHWpE7O.s:5599   .text.SPI_2linesTxISR_8BIT:0000000000000000 SPI_2linesTxISR_8BIT
     /tmp/ccHWpE7O.s:446    .text.HAL_SPI_TransmitReceive_DMA.part.2:0000000000000000 $t
     /tmp/ccHWpE7O.s:453    .text.HAL_SPI_TransmitReceive_DMA.part.2:0000000000000000 HAL_SPI_TransmitReceive_DMA.part.2
     /tmp/ccHWpE7O.s:668    .text.HAL_SPI_TransmitReceive_DMA.part.2:0000000000000100 $d
     /tmp/ccHWpE7O.s:2611   .text.SPI_DMAHalfReceiveCplt:0000000000000000 SPI_DMAHalfReceiveCplt
     /tmp/ccHWpE7O.s:2659   .text.SPI_DMAHalfTransmitReceiveCplt:0000000000000000 SPI_DMAHalfTransmitReceiveCplt
     /tmp/ccHWpE7O.s:6056   .text.SPI_DMAReceiveCplt:0000000000000000 SPI_DMAReceiveCplt
     /tmp/ccHWpE7O.s:6232   .text.SPI_DMATransmitReceiveCplt:0000000000000000 SPI_DMATransmitReceiveCplt
     /tmp/ccHWpE7O.s:2964   .text.SPI_DMAError:0000000000000000 SPI_DMAError
     /tmp/ccHWpE7O.s:677    .text.HAL_SPI_MspInit:0000000000000000 $t
     /tmp/ccHWpE7O.s:685    .text.HAL_SPI_MspInit:0000000000000000 HAL_SPI_MspInit
     /tmp/ccHWpE7O.s:696    .text.HAL_SPI_Init:0000000000000000 $t
     /tmp/ccHWpE7O.s:704    .text.HAL_SPI_Init:0000000000000000 HAL_SPI_Init
     /tmp/ccHWpE7O.s:826    .text.HAL_SPI_MspDeInit:0000000000000000 $t
     /tmp/ccHWpE7O.s:834    .text.HAL_SPI_MspDeInit:0000000000000000 HAL_SPI_MspDeInit
     /tmp/ccHWpE7O.s:845    .text.HAL_SPI_DeInit:0000000000000000 $t
     /tmp/ccHWpE7O.s:853    .text.HAL_SPI_DeInit:0000000000000000 HAL_SPI_DeInit
     /tmp/ccHWpE7O.s:903    .text.HAL_SPI_Transmit:0000000000000000 $t
     /tmp/ccHWpE7O.s:911    .text.HAL_SPI_Transmit:0000000000000000 HAL_SPI_Transmit
     /tmp/ccHWpE7O.s:1254   .text.HAL_SPI_Transmit_IT:0000000000000000 $t
     /tmp/ccHWpE7O.s:1262   .text.HAL_SPI_Transmit_IT:0000000000000000 HAL_SPI_Transmit_IT
     /tmp/ccHWpE7O.s:1425   .text.HAL_SPI_Transmit_IT:00000000000000bc $d
     /tmp/ccHWpE7O.s:2852   .text.SPI_TxISR_8BIT:0000000000000000 SPI_TxISR_8BIT
     /tmp/ccHWpE7O.s:2911   .text.SPI_TxISR_16BIT:0000000000000000 SPI_TxISR_16BIT
     /tmp/ccHWpE7O.s:1431   .text.HAL_SPI_Receive_IT:0000000000000000 $t
     /tmp/ccHWpE7O.s:1439   .text.HAL_SPI_Receive_IT:0000000000000000 HAL_SPI_Receive_IT
     /tmp/ccHWpE7O.s:1655   .text.HAL_SPI_Receive_IT:00000000000000d0 $d
     /tmp/ccHWpE7O.s:5105   .text.SPI_RxISR_8BIT:0000000000000000 SPI_RxISR_8BIT
     /tmp/ccHWpE7O.s:5241   .text.SPI_RxISR_16BIT:0000000000000000 SPI_RxISR_16BIT
     /tmp/ccHWpE7O.s:1661   .text.HAL_SPI_TransmitReceive_IT:0000000000000000 $t
     /tmp/ccHWpE7O.s:1669   .text.HAL_SPI_TransmitReceive_IT:0000000000000000 HAL_SPI_TransmitReceive_IT
     /tmp/ccHWpE7O.s:1704   .text.HAL_SPI_Transmit_DMA:0000000000000000 $t
     /tmp/ccHWpE7O.s:1712   .text.HAL_SPI_Transmit_DMA:0000000000000000 HAL_SPI_Transmit_DMA
     /tmp/ccHWpE7O.s:1873   .text.HAL_SPI_Transmit_DMA:00000000000000bc $d
     /tmp/ccHWpE7O.s:2563   .text.SPI_DMAHalfTransmitCplt:0000000000000000 SPI_DMAHalfTransmitCplt
     /tmp/ccHWpE7O.s:3010   .text.SPI_DMATransmitCplt:0000000000000000 SPI_DMATransmitCplt
     /tmp/ccHWpE7O.s:1880   .text.HAL_SPI_Receive_DMA:0000000000000000 $t
     /tmp/ccHWpE7O.s:1888   .text.HAL_SPI_Receive_DMA:0000000000000000 HAL_SPI_Receive_DMA
     /tmp/ccHWpE7O.s:2103   .text.HAL_SPI_Receive_DMA:00000000000000ec $d
     /tmp/ccHWpE7O.s:2110   .text.HAL_SPI_TransmitReceive_DMA:0000000000000000 $t
     /tmp/ccHWpE7O.s:2118   .text.HAL_SPI_TransmitReceive_DMA:0000000000000000 HAL_SPI_TransmitReceive_DMA
     /tmp/ccHWpE7O.s:2153   .text.HAL_SPI_Abort:0000000000000000 $t
ARM GAS  /tmp/ccHWpE7O.s 			page 193


     /tmp/ccHWpE7O.s:2161   .text.HAL_SPI_Abort:0000000000000000 HAL_SPI_Abort
     /tmp/ccHWpE7O.s:2312   .text.HAL_SPI_Abort:00000000000000bc $d
     /tmp/ccHWpE7O.s:2320   .text.HAL_SPI_DMAPause:0000000000000000 $t
     /tmp/ccHWpE7O.s:2328   .text.HAL_SPI_DMAPause:0000000000000000 HAL_SPI_DMAPause
     /tmp/ccHWpE7O.s:2373   .text.HAL_SPI_DMAResume:0000000000000000 $t
     /tmp/ccHWpE7O.s:2381   .text.HAL_SPI_DMAResume:0000000000000000 HAL_SPI_DMAResume
     /tmp/ccHWpE7O.s:2426   .text.HAL_SPI_DMAStop:0000000000000000 $t
     /tmp/ccHWpE7O.s:2434   .text.HAL_SPI_DMAStop:0000000000000000 HAL_SPI_DMAStop
     /tmp/ccHWpE7O.s:2480   .text.HAL_SPI_TxCpltCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:2488   .text.HAL_SPI_TxCpltCallback:0000000000000000 HAL_SPI_TxCpltCallback
     /tmp/ccHWpE7O.s:2499   .text.HAL_SPI_RxCpltCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:2507   .text.HAL_SPI_RxCpltCallback:0000000000000000 HAL_SPI_RxCpltCallback
     /tmp/ccHWpE7O.s:2518   .text.HAL_SPI_TxRxCpltCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:2526   .text.HAL_SPI_TxRxCpltCallback:0000000000000000 HAL_SPI_TxRxCpltCallback
     /tmp/ccHWpE7O.s:2537   .text.HAL_SPI_TxHalfCpltCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:2545   .text.HAL_SPI_TxHalfCpltCallback:0000000000000000 HAL_SPI_TxHalfCpltCallback
     /tmp/ccHWpE7O.s:2556   .text.SPI_DMAHalfTransmitCplt:0000000000000000 $t
     /tmp/ccHWpE7O.s:2585   .text.HAL_SPI_RxHalfCpltCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:2593   .text.HAL_SPI_RxHalfCpltCallback:0000000000000000 HAL_SPI_RxHalfCpltCallback
     /tmp/ccHWpE7O.s:2604   .text.SPI_DMAHalfReceiveCplt:0000000000000000 $t
     /tmp/ccHWpE7O.s:2633   .text.HAL_SPI_TxRxHalfCpltCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:2641   .text.HAL_SPI_TxRxHalfCpltCallback:0000000000000000 HAL_SPI_TxRxHalfCpltCallback
     /tmp/ccHWpE7O.s:2652   .text.SPI_DMAHalfTransmitReceiveCplt:0000000000000000 $t
     /tmp/ccHWpE7O.s:2681   .text.HAL_SPI_ErrorCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:2689   .text.HAL_SPI_ErrorCallback:0000000000000000 HAL_SPI_ErrorCallback
     /tmp/ccHWpE7O.s:2700   .text.SPI_CloseTx_ISR:0000000000000000 $t
     /tmp/ccHWpE7O.s:2707   .text.SPI_CloseTx_ISR:0000000000000000 SPI_CloseTx_ISR
     /tmp/ccHWpE7O.s:2839   .text.SPI_CloseTx_ISR:0000000000000090 $d
     /tmp/ccHWpE7O.s:2845   .text.SPI_TxISR_8BIT:0000000000000000 $t
     /tmp/ccHWpE7O.s:2904   .text.SPI_TxISR_16BIT:0000000000000000 $t
     /tmp/ccHWpE7O.s:2957   .text.SPI_DMAError:0000000000000000 $t
     /tmp/ccHWpE7O.s:3003   .text.SPI_DMATransmitCplt:0000000000000000 $t
     /tmp/ccHWpE7O.s:3123   .text.HAL_SPI_IRQHandler:0000000000000000 $t
     /tmp/ccHWpE7O.s:3131   .text.HAL_SPI_IRQHandler:0000000000000000 HAL_SPI_IRQHandler
     /tmp/ccHWpE7O.s:3327   .text.HAL_SPI_IRQHandler:00000000000000d0 $d
     /tmp/ccHWpE7O.s:3339   .text.SPI_DMAAbortOnError:0000000000000000 SPI_DMAAbortOnError
     /tmp/ccHWpE7O.s:3332   .text.SPI_DMAAbortOnError:0000000000000000 $t
     /tmp/ccHWpE7O.s:3371   .text.HAL_SPI_AbortCpltCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:3379   .text.HAL_SPI_AbortCpltCallback:0000000000000000 HAL_SPI_AbortCpltCallback
     /tmp/ccHWpE7O.s:3392   .text.HAL_SPI_Abort_IT:0000000000000000 $t
     /tmp/ccHWpE7O.s:3400   .text.HAL_SPI_Abort_IT:0000000000000000 HAL_SPI_Abort_IT
     /tmp/ccHWpE7O.s:3641   .text.HAL_SPI_Abort_IT:00000000000000fc $d
     /tmp/ccHWpE7O.s:3753   .text.SPI_DMATxAbortCallback:0000000000000000 SPI_DMATxAbortCallback
     /tmp/ccHWpE7O.s:3656   .text.SPI_DMARxAbortCallback:0000000000000000 SPI_DMARxAbortCallback
     /tmp/ccHWpE7O.s:3649   .text.SPI_DMARxAbortCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:3746   .text.SPI_DMATxAbortCallback:0000000000000000 $t
     /tmp/ccHWpE7O.s:3858   .text.SPI_DMATxAbortCallback:0000000000000068 $d
     /tmp/ccHWpE7O.s:3864   .text.HAL_SPI_GetState:0000000000000000 $t
     /tmp/ccHWpE7O.s:3872   .text.HAL_SPI_GetState:0000000000000000 HAL_SPI_GetState
     /tmp/ccHWpE7O.s:3889   .text.HAL_SPI_GetError:0000000000000000 $t
     /tmp/ccHWpE7O.s:3897   .text.HAL_SPI_GetError:0000000000000000 HAL_SPI_GetError
     /tmp/ccHWpE7O.s:3914   .text.SPI_ISCRCErrorValid:0000000000000000 $t
     /tmp/ccHWpE7O.s:3922   .text.SPI_ISCRCErrorValid:0000000000000000 SPI_ISCRCErrorValid
     /tmp/ccHWpE7O.s:3938   .text.HAL_SPI_TransmitReceive:0000000000000000 $t
     /tmp/ccHWpE7O.s:3946   .text.HAL_SPI_TransmitReceive:0000000000000000 HAL_SPI_TransmitReceive
     /tmp/ccHWpE7O.s:4536   .text.HAL_SPI_Receive:0000000000000000 $t
     /tmp/ccHWpE7O.s:4544   .text.HAL_SPI_Receive:0000000000000000 HAL_SPI_Receive
ARM GAS  /tmp/ccHWpE7O.s 			page 194


     /tmp/ccHWpE7O.s:4947   .text.SPI_CloseRx_ISR:0000000000000000 $t
     /tmp/ccHWpE7O.s:4954   .text.SPI_CloseRx_ISR:0000000000000000 SPI_CloseRx_ISR
     /tmp/ccHWpE7O.s:5098   .text.SPI_RxISR_8BIT:0000000000000000 $t
     /tmp/ccHWpE7O.s:5182   .text.SPI_RxISR_8BIT:0000000000000058 $d
     /tmp/ccHWpE7O.s:5196   .text.SPI_RxISR_8BITCRC:0000000000000000 SPI_RxISR_8BITCRC
     /tmp/ccHWpE7O.s:5189   .text.SPI_RxISR_8BITCRC:0000000000000000 $t
     /tmp/ccHWpE7O.s:5234   .text.SPI_RxISR_16BIT:0000000000000000 $t
     /tmp/ccHWpE7O.s:5318   .text.SPI_RxISR_16BIT:0000000000000058 $d
     /tmp/ccHWpE7O.s:5332   .text.SPI_RxISR_16BITCRC:0000000000000000 SPI_RxISR_16BITCRC
     /tmp/ccHWpE7O.s:5325   .text.SPI_RxISR_16BITCRC:0000000000000000 $t
     /tmp/ccHWpE7O.s:5374   .text.SPI_CloseRxTx_ISR:0000000000000000 $t
     /tmp/ccHWpE7O.s:5381   .text.SPI_CloseRxTx_ISR:0000000000000000 SPI_CloseRxTx_ISR
     /tmp/ccHWpE7O.s:5586   .text.SPI_CloseRxTx_ISR:00000000000000f0 $d
     /tmp/ccHWpE7O.s:5592   .text.SPI_2linesTxISR_8BIT:0000000000000000 $t
     /tmp/ccHWpE7O.s:5685   .text.SPI_2linesRxISR_8BIT:0000000000000000 $t
     /tmp/ccHWpE7O.s:5774   .text.SPI_2linesRxISR_8BIT:0000000000000048 $d
     /tmp/ccHWpE7O.s:5786   .text.SPI_2linesRxISR_8BITCRC:0000000000000000 SPI_2linesRxISR_8BITCRC
     /tmp/ccHWpE7O.s:5779   .text.SPI_2linesRxISR_8BITCRC:0000000000000000 $t
     /tmp/ccHWpE7O.s:5833   .text.SPI_2linesTxISR_16BIT:0000000000000000 $t
     /tmp/ccHWpE7O.s:5917   .text.SPI_2linesRxISR_16BIT:0000000000000000 $t
     /tmp/ccHWpE7O.s:5995   .text.SPI_2linesRxISR_16BIT:0000000000000044 $d
     /tmp/ccHWpE7O.s:6007   .text.SPI_2linesRxISR_16BITCRC:0000000000000000 SPI_2linesRxISR_16BITCRC
     /tmp/ccHWpE7O.s:6000   .text.SPI_2linesRxISR_16BITCRC:0000000000000000 $t
     /tmp/ccHWpE7O.s:6049   .text.SPI_DMAReceiveCplt:0000000000000000 $t
     /tmp/ccHWpE7O.s:6225   .text.SPI_DMATransmitReceiveCplt:0000000000000000 $t
                     .debug_frame:0000000000000010 $d
                           .group:0000000000000000 wm4.0.04924adcfdc7a6cf00118bdef9d1ce8d
                           .group:0000000000000000 wm4.main.h.40.6fe808b6568aa38f66585b648d7167ef
                           .group:0000000000000000 wm4.stm32f1xx_hal_conf.h.52.96cb61986c8bfeb3a4fa629a7a7441f6
                           .group:0000000000000000 wm4.stm32f1xx.h.57.c2a10934f4c6830aeb7e4997f02806f1
                           .group:0000000000000000 wm4.stm32f103xb.h.56.66305a77cea9d5300aac997a78930076
                           .group:0000000000000000 wm4.stdintgcc.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:0000000000000000 wm4.core_cm3.h.74.7d5fecd6d4522d755d10a23d1542f805
                           .group:0000000000000000 wm4.cmsis_gcc.h.36.67d2dcde6a14ff518eedc1d545d89a76
                           .group:0000000000000000 wm4.core_cm3.h.175.a6c441adf1a05ce96eea3cf78e6687ab
                           .group:0000000000000000 wm4.stm32f103xb.h.619.382b3c85cac6f0350ee5bfaff32e1ebc
                           .group:0000000000000000 wm4.stm32f1xx.h.180.c0013e6ebd6ad07f67c298190b8eac92
                           .group:0000000000000000 wm4._newlib_version.h.4.3572908597b70d672d181fc7fc501c19
                           .group:0000000000000000 wm4.newlib.h.21.59901f4bf241ab46c63694665baa7297
                           .group:0000000000000000 wm4.features.h.22.5cdadbb3efe495d1c9e38350b8c376c7
                           .group:0000000000000000 wm4.config.h.219.65a553ab5bef5482f0d7880b0d33015e
                           .group:0000000000000000 wm4._ansi.h.23.9f8fcfa20193763fcf364fb91705c94b
                           .group:0000000000000000 wm4.stdio.h.31.7c0e28c411445f3f9c5b11accf882760
                           .group:0000000000000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:0000000000000000 wm4.stddef.h.187.2ff233552538c6ff9b8575ca8ea52cb3
                           .group:0000000000000000 wm4.cdefs.h.47.e658329a094974ebad41b40c60502de7
                           .group:0000000000000000 wm4.stddef.h.39.ec95e8feac892e292b69dc7ae75b0d64
                           .group:0000000000000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:0000000000000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:0000000000000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:0000000000000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:0000000000000000 wm4._types.h.183.c226d164ceca1f2ecb9ae9360c54a098
                           .group:0000000000000000 wm4.reent.h.17.23b059516345f8f5abfa01ddc379570f
                           .group:0000000000000000 wm4.types.h.40.e8c16e7ec36ba55f133d0616070e25fc
                           .group:0000000000000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:0000000000000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:0000000000000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
ARM GAS  /tmp/ccHWpE7O.s 			page 195


                           .group:0000000000000000 wm4._timeval.h.30.0e8bfd94e85db17dda3286ee81496fe6
                           .group:0000000000000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:0000000000000000 wm4.select.h.30.bbece7fa40993a78092dcc5805132560
                           .group:0000000000000000 wm4.types.h.69.ed3eae3cf73030a737515151ebcab7a1
                           .group:0000000000000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:0000000000000000 wm4.stdio.h.81.8188691c2279eac7a223caa50f6694b9
                           .group:0000000000000000 wm4.stm32f1xx_hal_def.h.77.f54bfbbe3e3696aae97b05a3f338caf7
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc.h.112.09261d6ad0eef5abae6b9147d0cf5cbf
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc_ex.h.40.bb785d717afc4d2d2b63a3608cb5a0c5
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc.h.1219.902328474751456408f7d18f6caace93
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio.h.40.f1cf5d2dd589e1675a9fcd6b008c2bb6
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio_ex.h.40.30d74584c89dcd3d86d10bdbbb06cc31
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio.h.281.b26a95114b989e6edaf48d72c8710b9d
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma.h.40.b1d5b41c58b583c31c61335e4c8e1bdd
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma_ex.h.40.7ac05bbf95f5a25a3f4a9b9c2a14f835
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma.h.427.daddf65c60854feb2dc9660a62f55b8c
                           .group:0000000000000000 wm4.stm32f1xx_hal_cortex.h.40.4f649a8bf316b7aa5d02077abd9b8999
                           .group:0000000000000000 wm4.stm32f1xx_hal_adc.h.40.3ad40e622f0cef64228eb182e4bbe00f
                           .group:0000000000000000 wm4.stm32f1xx_hal_adc_ex.h.40.3118796521817cc82626257e9c7ab79c
                           .group:0000000000000000 wm4.stm32f1xx_hal_flash.h.40.12aaef98e1fbb85e3a8f79f98532d04a
                           .group:0000000000000000 wm4.stm32f1xx_hal_flash_ex.h.40.ad66c77e153bc5a4a1d60e46727f4ae5
                           .group:0000000000000000 wm4.stm32f1xx_hal_pwr.h.40.ecccf9071314b0ab3f6ffcfd7c596e95
                           .group:0000000000000000 wm4.stm32f1xx_hal_spi.h.40.5dd367ee94b0bb430a3842862fe7d7da
                           .group:0000000000000000 wm4.stm32f1xx_hal_tim.h.40.ac3feb225ff72b119eeddfe8acac07a3
                           .group:0000000000000000 wm4.stm32f1xx_hal_tim_ex.h.40.9b926a51c24898708ad2e47fd5ff9d32
                           .group:0000000000000000 wm4.stm32f1xx_hal_uart.h.40.9914ca79b81d8b23b4e5425c156b0acd
                           .group:0000000000000000 wm4.stm32f1xx_hal.h.82.f2fd9c01c6f8c9e676a37d84eb9dc553

UNDEFINED SYMBOLS
SystemCoreClock
HAL_GetTick
HAL_DMA_Start_IT
HAL_DMA_Abort
HAL_DMA_Abort_IT
